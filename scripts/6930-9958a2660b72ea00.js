!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="49a43b88-f8ba-4286-af07-a37043fd7f84",e._sentryDebugIdIdentifier="sentry-dbid-49a43b88-f8ba-4286-af07-a37043fd7f84")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6930],{89938:function(e,t,r){"use strict";r(67455);var n=r(2265);let i=({src:e,alt:t,loading:r="lazy",size:i="small",className:o})=>n.createElement("img",{className:`cp-avatar cp-avatar-${i} ${null!=o?o:""}`,src:e,alt:t,loading:r});t.Z=i},36814:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});var n=r(68824),i=r(2265),o=r(61994);let a=({children:e,type:t="button",className:r,selected:a,showSelectedIcon:s=!0,...u})=>i.createElement("button",{type:t,className:(0,o.Z)("cp-chip",r),"aria-pressed":a,...u},i.createElement(i.Fragment,null,a&&s&&i.createElement(n.NO,{className:"check-icon"}),e)),s=i.createContext(null)},88514:function(e,t,r){"use strict";var n=r(2265);let i=({value:e,id:t,name:r,checked:i,disabled:o,onChange:a,label:s})=>n.createElement("label",{className:"cp-toggle"},n.createElement("input",{type:"checkbox",id:t,name:r,value:e,className:"cp-toggle-input",checked:i,disabled:o,onChange:a}),n.createElement("span",{className:"cp-toggle-control",hidden:!0}),s);t.Z=i},68824:function(e,t,r){"use strict";r.d(t,{D6:function(){return i},Ec:function(){return o},NO:function(){return a},bM:function(){return s},Fz:function(){return u},jb:function(){return l},AS:function(){return c},RG:function(){return f},Yd:function(){return d},WM:function(){return p},PS:function(){return h},vs:function(){return g},SC:function(){return y}});var n=r(2265),i=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41Z"})),o=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6-1.41 1.41Z"})),a=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2Z"})),s=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"})),u=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M16 9v10H8V9h8Zm-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1ZM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7Z"})),l=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 114 110",...e},n.createElement("g",{clipPath:"url(#a)"},n.createElement("path",{d:"M105.561 0H8.416C3.763 0 0 3.545 0 7.928v94.123C0 106.434 3.763 110 8.416 110h97.145c4.654 0 8.439-3.566 8.439-7.928V7.928C114 3.545 110.215 0 105.561 0Zm-71.74 93.736H16.9V41.228h16.922v52.508Zm-8.46-59.662c-5.433 0-9.82-4.232-9.82-9.453 0-5.22 4.387-9.453 9.82-9.453 5.41 0 9.796 4.232 9.796 9.453 0 5.2-4.386 9.453-9.796 9.453Zm71.784 59.662h-16.9V68.213c0-6.08-.111-13.922-8.795-13.922-8.794 0-10.13 6.639-10.13 13.492v25.953H44.441V41.228h16.21v7.176h.222c2.249-4.125 7.77-8.486 15.987-8.486 17.122 0 20.284 10.871 20.284 25.008v28.81Z"})),n.createElement("defs",null,n.createElement("clipPath",{id:"a"},n.createElement("path",{d:"M0 0h114v110H0z"})))),c=e=>n.createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M10 0C4.366 0 0 4.127 0 9.7c0 2.916 1.195 5.435 3.14 7.175.164.147.262.35.27.57l.055 1.778a.801.801 0 0 0 1.122.709l1.984-.876a.798.798 0 0 1 .534-.04c.911.252 1.883.384 2.895.384 5.634 0 10-4.126 10-9.7C20 4.127 15.634 0 10 0zm6.004 7.463-2.938 4.66a1.501 1.501 0 0 1-2.169.4l-2.336-1.752a.6.6 0 0 0-.722.002l-3.155 2.394c-.42.32-.972-.185-.688-.632l2.938-4.66a1.501 1.501 0 0 1 2.169-.4l2.336 1.752a.6.6 0 0 0 .722-.002l3.155-2.394c.42-.32.972.185.688.632z",clipRule:"evenodd",fillRule:"evenodd"})),f=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 96 960 960",...e},n.createElement("path",{d:"M38 896v-94q0-35 18-63.5t50-42.5q73-32 131.5-46T358 636q62 0 120 14t131 46q32 14 50.5 42.5T678 802v94H38Zm700 0v-94q0-63-32-103.5T622 633q69 8 130 23.5t99 35.5q33 19 52 47t19 63v94H738ZM358 575q-66 0-108-42t-42-108q0-66 42-108t108-42q66 0 108 42t42 108q0 66-42 108t-108 42Zm360-150q0 66-42 108t-108 42q-11 0-24.5-1.5T519 568q24-25 36.5-61.5T568 425q0-45-12.5-79.5T519 282q11-3 24.5-5t24.5-2q66 0 108 42t42 108ZM98 836h520v-34q0-16-9.5-31T585 750q-72-32-121-43t-106-11q-57 0-106.5 11T130 750q-14 6-23 21t-9 31v34Zm260-321q39 0 64.5-25.5T448 425q0-39-25.5-64.5T358 335q-39 0-64.5 25.5T268 425q0 39 25.5 64.5T358 515Zm0 321Zm0-411Z"})),d=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M11 15h2v2h-2v-2Zm0-8h2v6h-2V7Zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2ZM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Z"})),p=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M13.09 14.381h-2.182V8.935h2.182m0 9.803h-2.182V16.56h2.182M-.001 22.006H24L11.999 1.312l-12 20.694Z"})),h=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8-1.41-1.42ZM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Z"})),g=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M12 5.464A6.535 6.535 0 0 1 18.536 12a6.55 6.55 0 0 1-3.268 5.664v1.962a1.09 1.09 0 0 1-1.089 1.088H9.821a1.09 1.09 0 0 1-1.089-1.088v-1.962A6.55 6.55 0 0 1 5.464 12 6.535 6.535 0 0 1 12 5.464Zm2.179 16.34v1.089a1.09 1.09 0 0 1-1.089 1.09h-2.18a1.09 1.09 0 0 1-1.089-1.09v-1.089h4.358Zm6.535-10.894h3.269v2.18h-3.269v-2.18Zm-20.697 0h3.269v2.18H.017v-2.18ZM13.09.017v3.269h-2.18V.017h2.18ZM4.287 2.741l2.321 2.331-1.546 1.536-2.321-2.31 1.546-1.557Zm13.105 2.321 2.31-2.321 1.557 1.557-2.321 2.31-1.546-1.546Z"})),y=e=>n.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e},n.createElement("path",{d:"M2.084 11.91c-.001 1.746.457 3.452 1.329 4.955L2 22l5.279-1.378a9.987 9.987 0 0 0 4.759 1.206h.004c5.488 0 9.956-4.446 9.958-9.91a9.828 9.828 0 0 0-2.914-7.012A9.918 9.918 0 0 0 12.042 2c-5.49 0-9.956 4.445-9.959 9.91zm3.143 4.696-.197-.312a8.188 8.188 0 0 1-1.265-4.384c.001-4.541 3.714-8.236 8.28-8.236 2.21 0 4.288.859 5.851 2.415a8.168 8.168 0 0 1 2.422 5.828c-.002 4.542-3.714 8.237-8.276 8.237h-.004a8.295 8.295 0 0 1-4.212-1.148l-.303-.178-3.133.817.837-3.04z"}),n.createElement("path",{d:"M9.553 7.767c-.187-.413-.383-.42-.56-.428-.145-.006-.311-.006-.477-.006a.916.916 0 0 0-.663.31c-.229.248-.871.847-.871 2.066 0 1.219.891 2.396 1.016 2.562.124.165 1.721 2.746 4.25 3.739 2.102.825 2.53.66 2.986.62s1.472-.6 1.68-1.178c.207-.579.207-1.074.144-1.178-.062-.103-.228-.165-.477-.289-.249-.124-1.472-.723-1.7-.806-.228-.082-.394-.124-.56.124-.166.248-.642.806-.787.971-.146.166-.29.186-.54.062-.248-.124-1.05-.385-2-1.229-.74-.656-1.24-1.467-1.385-1.715-.145-.248-.015-.382.11-.506.111-.11.248-.289.373-.433.124-.145.165-.248.248-.414.083-.165.042-.31-.02-.433s-.546-1.35-.767-1.84",clipRule:"evenodd",fillRule:"evenodd"}))},58115:function(e,t,r){"use strict";r.d(t,{E:function(){return o}}),r(65146);var n=r(2265),i=r(61994);let o=({className:e,...t})=>n.createElement("progress",{className:(0,i.Z)("cp-progress",e),...t})},14256:function(e,t,r){"use strict";r.d(t,{T:function(){return g}});var n={};r.r(n),r.d(n,{brand:function(){return a},circle:function(){return s},container:function(){return u},indicator:function(){return l},large:function(){return c},medium:function(){return f},small:function(){return d},white:function(){return p}});var i=r(2265),o=r(81544);r(10811),r(61714);var a="LoadingIndicator_brand__6q3t218",s="LoadingIndicator_circle__6q3t217",u="LoadingIndicator_container__6q3t212",l="LoadingIndicator_indicator__6q3t213",c="LoadingIndicator_large__6q3t216",f="LoadingIndicator_medium__6q3t215",d="LoadingIndicator_small__6q3t214",p="LoadingIndicator_white__6q3t219",h=r(47108);let g=({size:e="medium",color:t="brand",className:r})=>{let{t:a}=(0,h.$G)("page-components-loadingIndicator");return i.createElement("div",{"aria-label":a("label"),className:(0,o.Z)(l,n[e],r)},i.createElement("svg",{className:u,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},i.createElement("circle",{className:(0,o.Z)(s,n[t]),cx:"24",cy:"24",r:"20"})))}},3632:function(e,t,r){"use strict";var n,i,o,a=r(2265),s=r(66831),u=r(63285);function l(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var c=l(a),f=l(s),d=a.createContext({optimizely:null,isServerSide:!1,timeout:0}),p=d.Consumer,h=d.Provider,g=function(e,t){return(g=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function y(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var v=function(){return(v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function m(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())})}function E(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function b(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function _(e,t){if(e.id!==t.id)return!1;var r=e.attributes||{},n=t.attributes||{},i=Object.keys(r),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0,s=i;a<s.length;a++){var u=s[a];if(r[u]!==n[u])return!1}return!0}function I(e){return"object"==typeof e&&null!==e?e:{}}function O(e,t){var r=I(e),n=I(t),i=Object.keys(r),o=Object.keys(n);return i.length===o.length&&i.every(function(e){return e in n&&r[e]===n[e]})}function R(e,t,r){return{enabled:!1,flagKey:e,ruleKey:null,variationKey:null,variables:{},reasons:[t],userContext:{id:r.id,attributes:r.attributes}}}function w(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)})}"function"==typeof SuppressedError&&SuppressedError;var S=(function(){function e(){this.observers=[]}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.subscribe=function(e,t){var r=this,n="key-".concat(Math.floor(1e5+999999*Math.random()));return this.observers.push({subscriptionId:n,key:e,callback:t}),function(){var e=r.observers.findIndex(function(e){return e.subscriptionId===n});e>=0&&r.observers.splice(e,1)}},e.prototype.notify=function(e){this.observers.filter(function(t){return t.key===e}).forEach(function(e){return e.callback()})},e})().getInstance(),T=f.getLogger("ReactSDK"),A={warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return T.log(f.enums.LOG_LEVEL.WARNING,w.apply(void 0,b([e],t,!1)))},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return T.log(f.enums.LOG_LEVEL.INFO,w.apply(void 0,b([e],t,!1)))},error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return T.log(f.enums.LOG_LEVEL.ERROR,w.apply(void 0,b([e],t,!1)))}};!function(e){e.TIMEOUT="TIMEOUT",e.NO_CLIENT="NO_CLIENT",e.USER_NOT_READY="USER_NOT_READY"}(i||(i={}));var N="react-sdk",L="3.2.2",U={id:null,attributes:{}},D=5e3,C=function(){function e(e){var t=this;this.userContext=null,this.onUserUpdateHandlers=[],this.isUserPromiseResolved=!1,this.isUserReady=!1,this.onForcedVariationsUpdateHandlers=[],this.forcedDecisionFlagKeys=new Set,this.isClientReady=!1,this.clientAndUserReadyPromiseFulfilled=!1,this.isUsingSdkKey=!1,this.user=v({},U),this.initialConfig=e;var r=v(v({},e),{clientEngine:N,clientVersion:L});this.userPromiseResolver=function(){};var n=new Promise(function(e){t.userPromiseResolver=e});if(this._client=f.createInstance(r),this.isClientReady=!!r.datafile,this.isUsingSdkKey=!!r.sdkKey,this._client){var o=this._client.onReady();this.clientAndUserReadyPromise=Promise.all([n,o]).then(function(e){var r=e[0],n=e[1];t.isClientReady=n.success,t.isUserReady=r.success;var i=t.isClientReady&&t.isUserReady;return t.clientAndUserReadyPromiseFulfilled=!0,{success:i,message:i?"Client and user are both ready.":"Client or user did not become ready."}})}else A.warn("Unable to resolve datafile and user information because Optimizely client failed to initialize."),this.clientAndUserReadyPromise=new Promise(function(e){e({success:!1,reason:i.NO_CLIENT,message:"Optimizely client failed to initialize."})})}return e.prototype.getUserWithOverrides=function(e,t){return{id:void 0===e?this.user.id:e,attributes:void 0===t?this.user.attributes:t}},e.prototype.getIsReadyPromiseFulfilled=function(){return this.clientAndUserReadyPromiseFulfilled},e.prototype.getIsUsingSdkKey=function(){return this.isUsingSdkKey},Object.defineProperty(e.prototype,"odpExplicitlyOff",{get:function(){var e;return null===(e=this.initialConfig.odpOptions)||void 0===e?void 0:e.disabled},enumerable:!1,configurable:!0}),e.prototype.onReady=function(e){var t,r=this;void 0===e&&(e={});var n=D;e&&void 0!==e.timeout&&(n=e.timeout);var o=new Promise(function(e){t=setTimeout(function(){e({success:!1,reason:i.TIMEOUT,message:"Failed to initialize before timeout",dataReadyPromise:r.clientAndUserReadyPromise})},n)});return Promise.race([this.clientAndUserReadyPromise,o]).then(function(e){return m(r,void 0,void 0,function(){return E(this,function(r){return clearTimeout(t),[2,e]})})})},e.prototype.getUserContext=function(){return this._client?this.userContext?this.userContext:(A.warn("Unable to get user context. User context not set."),null):(A.warn("Unable to get user context. Optimizely client not initialized."),null)},e.prototype.setCurrentUserContext=function(e){if(!this._client){A.warn("Unable to set user context for user ID ".concat(e.id,". Optimizely client not initialized."));return}if(!this.userContext){this.userContext=this._client.createUserContext(e.id||void 0,e.attributes);return}_(e,{id:this.userContext.getUserId(),attributes:this.userContext.getAttributes()})||(this.userContext=this._client.createUserContext(e.id||void 0,e.attributes))},e.prototype.makeUserContextInstance=function(e){return this._client?this.userContext&&_(e,this.user)?this.userContext:this._client.createUserContext(e.id||void 0,e.attributes):(A.warn("Unable to create user context for ".concat(e.id,". Optimizely client failed to initialize or not ready.")),null)},e.prototype.fetchQualifiedSegments=function(e){return m(this,void 0,void 0,function(){var t;return E(this,function(r){switch(r.label){case 0:if(!this.userContext)return[2,!1];if(this.odpExplicitlyOff||!(null===(t=this._client)||void 0===t?void 0:t.isOdpIntegrated()))return[2,!0];return[4,this.userContext.fetchQualifiedSegments(e)];case 1:return[2,r.sent()]}})})},e.prototype.setUser=function(e){return m(this,void 0,void 0,function(){var t,r,n,i,o=this;return E(this,function(a){switch(a.label){case 0:if(this.user={id:e.id||U.id,attributes:e.attributes||U.attributes},e.id!==U.id)return[3,2];return[4,null===(r=this._client)||void 0===r?void 0:r.onReady()];case 1:return a.sent(),this.setCurrentUserContext(e),this.user.id=(null===(n=this.userContext)||void 0===n?void 0:n.getUserId())||U.id,[3,4];case 2:return this.setCurrentUserContext(e),[4,null===(i=this._client)||void 0===i?void 0:i.onReady()];case 3:a.sent(),a.label=4;case 4:return[4,this.fetchQualifiedSegments()];case 5:return t=a.sent(),this.isUserPromiseResolved||(this.userPromiseResolver({success:t}),this.isUserPromiseResolved=!0),this.onUserUpdateHandlers.forEach(function(e){return e(o.user)}),[2]}})})},e.prototype.onUserUpdate=function(e){var t=this;return this.onUserUpdateHandlers.push(e),function(){var r=t.onUserUpdateHandlers.indexOf(e);r>-1&&t.onUserUpdateHandlers.splice(r,1)}},e.prototype.onForcedVariationsUpdate=function(e){var t=this;return this.onForcedVariationsUpdateHandlers.push(e),function(){var r=t.onForcedVariationsUpdateHandlers.indexOf(e);r>-1&&t.onForcedVariationsUpdateHandlers.splice(r,1)}},e.prototype.isReady=function(){return this.isClientReady},e.prototype.activate=function(e,t,r){if(!this._client)return A.warn('Unable to activate experiment "%s" because Optimizely client failed to initialize.',e),null;var n=this.getUserWithOverrides(t,r);return null===n.id?(A.info('Unable to activate experiment "%s" because User ID is not set',e),null):this._client.activate(e,n.id,n.attributes)},e.prototype.decide=function(e,t,r,n){if(void 0===t&&(t=[]),!this._client)return A.warn('Unable to evaluate feature "%s" because Optimizely client failed to initialize.',e),R(e,"Unable to evaluate flag ".concat(e," because Optimizely client failed to initialize."),this.user);var i=this.getUserWithOverrides(r,n);if(null===i.id)return A.info('Unable to evaluate feature "%s" because User ID is not set.',e),R(e,"Unable to evaluate flag ".concat(e," because User ID is not set."),i);var o=this.makeUserContextInstance(i);return o?v(v({},o.decide(e,t)),{userContext:{id:i.id,attributes:i.attributes}}):R(e,"Not Evaluating flag ".concat(e," because user id or attributes are not valid"),i)},e.prototype.decideForKeys=function(e,t,r,n){if(void 0===t&&(t=[]),!this._client)return A.warn("Unable to evaluate features for keys because Optimizely client failed to initialize."),{};var i=this.getUserWithOverrides(r,n);if(null===i.id)return A.info("Unable to evaluate features for keys because User ID is not set"),{};var o=this.makeUserContextInstance(i);return o?Object.entries(o.decideForKeys(e,t)).reduce(function(e,t){var r=t[0],n=t[1];return e[r]=v(v({},n),{userContext:{id:i.id||"",attributes:i.attributes}}),e},{}):{}},e.prototype.decideAll=function(e,t,r){if(void 0===e&&(e=[]),!this._client)return A.warn("Unable to evaluate all feature decisions because Optimizely client is not initialized."),{};var n=this.getUserWithOverrides(t,r);if(null===n.id)return A.info("Unable to evaluate all feature decisions because User ID is not set"),{};var i=this.makeUserContextInstance(n);return i?Object.entries(i.decideAll(e)).reduce(function(e,t){var r=t[0],i=t[1];return e[r]=v(v({},i),{userContext:{id:n.id||"",attributes:n.attributes}}),e},{}):{}},e.prototype.getVariation=function(e,t,r){if(!this._client)return A.warn('Unable to get variation for experiment "%s" because Optimizely client failed to initialize.',e),null;var n=this.getUserWithOverrides(t,r);return null===n.id?(A.info('Unable to get variation for experiment "%s" because User ID is not set',e),null):this._client.getVariation(e,n.id,n.attributes)},e.prototype.track=function(e,t,r,n){if(!this._client){A.warn('Unable to send tracking event "%s" because Optimizely client failed to initialize.',e);return}void 0!==t&&"string"!=typeof t&&(n=t,t=void 0,r=void 0);var i=this.getUserWithOverrides(t,r);if(null===i.id){A.info('Unable to send tracking event "%s" because User ID is not set',e);return}this._client.track(e,i.id,i.attributes,n)},e.prototype.setForcedDecision=function(e,t){if(!this.userContext){A.warn("Unable to set a forced decision because the user context has not been set yet.");return}this.userContext.setForcedDecision(e,t)&&(this.forcedDecisionFlagKeys.add(e.flagKey),S.notify(e.flagKey))},e.prototype.getForcedDecision=function(e){return this.userContext?this.userContext.getForcedDecision(e):(A.warn("Unable to get a forced decision because the user context has not been set yet."),null)},e.prototype.removeForcedDecision=function(e){if(!this.userContext)return A.warn("Unable to remove forced decisions because the user context has not been set yet."),!1;var t=this.userContext.removeForcedDecision(e);return t&&(this.forcedDecisionFlagKeys.delete(e.flagKey),S.notify(e.flagKey)),t},e.prototype.removeAllForcedDecisions=function(){if(!this.userContext)return A.warn("Unable to remove all forced decisions because the user context has not been set yet."),!1;var e=this.userContext.removeAllForcedDecisions();return e&&(this.forcedDecisionFlagKeys.forEach(function(e){return S.notify(e)}),this.forcedDecisionFlagKeys.clear()),e},e.prototype.isFeatureEnabled=function(e,t,r){if(!this._client)return A.warn('Unable to determine if feature "%s" is enabled because Optimizely client failed to initialize.',e),!1;var n=this.getUserWithOverrides(t,r);return null===n.id?(A.info('Unable to determine if feature "%s" is enabled because User ID is not set',e),!1):this._client.isFeatureEnabled(e,n.id,n.attributes)},e.prototype.getFeatureVariables=function(e,t,r){var n=this;if(!this._client)return A.warn('Unable to get feature variables for feature "%s" because Optimizely client failed to initialize.',e),{};var i=this.getUserWithOverrides(t,r),o=i.id;if(null===o)return A.warn('Unable to get feature variables for feature "%s" because User ID is not set',e),{};var a=i.attributes,s={},u=this._client.getOptimizelyConfig();if(!u)return A.warn('Unable to retrieve feature variables for feature "%s" because Optimizely client failed to initialize.',e),{};var l=u.featuresMap[e];return l?(Object.keys(l.variablesMap).forEach(function(t){var r=l.variablesMap[t];s[r.key]=n._client.getFeatureVariable(e,r.key,o,a)}),s):(A.info('Unable to retrieve feature variables for feature "%s" because config features map is not set',e),{})},e.prototype.getFeatureVariableString=function(e,t,r,n){if(!this._client)return A.warn('Unable to get feature variable string from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserWithOverrides(r,n);return null===i.id?(A.info('Unable to get feature variable string from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableString(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){if(!this._client)return A.warn('Unable to get feature variable boolean from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserWithOverrides(r,n);return null===i.id?(A.info('Unable to get feature variable boolean from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableBoolean(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableInteger=function(e,t,r,n){if(!this._client)return A.warn('Unable to get feature variable integer from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserWithOverrides(r,n);return null===i.id?(A.info('Unable to get feature variable integer from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableInteger(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableDouble=function(e,t,r,n){if(!this._client)return A.warn('Unable to get feature variable double from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserWithOverrides(r,n);return null===i.id?(A.info('Unable to get feature variable double from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableDouble(e,t,i.id,i.attributes)},e.prototype.getFeatureVariableJSON=function(e,t,r,n){if(!this._client)return A.warn('Unable to get feature variable JSON from feature "%s" because Optimizely client failed to initialize.',e),null;var i=this.getUserWithOverrides(r,n);return null===i.id?(A.info('Unable to get feature variable JSON from feature "%s" because User ID is not set',e),null):this._client.getFeatureVariableJSON(e,t,i.id,i.attributes)},e.prototype.getFeatureVariable=function(e,t,r,n){if(!this._client)return A.warn('Unable to get feature variable from feature "%s" because Optimizely client failed to initialize.',e,t),null;var i=this.getUserWithOverrides(r,n);return null===i.id?(A.info('Unable to get feature variable from feature "%s" because User ID is not set',e,t),null):this._client.getFeatureVariable(e,t,i.id,i.attributes)},e.prototype.getAllFeatureVariables=function(e,t,r){if(!this._client)return A.warn('Unable to get all feature variables from feature "%s" because Optimizely client failed to initialize.',e),{};var n=this.getUserWithOverrides(t,r);return null===n.id?(A.info('Unable to get all feature variables from feature "%s" because User ID is not set',e),{}):this._client.getAllFeatureVariables(e,n.id,n.attributes)},e.prototype.getEnabledFeatures=function(e,t){if(!this._client)return A.warn("Unable to get list of enabled features because Optimizely client failed to initialize."),[];var r=this.getUserWithOverrides(e,t);return null===r.id?(A.info("Unable to get list of enabled features because User ID is not set"),[]):this._client.getEnabledFeatures(r.id,r.attributes)},e.prototype.getForcedVariation=function(e,t){if(!this._client)return A.warn('Unable to get forced variation for experiment "%s" because Optimizely client failed to initialize.',e),null;var r=this.getUserWithOverrides(t);return null===r.id?(A.info('Unable to get forced variation for experiment "%s" because User ID is not set',e),null):this._client.getForcedVariation(e,r.id)},e.prototype.setForcedVariation=function(e,t,r){if(!this._client)return A.warn('Unable to set forced variation for experiment "%s" because Optimizely client failed to initialize.',e),!1;var n=null,i=null;if(2==arguments.length)i=t,n=this.getUserWithOverrides().id;else if(3==arguments.length){if(n=this.getUserWithOverrides(t).id,void 0===r)return!1;i=r}if(null===n)return A.warn('Unable to set forced variation for experiment "%s" because User ID is not set',e),!1;var o=this._client.setForcedVariation(e,n,i);return this.onForcedVariationsUpdateHandlers.forEach(function(e){return e()}),o},e.prototype.getOptimizelyConfig=function(){return this._client?this._client.getOptimizelyConfig():(A.warn("Unable to get Optimizely configuration because Optimizely client failed to initialize."),null)},e.prototype.close=function(){return this._client?this._client.close():new Promise(function(e,t){return e({success:!0,reason:"Optimizely client is not initialized."})})},Object.defineProperty(e.prototype,"client",{get:function(){return this._client?this._client:(A.warn("Unable to get client because Optimizely client failed to initialize."),null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"notificationCenter",{get:function(){return this._client?this._client.notificationCenter:{addNotificationListener:function(){return A.warn("Unable to add notification listener because Optimizely client failed to initialize."),0},removeNotificationListener:function(){return A.warn("Unable to remove notification listener because Optimizely client failed to initialize."),!1},clearAllNotificationListeners:function(){A.warn("Unable to clear all notification listeners because Optimizely client failed to initialize.")},clearNotificationListeners:function(){A.warn("Unable to clear notification listeners because Optimizely client failed to initialize.")}}},enumerable:!1,configurable:!0}),e.prototype.sendOdpEvent=function(e,t,r,n){var i;if(!e||!e.trim()){A.error("ODP action is not valid (cannot be empty).");return}null===(i=this.client)||void 0===i||i.sendOdpEvent(e,t,r,n)},e.prototype.getVuid=function(){if(!this._client){A.warn("Unable to get VUID because Optimizely client failed to initialize.");return}return this._client.getVuid()},e}();function x(e){return new C(e)}var P=s.getLogger("<OptimizelyProvider>"),M=function(e){function t(t){var r=e.call(this,t)||this;return r.setUserInOptimizely(),r}return y(t,e),t.prototype.setUserInOptimizely=function(){return m(this,void 0,void 0,function(){var e,t,r,n,i,o;return E(this,function(a){switch(a.label){case 0:if(t=(e=this.props).optimizely,r=e.userId,n=e.userAttributes,i=e.user,!t)return P.error("OptimizelyProvider must be passed an instance of the Optimizely SDK client"),[2];if(o=null,i?"then"in i?i.then(function(e){t.setUser(e)}):o={id:i.id,attributes:i.attributes||{}}:r?(o={id:r,attributes:n||{}},P.warn("Passing userId and userAttributes as props is deprecated, please switch to using `user` prop")):o={id:U.id,attributes:n||U.attributes},!o)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t.setUser(o)];case 2:return a.sent(),[3,4];case 3:return a.sent(),P.error("Error while trying to set user."),[3,4];case 4:return[2]}})})},t.prototype.componentDidUpdate=function(e){if(!e.isServerSide){var t=this.props.optimizely;this.props.user&&"id"in this.props.user&&(t.user.id&&_({id:t.user.id,attributes:t.user.attributes||{}},{id:this.props.user.id,attributes:this.props.user.attributes||{}})||t.setUser(this.props.user))}},t.prototype.render=function(){var e=this.props,t=e.optimizely,r=e.children,n=e.timeout,i={optimizely:t,isServerSide:!!this.props.isServerSide,timeout:n};return c.createElement(h,{value:i},r)},t}(c.Component),k=function(e,t,r,n,i){var o="re-evaluating ".concat(t,'="').concat(r,'" for user="').concat(e.user.id,'"'),a=e.notificationCenter.addNotificationListener(s.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE,function(){n.info("".concat(s.enums.NOTIFICATION_TYPES.OPTIMIZELY_CONFIG_UPDATE,", ").concat(o)),i()}),u=function(){return e.notificationCenter.removeNotificationListener(a)},l=e.onUserUpdate(function(){n.info("User update, ".concat(o)),i()});return function(){u(),l()}},F=s.getLogger("ReactSDK"),j="The 'optimizely' prop must be supplied via a parent <OptimizelyProvider>";function V(e,t){return e.entityKey===t.entityKey&&e.overrideUserId===t.overrideUserId&&O(e.overrideAttributes,t.overrideAttributes)}function B(e,t,r){e.onReady({timeout:t}).then(function(e){var n,o,a,s;if(e.success){F.info("Client immediately ready"),r({clientReady:!0,didTimeout:!1});return}switch(e.reason){case i.NO_CLIENT:F.warn('Client not ready, reason="'.concat(e.message,'"')),r({clientReady:!1,didTimeout:!1}),null===(n=e.dataReadyPromise)||void 0===n||n.then(function(e){if(e){var t=e.success,n=e.message;t?F.info("Client became ready."):F.warn('Client not ready, reason="'.concat(n,'"')),r({clientReady:t,didTimeout:!1})}});break;case i.USER_NOT_READY:F.warn('User was not ready, reason="'.concat(e.message,'"')),r({clientReady:!1,didTimeout:!1}),null===(o=e.dataReadyPromise)||void 0===o||o.then(function(e){if(e){var t=e.success,n=e.message;t?F.info("User became ready later."):F.warn('Client not ready, reason="'.concat(n,'"')),r({clientReady:t,didTimeout:!1})}});break;case i.TIMEOUT:F.info("Client did not become ready before timeout of ".concat(t,' ms, reason="').concat(e.message,'"')),r({clientReady:!1,didTimeout:!0}),null===(a=e.dataReadyPromise)||void 0===a||a.then(function(e){if(e){var t=e.success,n=e.message;t?F.info("Client became ready after timeout already elapsed"):F.warn('Client not ready, reason="'.concat(n,'"')),r({clientReady:t,didTimeout:!0})}});break;default:F.warn('Other reason client not ready, reason="'.concat(e.message,'"')),r({clientReady:!1,didTimeout:!1}),null===(s=e.dataReadyPromise)||void 0===s||s.then(function(e){if(e){var t=e.success,n=e.message;t?F.info("Client became ready later"):F.warn('Client not ready, reason="'.concat(n,'"')),r({clientReady:t,didTimeout:!1})}})}}).catch(function(){F.error("Error initializing client. The core client or user promise(s) rejected.")})}function G(e){var t=a.useRef();return O(e,t.current)||(t.current=e),t.current}!function(e){e.EXPERIMENT="Experiment",e.FEATURE="Feature"}(o||(o={}));var z=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=a.useContext(d),i=n.optimizely,s=n.isServerSide,u=n.timeout,l=G(r.overrideAttributes),c=a.useCallback(function(){return{variation:(null==i?void 0:i.activate(e,r.overrideUserId,l))||null}},[i,e,r.overrideUserId,l]),f=s||!!(null==i?void 0:i.isReady()),p=!!(null==i?void 0:i.getIsReadyPromiseFulfilled()),h=a.useState(function(){var e=f?c():{variation:null};return v(v({},e),{clientReady:f,didTimeout:!1})}),g=h[0],y=h[1],m={entityKey:e,overrideUserId:r.overrideUserId,overrideAttributes:l},E=a.useState(m),b=E[0],_=E[1];V(b,m)||(_(m),y(function(e){return v(v({},e),c())}));var I=void 0!==t.timeout?t.timeout:u;return a.useEffect(function(){i&&(i.getIsUsingSdkKey()&&!p||!f)&&B(i,I,function(e){y(v(v({},c()),e))})},[I,c,f,p,i]),a.useEffect(function(){return i&&p&&t.autoUpdate?k(i,o.EXPERIMENT,e,F,function(){y(function(e){return v(v({},e),c())})}):function(){}},[p,t.autoUpdate,i,e,c]),a.useEffect(function(){return null==i?void 0:i.onForcedVariationsUpdate(function(){y(function(e){return v(v({},e),c())})})},[c,i]),i||F.error("Unable to use experiment ".concat(e,". ").concat(j)),[g.variation,g.clientReady,g.didTimeout]},q=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=a.useContext(d),i=n.optimizely,s=n.isServerSide,u=n.timeout,l=G(r.overrideAttributes),c=a.useCallback(function(){return{isEnabled:!!(null==i?void 0:i.isFeatureEnabled(e,r.overrideUserId,l)),variables:(null==i?void 0:i.getFeatureVariables(e,r.overrideUserId,l))||{}}},[i,e,r.overrideUserId,l]),f=s||!!(null==i?void 0:i.isReady()),p=!!(null==i?void 0:i.getIsReadyPromiseFulfilled()),h=a.useState(function(){var e=f?c():{isEnabled:!1,variables:{}};return v(v({},e),{clientReady:f,didTimeout:!1})}),g=h[0],y=h[1],m={entityKey:e,overrideUserId:r.overrideUserId,overrideAttributes:r.overrideAttributes},E=a.useState(m),b=E[0],_=E[1];V(b,m)||(_(m),y(function(e){return v(v({},e),c())}));var I=void 0!==t.timeout?t.timeout:u;return a.useEffect(function(){i&&(i.getIsUsingSdkKey()||!f)&&B(i,I,function(e){y(v(v({},c()),e))})},[I,c,i]),a.useEffect(function(){return i&&p&&t.autoUpdate?k(i,o.FEATURE,e,F,function(){y(function(e){return v(v({},e),c())})}):function(){}},[p,t.autoUpdate,i,e,c]),i||F.error("Unable to properly use feature ".concat(e,". ").concat(j)),[g.isEnabled,g.variables,g.clientReady,g.didTimeout]},K=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r={});var n=a.useContext(d),i=n.optimizely,s=n.isServerSide,u=n.timeout,l=G(r.overrideAttributes),c=a.useMemo(function(){return R(e,"Optimizely SDK not configured properly yet.",{id:r.overrideUserId||null,attributes:l||{}})},[e,l,r.overrideUserId]),f=a.useCallback(function(){return{decision:(null==i?void 0:i.decide(e,t.decideOptions,r.overrideUserId,l))||c}},[e,c,i,t.decideOptions,l,r.overrideUserId]),p=s||!!(null==i?void 0:i.isReady()),h=!!(null==i?void 0:i.getIsReadyPromiseFulfilled()),g=a.useState(function(){var e=p?f():{decision:c};return v(v({},e),{clientReady:p,didTimeout:!1})}),y=g[0],m=g[1],E={entityKey:e,overrideUserId:r.overrideUserId,overrideAttributes:r.overrideAttributes},b=a.useState(E),_=b[0],I=b[1];V(_,E)||(I(E),m(function(e){return v(v({},e),f())}));var O=void 0!==t.timeout?t.timeout:u;return a.useEffect(function(){i&&(i.getIsUsingSdkKey()||!p)&&B(i,O,function(e){m(v(v({},f()),e))})},[O,f,i]),a.useEffect(function(){if(!r.overrideUserId&&!r.overrideAttributes&&t.autoUpdate)return S.subscribe(e,function(){m(function(e){return v(v({},e),f())})})},[r.overrideUserId,r.overrideAttributes,t.autoUpdate,e,f]),a.useEffect(function(){return i&&h&&t.autoUpdate?k(i,o.FEATURE,e,F,function(){m(function(e){return v(v({},e),f())})}):function(){}},[h,t.autoUpdate,i,e,f]),i||F.error("Unable to use decision ".concat(e,". ").concat(j)),[y.decision,y.clientReady,y.didTimeout]},H=function(){var e=a.useContext(d),t=e.optimizely,r=e.isServerSide,n=e.timeout,i=r||!!(null==t?void 0:t.isReady()),o=a.useCallback(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(!t){F.error("Unable to track events. ".concat(j));return}if(!i){F.error("Unable to track events. Optimizely client is not ready yet.");return}t.track.apply(t,e)},[t,i]),s=a.useState(function(){return{clientReady:i,didTimeout:!1}}),u=s[0],l=s[1];return a.useEffect(function(){t&&(t.getIsUsingSdkKey()||!i)&&B(t,n,function(e){l(e)})},[t,n]),[o,u.clientReady,u.didTimeout]},W=function(e){var t=e.feature,r=e.timeout,n=e.autoUpdate,i=e.children,o=q(t,{timeout:r,autoUpdate:n},{overrideUserId:e.overrideUserId,overrideAttributes:e.overrideAttributes}),a=o[0],s=o[1],u=o[2],l=o[3];return u||l?c.createElement(c.Fragment,null,i(a,s,u,l)):null},Y=function(e){var t=e.experiment,r=e.autoUpdate,n=e.timeout,i=e.overrideUserId,o=e.overrideAttributes,a=e.children,s=z(t,{timeout:n,autoUpdate:r},{overrideUserId:i,overrideAttributes:o}),u=s[0],l=s[1],f=s[2];if(!l&&!f)return null;if(null!=a&&"function"==typeof a)return c.createElement(c.Fragment,null,a(u,l,f));var d=null,p=null;c.Children.forEach(a,function(e){c.isValidElement(e)&&(e.props.variation&&u===e.props.variation&&(p=e),e.props.default&&(d=e))});var h=null;return p?h=p:d&&(h=d),h},Z=function(e){var t=e.children;return c.createElement(c.Fragment,null,t)},X=s.getLogger("ReactSDK"),$={dispatchEvent:function(e,t){X.debug("Event not dispatched by disabled event dispatcher: %s",function(){var t;try{t=JSON.stringify(e)}catch(e){t="error stringifying event"}return t}),t({statusCode:204})}};n={enumerable:!0,get:function(){return s.OptimizelyDecideOption}},n={enumerable:!0,get:function(){return s.OptimizelySegmentOption}},Object.defineProperty(t,"kE",{enumerable:!0,get:function(){return s.enums}}),n={enumerable:!0,get:function(){return s.errorHandler}},n={enumerable:!0,get:function(){return s.eventDispatcher}},n={enumerable:!0,get:function(){return s.logging}},n={enumerable:!0,get:function(){return s.setLogLevel}},n={enumerable:!0,get:function(){return s.setLogger}},t.hl=d,n=p,n=h,n=Y,n=W,t.dH=M,n=Z,t.Fs=x,n=$,t.rm=K,n=z,n=q,t.Ke=H},66831:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(58890),o=r(33227),a=(n=r(81288))&&"object"==typeof n&&"default"in n?n.default:n,s=r(62061),u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function l(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}function p(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var h=new(function(){function e(){}return e.prototype.handleError=function(e){},e}());function g(){return h}var y=9007199254740992;function v(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,p([e],t,!1));for(var n=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n}function m(e,t){return e?w(e,function(e){return e[t]}):{}}function E(){return i.v4()}function b(){return(new Date).getTime()}function _(e,t){for(var r=!1,n=Object.keys(e),i=0;i<n.length;i++)if(t===e[n[i]]){r=!0;break}return r}function I(e){return Object.keys(e).map(function(t){return e[t]})}function O(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function R(e,t){for(var r,n=0,i=e;n<i.length;n++){var o=i[n];if(t(o)){r=o;break}}return r}function w(e,t){var r={};return e.forEach(function(e){r[t(e)]=e}),r}function S(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)})}function T(e,t){return e.length===t.length&&e.every(function(e,r){return e===t[r]})}var A,N={assign:v,currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=y},uuid:E,isNumber:function(e){return"number"==typeof e}};(A=t.LogLevel||(t.LogLevel={}))[A.NOTSET=0]="NOTSET",A[A.DEBUG=1]="DEBUG",A[A.INFO=2]="INFO",A[A.WARNING=3]="WARNING",A[A.ERROR=4]="ERROR";var L={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function U(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),L[e]?L[e]:e)}var D=function(){function e(){this.defaultLoggerFacade=new M,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new M({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),C=function(){function e(e){void 0===e&&(e={}),this.logLevel=t.LogLevel.NOTSET,void 0!==e.logLevel&&_(t.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var r="".concat(this.prefix," - ").concat(this.getLogLevelName(e)," ").concat(this.getTime()," ").concat(t);this.consoleLog(e,[r])}},e.prototype.setLogLevel=function(e){e=U(e),_(t.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=t.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case t.LogLevel.DEBUG:return"DEBUG";case t.LogLevel.INFO:return"INFO ";case t.LogLevel.WARNING:return"WARN ";case t.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,r){switch(e){case t.LogLevel.DEBUG:console.log.apply(console,r);break;case t.LogLevel.INFO:console.info.apply(console,r);break;case t.LogLevel.WARNING:console.warn.apply(console,r);break;case t.LogLevel.ERROR:console.error.apply(console,r);break;default:console.log.apply(console,r)}},e}(),x=t.LogLevel.NOTSET,P=null,M=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.internalLog(U(e),{message:t,splat:r})},e.prototype.info=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.namedLog(t.LogLevel.INFO,e,r)},e.prototype.debug=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.namedLog(t.LogLevel.DEBUG,e,r)},e.prototype.warn=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.namedLog(t.LogLevel.WARNING,e,r)},e.prototype.error=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.namedLog(t.LogLevel.ERROR,e,r)},e.prototype.format=function(e){return"".concat(this.messagePrefix?this.messagePrefix+": ":"").concat(S.apply(void 0,p([e.message],e.splat,!1)))},e.prototype.internalLog=function(e,t){P&&(e<x||(P.log(e,this.format(t)),t.error&&t.error instanceof Error&&g().handleError(t.error)))},e.prototype.namedLog=function(e,t,r){var n;if(t instanceof Error)return t=(n=t).message,void this.internalLog(e,{error:n,message:t,splat:r});if(0!==r.length){var i=r[r.length-1];i instanceof Error&&(n=i,r.splice(-1)),this.internalLog(e,{message:t,error:n,splat:r})}else this.internalLog(e,{message:t,splat:r})},e}(),k=new D;function F(e){return k.getLogger(e)}function j(e){P=e}var V={setLogLevel:function(e){e=U(e),x=_(t.LogLevel,e)&&void 0!==e?e:t.LogLevel.ERROR},setLogHandler:j};function B(e,t){var r=e.context,n=t.context;return r.accountId===n.accountId&&r.projectId===n.projectId&&r.clientName===n.clientName&&r.clientVersion===n.clientVersion&&r.revision===n.revision&&r.anonymizeIP===n.anonymizeIP&&r.botFiltering===n.botFiltering}var G,z=F("EventProcessor"),q=function(){function e(e){var t=e.timeout,r=e.callback;this.timeout=Math.max(t,0),this.callback=r}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),K=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){return Promise.resolve()},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}(),H=function(){function e(e){var t=e.flushInterval,r=e.maxQueueSize,n=e.sink,i=e.closingSink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(r,1),this.sink=n,this.closingSink=i,this.batchComparator=o,this.timer=new q({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){return this.started=!0,Promise.resolve()},e.prototype.stop=function(){this.started=!1;var e=this.closingSink?this.closingSink(this.buffer):this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else z.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}(),W={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},Y={BROWSER_ODP_MANAGER_INITIALIZATION_FAILED:"%s: Error initializing Browser ODP Manager.",CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",FETCH_SEGMENTS_FAILED_NETWORK_ERROR:"%s: Audience segments fetch failed. (network error)",FETCH_SEGMENTS_FAILED_DECODE_ERROR:"%s: Audience segments fetch failed. (decode error)",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",LOCAL_STORAGE_DOES_NOT_EXIST:"Error accessing window localStorage.",MISSING_INTEGRATION_KEY:"%s: Integration key missing from datafile. All integrations should include a key.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",ODP_CONFIG_NOT_AVAILABLE:"%s: ODP is not integrated to the project.",ODP_EVENT_FAILED:"ODP event send failed.",ODP_FETCH_QUALIFIED_SEGMENTS_SEGMENTS_MANAGER_MISSING:"%s: ODP unable to fetch qualified segments (Segments Manager not initialized).",ODP_IDENTIFY_FAILED_EVENT_MANAGER_MISSING:"%s: ODP identify event %s is not dispatched (Event Manager not instantiated).",ODP_INITIALIZATION_FAILED:"%s: ODP failed to initialize.",ODP_INVALID_DATA:"%s: ODP data is not valid",ODP_EVENT_FAILED_ODP_MANAGER_MISSING:"%s: ODP Event failed to send. (ODP Manager not initialized).",ODP_FETCH_QUALIFIED_SEGMENTS_FAILED_ODP_MANAGER_MISSING:"%s: ODP failed to Fetch Qualified Segments. (ODP Manager not initialized).",ODP_IDENTIFY_USER_FAILED_ODP_MANAGER_MISSING:"%s: ODP failed to Identify User. (ODP Manager not initialized).",ODP_IDENTIFY_USER_FAILED_USER_CONTEXT_INITIALIZATION:"%s: ODP failed to Identify User. (Failed during User Context Initialization).",ODP_MANAGER_UPDATE_SETTINGS_FAILED_EVENT_MANAGER_MISSING:"%s: ODP Manager failed to update OdpConfig settings for internal event manager. (Event Manager not initialized).",ODP_MANAGER_UPDATE_SETTINGS_FAILED_SEGMENTS_MANAGER_MISSING:"%s: ODP Manager failed to update OdpConfig settings for internal segments manager. (Segments Manager not initialized).",ODP_NOT_ENABLED:"ODP is not enabled",ODP_NOT_INTEGRATED:"%s: ODP is not integrated",ODP_SEND_EVENT_FAILED_EVENT_MANAGER_MISSING:"%s: ODP send event %s was not dispatched (Event Manager not instantiated).",ODP_SEND_EVENT_FAILED_UID_MISSING:"%s: ODP send event %s was not dispatched (No valid user identifier provided).",ODP_SEND_EVENT_FAILED_VUID_MISSING:"%s: ODP send event %s was not dispatched (Unable to fetch VUID).",ODP_VUID_INITIALIZATION_FAILED:"%s: ODP VUID initialization failed.",ODP_VUID_REGISTRATION_FAILED:"%s: ODP VUID failed to be registered.",ODP_VUID_REGISTRATION_FAILED_EVENT_MANAGER_MISSING:"%s: ODP register vuid failed. (Event Manager not instantiated).",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},Z={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",ODP_DISABLED:"ODP Disabled.",ODP_IDENTIFY_FAILED_ODP_DISABLED:"%s: ODP identify event for user %s is not dispatched (ODP disabled).",ODP_IDENTIFY_FAILED_ODP_NOT_INTEGRATED:"%s: ODP identify event %s is not dispatched (ODP not integrated).",ODP_SEND_EVENT_IDENTIFIER_CONVERSION_FAILED:"%s: sendOdpEvent failed to parse through and convert fs_user_id aliases",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},X={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},$={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},J={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},Q={RULE:"rule",EXPERIMENT:"experiment"},ee={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},et={V2:"2",V3:"3",V4:"4"},er={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};(function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"})(G||(G={})),function(e){e.VUID="vuid",e.FS_USER_ID="fs_user_id"}(eA||(eA={})),function(e){e.IDENTIFIED="identified",e.INITIALIZED="client_initialized"}(eN||(eN={}));var en=Object.freeze({__proto__:null,LOG_LEVEL:W,ERROR_MESSAGES:Y,LOG_MESSAGES:Z,CONTROL_ATTRIBUTES:X,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",CLIENT_VERSION:"5.3.4",DECISION_NOTIFICATION_TYPES:$,DECISION_SOURCES:J,AUDIENCE_EVALUATION_TYPES:Q,FEATURE_VARIABLE_TYPES:ee,DATAFILE_VERSIONS:et,DECISION_MESSAGES:er,get NOTIFICATION_TYPES(){return G},REQUEST_TIMEOUT_MS:6e4,REQUEST_TIMEOUT_ODP_SEGMENTS_MS:1e4,REQUEST_TIMEOUT_ODP_EVENTS_MS:1e4,get ODP_USER_KEY(){return eA},FS_USER_ID_ALIAS:"fs-user-id",ODP_DEFAULT_EVENT_TYPE:"fullstack",get ODP_EVENT_ACTION(){return eN}}),ei=F("EventProcessor"),eo=F("EventProcessor"),ea=function(){function e(e){var t=e.key,r=e.maxValues,n=void 0===r?1e3:r;this.LS_KEY=t,this.maxValues=n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var r=this.getMap();r[e]=t,this.replace(r)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return I(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{"undefined"!=typeof window?window&&window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)):localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){eo.error(String(e))}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),r=t.length-this.maxValues;if(!(r<1)){var n=t.map(function(t){return{key:t,value:e[t]}});n.sort(function(e,t){return e.value.timestamp-t.value.timestamp});for(var i=0;i<r;i++)delete e[n[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e="undefined"!=typeof window?window&&window.localStorage&&localStorage.getItem(this.LS_KEY):localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){eo.error(e)}return{}},e}(),es=F("EventProcessor"),eu=function(e){function t(t){var r=t.eventDispatcher;return e.call(this,{eventDispatcher:r,store:new ea({maxValues:100,key:"fs_optly_pending_events"})})||this}return l(t,e),t}(function(){function e(e){var t=e.eventDispatcher,r=e.store;this.dispatcher=t,this.store=r}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:E(),timestamp:b(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();es.debug("Sending %s pending events from previous page",t.length),t.forEach(function(t){try{e.send(t,function(){})}catch(e){es.debug(String(e))}})},e.prototype.send=function(e,t){var r=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(n){r.store.remove(e.uuid),t(n)})},e}());function el(e){var t=[],r=e[0];return e.forEach(function(e){if("conversion"===e.type||"impression"===e.type){var r=function(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach(function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})}),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:"$opt_bot_filtering",key:"$opt_bot_filtering",type:"custom",value:e.context.botFiltering}),t}(e);"impression"===e.type?r.snapshots.push(function(e){var t,r,n=e.layer,i=e.experiment,o=e.variation,a=e.ruleKey,s=e.flagKey,u=e.ruleType,l=e.enabled,c=n?n.id:null;return{decisions:[{campaign_id:c,experiment_id:null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"",variation_id:null!==(r=null==o?void 0:o.id)&&void 0!==r?r:"",metadata:{flag_key:s,rule_key:a,rule_type:u,variation_key:o?o.key:"",enabled:l}}],events:[{entity_id:c,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}(e)):"conversion"===e.type&&r.snapshots.push(function(e){var t=c({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}(e)),t.push(r)}}),{client_name:r.context.clientName,client_version:r.context.clientVersion,account_id:r.context.accountId,project_id:r.context.projectId,revision:r.context.revision,anonymize_ip:r.context.anonymizeIP,enrich_decisions:!0,visitors:t}}var ec=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var r=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach(function(e){return e()}),t.reqsCompleteResolvers=[])};e.then(r,r)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)})},e}(),ef=F("LogTierV1EventProcessor"),ed=function(){function e(e){var t=e.dispatcher,r=e.closingDispatcher,n=e.flushInterval,i=void 0===n?3e4:n,o=e.batchSize,a=void 0===o?10:o,s=e.notificationCenter;this.dispatcher=t,this.closingDispatcher=r,this.notificationCenter=s,this.requestTracker=new ec,i=function(e){return e<=0&&(ei.warn("Invalid flushInterval ".concat(e,", defaulting to ").concat(3e4)),e=3e4),e}(i),a=function(e){return(e=Math.floor(e))<1&&(ei.warn("Invalid batchSize ".concat(e,", defaulting to ").concat(10)),e=10),e=Math.max(1,e)}(a),this.queue=function(e,t,r,n,i){return e>1?new H({flushInterval:t,maxQueueSize:e,sink:n,closingSink:i,batchComparator:r}):new K({sink:n})}(a,i,B,this.drainQueue.bind(this,!1),this.drainQueue.bind(this,!0))}return e.prototype.drainQueue=function(e,t){var r=this,n=new Promise(function(n){if(ef.debug("draining queue with %s events",t.length),0!==t.length){var i,o,a={url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:el(t)};(e&&r.closingDispatcher?r.closingDispatcher:r.dispatcher).dispatchEvent(a,function(){n()}),i=r.notificationCenter,o=a,i&&i.sendNotifications(G.LOG_EVENT,o)}else n()});return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){ef.error('Error stopping EventProcessor: "%s"',Object(e).message,String(e))}return Promise.resolve()},e.prototype.start=function(){return f(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return[4,this.queue.start()];case 1:return e.sent(),[2]}})})},e}(),ep="CONFIG_VALIDATOR",eh=[et.V2,et.V3,et.V4],eg=function(e){if("object"==typeof e&&null!==e){var t=e,r=t.errorHandler,n=t.eventDispatcher,i=t.logger;if(r&&"function"!=typeof r.handleError)throw Error(S(Y.INVALID_ERROR_HANDLER,ep));if(n&&"function"!=typeof n.dispatchEvent)throw Error(S(Y.INVALID_EVENT_DISPATCHER,ep));if(i&&"function"!=typeof i.log)throw Error(S(Y.INVALID_LOGGER,ep));return!0}throw Error(S(Y.INVALID_CONFIG,ep))},ey=function(e){if(!e)throw Error(S(Y.NO_DATAFILE_SPECIFIED,ep));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw Error(S(Y.INVALID_DATAFILE_MALFORMED,ep))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===eh.indexOf(e.version))throw Error(S(Y.INVALID_DATAFILE_VERSION,ep,e.version));return e},ev={handleError:function(){}},em=function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},eE={dispatchEvent:function(e,t){var r,n=e.params,i=e.url;"POST"===e.httpVerb?((r=new XMLHttpRequest).open("POST",i,!0),r.setRequestHeader("Content-Type","application/json"),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send(JSON.stringify(n))):(i+="?wxhr=true",n&&(i+="&"+em(n)),(r=new XMLHttpRequest).open("GET",i,!0),r.onreadystatechange=function(){if(4===r.readyState&&t&&"function"==typeof t)try{t({statusCode:r.status})}catch(e){}},r.send())}},eb={dispatchEvent:function(e,t){var r=e.params,n=e.url,i=new Blob([JSON.stringify(r)],{type:"application/json"});t({statusCode:navigator.sendBeacon(n,i)?200:500})}},e_=function(){function e(){}return e.prototype.log=function(){},e}();function eI(e){return new C(e)}var eO=Object.freeze({__proto__:null,NoOpLogger:e_,createLogger:eI,createNoOpLogger:function(){return new e_}}),eR=function(e){return!("number"!=typeof e||!N.isSafeInteger(e))&&e>=1},ew=function(e){return!("number"!=typeof e||!N.isSafeInteger(e))&&e>0},eS=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},I(G).forEach(function(e){t.notificationListeners[e]=[]}),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(I(G).indexOf(e)>-1))return -1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var r=!1;if((this.notificationListeners[e]||[]).forEach(function(e){e.callback!==t||(r=!0)}),r)return -1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var n=this.listenerId;return this.listenerId+=1,n}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t,r,n=this;try{if(Object.keys(this.notificationListeners).some(function(i){return(n.notificationListeners[i]||[]).every(function(n,o){return n.id!==e||(t=o,r=i,!1)}),void 0!==t&&void 0!==r}),void 0!==t&&void 0!==r)return this.notificationListeners[r].splice(t,1),!0}catch(e){this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{I(G).forEach(function(t){e.notificationListeners[t]=[]})}catch(e){this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var r=this;try{(this.notificationListeners[e]||[]).forEach(function(n){var i=n.callback;try{i(t)}catch(t){r.logger.log(W.ERROR,Z.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}})}catch(e){this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e)}},e}();function eT(e){return new eS(e)}var eA,eN,eL,eU,eD,eC={createEventProcessor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(ed.bind.apply(ed,p([void 0],e,!1)))}};(eL=t.OptimizelySegmentOption||(t.OptimizelySegmentOption={})).IGNORE_CACHE="IGNORE_CACHE",eL.RESET_CACHE="RESET_CACHE",function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(eU||(eU={})),(eD=t.OptimizelyDecideOption||(t.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",eD.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",eD.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",eD.INCLUDE_REASONS="INCLUDE_REASONS",eD.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var ex="Polling intervals below ".concat(30," seconds are not recommended."),eP=[0,8,16,32,64,128,256,512],eM=F("DatafileManager");function ek(e,t){var r=new XMLHttpRequest;return{responsePromise:new Promise(function(n,i){r.open("GET",e,!0),function(e,t){Object.keys(e).forEach(function(r){var n=e[r];t.setRequestHeader(r,n)})}(t,r),r.onreadystatechange=function(){if(4===r.readyState){if(0===r.status)return void i(Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var r=t.split("\r\n"),n={};return r.forEach(function(e){var t=e.indexOf(": ");if(t>-1){var r=e.slice(0,t),i=e.slice(t+2);i.length>0&&(n[r]=i)}}),n}(r);n({statusCode:r.status,body:r.responseText,headers:e})}},r.timeout=6e4,r.ontimeout=function(){eM.error("Request timed out")},r.send()}),abort:function(){r.abort()}}}var eF=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var r=this;this.listeners[e]||(this.listeners[e]={});var n=String(this.listenerId);return this.listenerId++,this.listeners[e][n]=t,function(){r.listeners[e]&&delete r.listeners[e][n]}},e.prototype.emit=function(e,t){var r=this.listeners[e];r&&Object.keys(r).forEach(function(e){(0,r[e])(t)})},e.prototype.removeAllListeners=function(){this.listeners={}},e}(),ej=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*eP[Math.min(eP.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<eP.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}(),eV=function(){function e(){}return e.getNotificationCenter=function(e,r){var n;if(void 0===r&&(r=F()),e)return this._notificationCenters.has(e)?n=this._notificationCenters.get(e):(n=eT({logger:r,errorHandler:{handleError:function(){}}}),this._notificationCenters.set(e,n)),n;r.log(t.LogLevel.ERROR,"No SDK key provided to getNotificationCenter.")},e.removeNotificationCenter=function(e){if(e){var t=this._notificationCenters.get(e);t&&(t.clearAllNotificationListeners(),this._notificationCenters.delete(e))}},e._notificationCenters=new Map,e}(),eB=F("DatafileManager");function eG(e){return e>=200&&e<400}var ez={get:function(){return Promise.resolve(void 0)},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve(!1)}},eq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.makeGetRequest=function(e,t){return ek(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(function(){function e(e){var t=this,r=c(c({},this.getConfigDefaults()),e),n=r.datafile,i=r.autoUpdate,o=void 0!==i&&i,a=r.sdkKey,s=r.updateInterval,u=void 0===s?3e5:s,l=r.urlTemplate,f=void 0===l?"https://cdn.optimizely.com/datafiles/%s.json":l,d=r.cache,p=void 0===d?ez:d;this.cache=p,this.cacheKey="opt-datafile-"+a,this.sdkKey=a,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(e,r){t.readyPromiseResolver=e,t.readyPromiseRejecter=r}),n?(this.currentDatafile=n,a||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=S(f,a),this.emitter=new eF,this.autoUpdate=o,this.updateInterval=u,this.updateInterval<3e4&&eB.warn(ex),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new ej,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(eB.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return eB.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?eB.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?eB.error("Error fetching datafile: %s",e):eB.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){var t;if(this.isStarted){void 0!==e.statusCode&&eG(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var r=this.getNextDatafileFromResponse(e);if(""!==r){if(eB.info("Updating datafile from response"),this.currentDatafile=r,this.cache.set(this.cacheKey,r),this.isReadyPromiseSettled){var n={datafile:r};null===(t=eV.getNotificationCenter(this.sdkKey,eB))||void 0===t||t.sendNotifications(G.OPTIMIZELY_CONFIG_UPDATE),this.emitter.emit("update",n)}else this.resolveReadyPromise()}}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),eB.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(t)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var r=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then(function(t){e.onRequestResolved(t)},function(t){e.onRequestRejected(t)}).then(r,r),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=Math.max(this.backoffController.getDelay(),this.updateInterval);eB.debug("Scheduling sync in %s ms",t),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},t)},e.prototype.getNextDatafileFromResponse=function(e){return eB.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode?"":eG(e.statusCode)?e.body:(eB.error("Datafile fetch request failed with status: ".concat(e.statusCode)),"")},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,eB.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(t){e.isStarted&&!e.isReadyPromiseSettled&&t&&(eB.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())})},e}()),eK=function(){function e(e,t,r,n){this.apiKey=e,this.apiHost=t,this.pixelUrl=r,this.segmentsToCheck=n}return e.prototype.equals=function(e){return this.apiHost===e.apiHost&&this.apiKey===e.apiKey&&this.pixelUrl===e.pixelUrl&&T(this.segmentsToCheck,e.segmentsToCheck)},e}(),eH="PROJECT_CONFIG",eW=function(e,t){void 0===t&&(t=null);var r,n,i,o,a=((o=v({},r=e)).audiences=(r.audiences||[]).map(function(e){return v({},e)}),o.experiments=(r.experiments||[]).map(function(e){return v({},e)}),o.featureFlags=(r.featureFlags||[]).map(function(e){return v({},e)}),o.groups=(r.groups||[]).map(function(e){var t=v({},e);return t.experiments=(e.experiments||[]).map(function(e){return v({},e)}),t}),o.rollouts=(r.rollouts||[]).map(function(e){var t=v({},e);return t.experiments=(e.experiments||[]).map(function(e){return v({},e)}),t}),o.environmentKey=null!==(n=r.environmentKey)&&void 0!==n?n:"",o.sdkKey=null!==(i=r.sdkKey)&&void 0!==i?i:"",o);a.__datafileStr=null===t?JSON.stringify(e):t,(a.audiences||[]).forEach(function(e){e.conditions=JSON.parse(e.conditions)}),a.audiencesById=m(a.audiences,"id"),v(a.audiencesById,m(a.typedAudiences,"id")),a.attributeKeyMap=m(a.attributes,"key"),a.eventKeyMap=m(a.events,"key"),a.groupIdMap=m(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach(function(e){(a.groupIdMap[e].experiments||[]).forEach(function(t){a.experiments.push(v(t,{groupId:e}))})}),a.rolloutIdMap=m(a.rollouts||[],"id"),I(a.rolloutIdMap||{}).forEach(function(e){(e.experiments||[]).forEach(function(e){a.experiments.push(e),e.variationKeyMap=m(e.variations,"key")})});var s=new Set;Object.keys(a.audiencesById).map(function(e){return eY(a.audiencesById[e])}).forEach(function(e){e.forEach(function(e){s.add(e)})});var u=Array.from(s),l=!1,c="",f="",d="";return a.integrations&&(a.integrationKeyMap=m(a.integrations,"key"),a.integrations.forEach(function(e){if(!("key"in e))throw Error(S(Y.MISSING_INTEGRATION_KEY,eH));"odp"===e.key&&(l=!0,f=f||e.publicKey||"",c=c||e.host||"",d=d||e.pixelUrl||"")})),a.odpIntegrationConfig=l?{integrated:!0,odpConfig:new eK(f,c,d,u)}:{integrated:!1},a.experimentKeyMap=m(a.experiments,"key"),a.experimentIdMap=m(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach(function(e){e.variationKeyMap=m(e.variations,"key"),v(a.variationIdMap,m(e.variations,"id")),I(e.variationKeyMap||{}).forEach(function(e){e.variables&&(a.variationVariableUsageMap[e.id]=m(e.variables,"id"))})}),a.experimentFeatureMap={},a.featureKeyMap=m(a.featureFlags||[],"key"),I(a.featureKeyMap||{}).forEach(function(e){e.variables.forEach(function(e){e.type===ee.STRING&&e.subType===ee.JSON&&(e.type=ee.JSON,delete e.subType)}),e.variableKeyMap=m(e.variables,"key"),(e.experimentIds||[]).forEach(function(t){a.experimentFeatureMap[t]?a.experimentFeatureMap[t].push(e.id):a.experimentFeatureMap[t]=[e.id]})}),a.flagRulesMap={},(a.featureFlags||[]).forEach(function(e){var t=[];e.experimentIds.forEach(function(e){var r=a.experimentIdMap[e];r&&t.push(r)});var r=a.rolloutIdMap[e.rolloutId];r&&t.push.apply(t,r.experiments),a.flagRulesMap[e.key]=t}),a.flagVariationsMap={},O(a.flagRulesMap||{}).forEach(function(e){var t=e[0],r=e[1],n=[];r.forEach(function(e){e.variations.forEach(function(e){R(n,function(t){return t.id===e.id})||n.push(e)})}),a.flagVariationsMap[t]=n}),a},eY=function(e){return e.conditions?eZ(e.conditions):[]},eZ=function(e){var t=[];return!function(e){return["and","or","not"].includes(e)}(e)?(Array.isArray(e)?e.forEach(function(e){return t.push.apply(t,eZ(e))}):"qualified"===e.match&&t.push(e.value),t):[]},eX=function(e,t){var r=e.experimentIdMap[t];if(!r)throw Error(S(Y.INVALID_EXPERIMENT_ID,eH,t));return r.layerId},e$=function(e,t,r){var n=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return n?(i&&r.log(W.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),n.id):i?t:(r.log(W.DEBUG,Y.UNRECOGNIZED_ATTRIBUTE,eH,t),null)},eJ=function(e,t){var r=e.eventKeyMap[t];return r?r.id:null},eQ=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw Error(S(Y.INVALID_EXPERIMENT_KEY,eH,t));return r.status},e0=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},e1=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var r=e.experimentKeyMap[t];if(r)return r}throw Error(S(Y.EXPERIMENT_KEY_NOT_IN_DATAFILE,eH,t))},e2=function(e,t){var r=e.experimentIdMap[t];if(!r)throw Error(S(Y.INVALID_EXPERIMENT_ID,eH,t));return r.trafficAllocation},e5=function(e,t,r){if(e.experimentIdMap.hasOwnProperty(t)){var n=e.experimentIdMap[t];if(n)return n}return r.log(W.ERROR,Y.INVALID_EXPERIMENT_ID,eH,t),null},e4=function(e,t,r){return e&&R(e.flagVariationsMap[t],function(e){return e.key===r})||null},e6=function(e,t,r){if(e.featureKeyMap.hasOwnProperty(t)){var n=e.featureKeyMap[t];if(n)return n}return r.log(W.ERROR,Y.FEATURE_NOT_IN_DATAFILE,eH,t),null},e3=function(e){return e.__datafileStr},e8=function(e){try{t=ey(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(W.INFO,Z.VALID_DATAFILE,eH)}catch(e){return{configObj:null,error:e}}else e.logger.log(W.INFO,Z.SKIPPING_JSON_VALIDATION,eH);var t,r=[t];return"string"==typeof e.datafile&&r.push(e.datafile),{configObj:eW.apply(void 0,r),error:null}},e9=function(e){return!!e.sendFlagDecisions};function e7(e,t,r,n){var i={sdkKey:e};if((void 0===n||"object"==typeof n&&null!==n)&&N.assign(i,n),r){var o=e8({datafile:r,jsonSchemaValidator:void 0,logger:t}),a=o.configObj,s=o.error;s&&t.error(s),a&&(i.datafile=e3(a))}return new eq(i)}var te=function(){function e(e,t){void 0===t&&(t=6e4),this.logger=e,this.timeout=t}return e.prototype.makeRequest=function(e,r,n,i){var o=this,a=new XMLHttpRequest;return{responsePromise:new Promise(function(s,u){a.open(n,e,!0),o.setHeadersInXhr(r,a),a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(0===a.status)return void u(Error("Request error"));var e=o.parseHeadersFromXhr(a);s({statusCode:a.status,body:a.responseText,headers:e})}},a.timeout=o.timeout,a.ontimeout=function(){o.logger.log(t.LogLevel.WARNING,"Request timed out")},a.send(i)}),abort:function(){a.abort()}}},e.prototype.setHeadersInXhr=function(e,t){Object.keys(e).forEach(function(r){var n=e[r];"string"==typeof n&&t.setRequestHeader(r,n)})},e.prototype.parseHeadersFromXhr=function(e){var r=this,n=e.getAllResponseHeaders();if(null===n)return{};var i=n.split("\r\n"),o={};return i.forEach(function(e){try{var n=e.indexOf(": ");if(n>-1){var i=e.slice(0,n),a=e.slice(n+2);i&&a&&(o[i]=a)}}catch(n){r.logger.log(t.LogLevel.WARNING,"Unable to parse & skipped header item '".concat(e,"'"))}}),o},e}(),tt=function(e){var t=e.browserCallback,r=e.nonBrowserCallback;return"undefined"!=typeof window?t(null==window?void 0:window.localStorage):r()},tr=function(){function e(){this.logger=F()}return e.prototype.contains=function(e){return f(this,void 0,void 0,function(){var t=this;return d(this,function(r){return[2,tt({browserCallback:function(t){return null!==(null==t?void 0:t.getItem(e))},nonBrowserCallback:function(){return t.logger.error(Y.LOCAL_STORAGE_DOES_NOT_EXIST),!1}})]})})},e.prototype.get=function(e){return f(this,void 0,void 0,function(){var t=this;return d(this,function(r){return[2,tt({browserCallback:function(t){return(null==t?void 0:t.getItem(e))||void 0},nonBrowserCallback:function(){t.logger.error(Y.LOCAL_STORAGE_DOES_NOT_EXIST)}})]})})},e.prototype.remove=function(e){return f(this,void 0,void 0,function(){var t=this;return d(this,function(r){switch(r.label){case 0:return[4,this.contains(e)];case 1:return r.sent()?(tt({browserCallback:function(t){null==t||t.removeItem(e)},nonBrowserCallback:function(){t.logger.error(Y.LOCAL_STORAGE_DOES_NOT_EXIST)}}),[2,!0]):[2,!1]}})})},e.prototype.set=function(e,t){return f(this,void 0,void 0,function(){var r=this;return d(this,function(n){return[2,tt({browserCallback:function(r){null==r||r.setItem(e,t)},nonBrowserCallback:function(){r.logger.error(Y.LOCAL_STORAGE_DOES_NOT_EXIST)}})]})})},e}(),tn=function(){function e(e){void 0===e&&(e=null),this._value=e,this._time=Date.now()}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this._time},enumerable:!1,configurable:!0}),e.prototype.is_stale=function(e){return!(e<=0)&&Date.now()-this._time>=e},e}(),ti=function(){function e(e){var t=e.maxSize,r=e.timeout;this._map=new Map;var n=F();n.debug("Provisioning cache with maxSize of ".concat(t)),n.debug("Provisioning cache with timeout of ".concat(r)),this._maxSize=t,this._timeout=r}return Object.defineProperty(e.prototype,"map",{get:function(){return this._map},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._timeout},enumerable:!1,configurable:!0}),e.prototype.lookup=function(e){if(this._maxSize<=0)return null;var t=this._map.get(e);return t?t.is_stale(this._timeout)?(this._map.delete(e),null):(this._map.delete(e),this._map.set(e,t),t.value):null},e.prototype.save=function(e){var t=e.key,r=e.value;if(!(this._maxSize<=0)&&(this._map.get(t)&&this._map.delete(t),this._map.set(t,new tn(r)),this._map.size>this._maxSize)){var n=this._map.keys().next().value;this._map.delete(n)}},e.prototype.reset=function(){this._maxSize<=0||this._map.clear()},e.prototype.peek=function(e){if(this._maxSize<=0)return null;var t,r=this._map.get(e);return null!==(t=null==r?void 0:r.value)&&void 0!==t?t:null},e}(),to=100,ta=600,ts=function(e){function t(t){var r,n;return e.call(this,{maxSize:null!==(r=null==t?void 0:t.maxSize)&&void 0!==r?r:to,timeout:null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:1e3*ta})||this}return l(t,e),t}(ti),tu=1e4,tl=600,tc=(function(e){l(function(t){var r,n;return e.call(this,{maxSize:null!==(r=null==t?void 0:t.maxSize)&&void 0!==r?r:tu,timeout:null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:1e3*tl})||this},e)}(ti),function(){function e(){this._keyForVuid="optimizely-vuid",this._vuid=""}return Object.defineProperty(e.prototype,"vuid",{get:function(){return this._vuid},enumerable:!1,configurable:!0}),e.instance=function(t){return f(this,void 0,void 0,function(){return d(this,function(r){switch(r.label){case 0:return this._instance||(this._instance=new e),this._instance._vuid?[3,2]:[4,this._instance.load(t)];case 1:r.sent(),r.label=2;case 2:return[2,this._instance]}})})},e.prototype.load=function(t){return f(this,void 0,void 0,function(){var r;return d(this,function(n){switch(n.label){case 0:return[4,t.get(this._keyForVuid)];case 1:return(r=n.sent())&&e.isVuid(r)?(this._vuid=r,[3,4]):[3,2];case 2:return this._vuid=this.makeVuid(),[4,this.save(this._vuid,t)];case 3:n.sent(),n.label=4;case 4:return[2,this._vuid]}})})},e.prototype.makeVuid=function(){var t=E().replace(/-/g,"").toLowerCase(),r="".concat(e.vuid_prefix).concat(t);return r.length<=32?r:r.substring(0,32)},e.prototype.save=function(e,t){return f(this,void 0,void 0,function(){return d(this,function(r){switch(r.label){case 0:return[4,t.set(this._keyForVuid,e)];case 1:return r.sent(),[2]}})})},e._reset=function(){this._instance._vuid=""},e.vuid_prefix="vuid_",e.isVuid=function(t){return(null==t?void 0:t.startsWith(e.vuid_prefix))||!1},e}());function tf(e){var t=["string","number","boolean"],r=!1;return e.forEach(function(e){t.includes(typeof e)||null===e||(r=!0)}),r}var td,tp=function(e,t,r,n){this.type=e,this.action=t,this.identifiers=null!=r?r:new Map,this.data=null!=n?n:new Map},th=function(){};!function(e){e[e.Running=0]="Running",e[e.Stopped=1]="Stopped"}(td||(td={}));var tg,ty=function(){function e(e){var t,r,n,i=e.odpIntegrationConfig,o=e.segmentManager,a=e.eventManager,s=e.logger,u=this;this.ready=!1,this.status=td.Stopped,this.segmentManager=o,this.eventManager=a,this.logger=s,this.configPromise=(t=th,r=th,{promise:n=new Promise(function(e,n){t=e,r=n}),resolve:t,reject:r,then:n.then.bind(n)});var l=[this.configPromise];this.isVuidEnabled()&&l.push(this.initializeVuid()),this.initPromise=Promise.all(l),this.onReady().then(function(){u.ready=!0,u.isVuidEnabled()&&u.status===td.Running&&u.registerVuid()}),i&&this.updateSettings(i)}return e.prototype.getStatus=function(){return this.status},e.prototype.start=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return this.status===td.Running?[2]:this.odpIntegrationConfig?this.odpIntegrationConfig.integrated?(this.status=td.Running,this.segmentManager.updateSettings(this.odpIntegrationConfig.odpConfig),this.eventManager.updateSettings(this.odpIntegrationConfig.odpConfig),this.eventManager.start(),[2,Promise.resolve()]):[2,Promise.reject(Error("start() called when ODP is not integrated"))]:[2,Promise.reject(Error("cannot start without ODP config"))]})})},e.prototype.stop=function(){return f(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return this.status===td.Stopped?[2]:(this.status=td.Stopped,[4,this.eventManager.stop()]);case 1:return e.sent(),[2]}})})},e.prototype.onReady=function(){return this.initPromise},e.prototype.isReady=function(){return this.ready},e.prototype.updateSettings=function(e){var t,r;return this.configPromise.resolve(),!(this.odpIntegrationConfig&&(t=this.odpIntegrationConfig,r=e,!(t.integrated!==r.integrated||t.integrated&&r.integrated&&!t.odpConfig.equals(r.odpConfig))))&&(this.odpIntegrationConfig=e,e.integrated?this.status===td.Running?(this.segmentManager.updateSettings(e.odpConfig),this.eventManager.updateSettings(e.odpConfig)):this.start():this.stop(),!0)},e.prototype.fetchQualifiedSegments=function(e,r){return void 0===r&&(r=[]),f(this,void 0,void 0,function(){return d(this,function(n){return this.odpIntegrationConfig?this.odpIntegrationConfig.integrated?tc.isVuid(e)?[2,this.segmentManager.fetchQualifiedSegments(eA.VUID,e,r)]:[2,this.segmentManager.fetchQualifiedSegments(eA.FS_USER_ID,e,r)]:(this.logger.log(t.LogLevel.ERROR,Y.ODP_NOT_INTEGRATED),[2,null]):(this.logger.log(t.LogLevel.ERROR,Y.ODP_CONFIG_NOT_AVAILABLE),[2,null])})})},e.prototype.identifyUser=function(e,r){this.odpIntegrationConfig?this.odpIntegrationConfig.integrated?e&&tc.isVuid(e)?this.eventManager.identifyUser(void 0,e):this.eventManager.identifyUser(e,r):this.logger.log(t.LogLevel.INFO,Y.ODP_NOT_INTEGRATED):this.logger.log(t.LogLevel.ERROR,Y.ODP_CONFIG_NOT_AVAILABLE)},e.prototype.sendEvent=function(e){var r=e.type,n=e.action,i=e.identifiers,o=e.data,a=r;if("string"==typeof a&&""!==a||(a="fullstack"),this.odpIntegrationConfig){if(this.odpIntegrationConfig.integrated){if(tf(o))throw Error(Y.ODP_INVALID_DATA);if("string"!=typeof n||""===n)throw Error("ODP action is not valid (cannot be empty).");this.eventManager.sendEvent(new tp(a,n,i,o))}else this.logger.log(t.LogLevel.ERROR,Y.ODP_NOT_INTEGRATED)}else this.logger.log(t.LogLevel.ERROR,Y.ODP_CONFIG_NOT_AVAILABLE)},e.prototype.initializeVuid=function(){return Promise.resolve()},e.prototype.registerVuid=function(){if(this.odpIntegrationConfig){if(this.odpIntegrationConfig.integrated){var e=this.getVuid();if(e)try{this.eventManager.registerVuid(e)}catch(e){this.logger.log(t.LogLevel.ERROR,Y.ODP_VUID_REGISTRATION_FAILED)}}else this.logger.log(t.LogLevel.INFO,Y.ODP_NOT_INTEGRATED)}else this.logger.log(t.LogLevel.ERROR,Y.ODP_CONFIG_NOT_AVAILABLE)},e}(),tv=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return l(r,e),r.prototype.shouldSendEvents=function(e){return e.length<=1||(this.getLogger().log(t.LogLevel.ERROR,"".concat("ODP event send failed"," (browser only supports batch size 1)")),!1)},r.prototype.getPixelApiEndpoint=function(e){return new URL("v2/zaius.gif",e.pixelUrl).href},r.prototype.generateRequestData=function(e,t){var r=this.getPixelApiEndpoint(e),n=e.apiKey,i=t[0],o=new URL(r);return i.identifiers.forEach(function(e,t){o.searchParams.append(t,e)}),i.data.forEach(function(e,t){o.searchParams.append(t,e)}),o.searchParams.append("tracker_id",n),o.searchParams.append("event_type",i.type),o.searchParams.append("vdl_action",i.action),{method:"GET",endpoint:o.toString(),headers:{},data:""}},r}(function(){function e(e,t){this.requestHandler=e,this.logger=t}return e.prototype.getLogger=function(){return this.logger},e.prototype.sendEvents=function(e,r){var n;return f(this,void 0,void 0,function(){var i,o,a,s,u,l,c,f,p;return d(this,function(d){switch(d.label){case 0:if(i=!1,0===r.length)return this.logger.log(t.LogLevel.ERROR,"".concat("ODP event send failed"," (no events)")),[2,i];if(!this.shouldSendEvents(r))return[2,i];a=(o=this.generateRequestData(e,r)).method,s=o.endpoint,u=o.headers,l=o.data,c=0,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.requestHandler.makeRequest(s,u,a,l).responsePromise];case 2:return c=null!==(n=d.sent().statusCode)&&void 0!==n?n:c,[3,4];case 3:return f=d.sent(),p="network error",f instanceof Error&&(p=f.message),this.logger.log(t.LogLevel.ERROR,"".concat("ODP event send failed"," (").concat(p,")")),i=!0,[3,4];case 4:return c>=400&&this.logger.log(t.LogLevel.ERROR,"".concat("ODP event send failed"," (").concat(c,")")),c>=500&&(i=!0),[2,i]}})})},e}()),tm=function(e){"function"==typeof queueMicrotask?queueMicrotask(e):setTimeout(e)};!function(e){e[e.Stopped=0]="Stopped",e[e.Running=1]="Running"}(tg||(tg={}));var tE=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasNecessaryIdentifiers=function(e){return e.identifiers.size>=0},t}return l(r,e),r.prototype.initParams=function(e,r,n){this.queueSize=r||100,this.batchSize=1,this.flushInterval=0,void 0!==e&&1!==e&&this.getLogger().log(t.LogLevel.WARNING,"ODP event batch size must be 1 in the browser."),void 0!==n&&0!==n&&this.getLogger().log(t.LogLevel.WARNING,"ODP event flush interval must be 0 in the browser.")},r.prototype.discardEventsIfNeeded=function(){this.getLogger().log(t.LogLevel.DEBUG,"ODPConfig not ready. Leaving events in queue.")},r}(function(){function e(e){var t=e.odpConfig,r=e.apiManager,n=e.logger,i=e.clientEngine,o=e.clientVersion,a=e.queueSize,s=e.batchSize,u=e.flushInterval,l=e.userAgentParser,c=e.retries;if(this.status=tg.Stopped,this.queue=[],this.apiManager=r,this.logger=n,this.clientEngine=i,this.clientVersion=o,this.initParams(s,a,u),this.status=tg.Stopped,this.userAgentParser=l,this.retries=c||3,l){var f=l.parseUserAgentInfo(),d=f.os,p=f.device,h={os:d.name,os_version:d.version,device_type:p.type,model:p.model};this.userAgentData=new Map(Object.entries(h).filter(function(e){e[0];var t=e[1];return null!=t&&null!=t}))}t&&this.updateSettings(t)}return e.prototype.updateSettings=function(e){this.odpConfig&&this.odpConfig.equals(e)||(this.flush(),this.odpConfig=e)},e.prototype.flush=function(){this.processQueue(!0)},e.prototype.start=function(){this.odpConfig?(this.status=tg.Running,this.batchSize>1&&this.setNewTimeout()):this.logger.log(t.LogLevel.ERROR,Y.ODP_CONFIG_NOT_AVAILABLE)},e.prototype.stop=function(){return f(this,void 0,void 0,function(){return d(this,function(e){return this.logger.log(t.LogLevel.DEBUG,"Stop requested."),this.flush(),this.clearCurrentTimeout(),this.status=tg.Stopped,this.logger.log(t.LogLevel.DEBUG,"Stopped. Queue Count: %s",this.queue.length),[2]})})},e.prototype.registerVuid=function(e){var t=new Map;t.set(eA.VUID,e);var r=new tp("fullstack",eN.INITIALIZED,t);this.sendEvent(r)},e.prototype.identifyUser=function(e,r){var n=new Map;if(e||r){r&&n.set(eA.VUID,r),e&&n.set(eA.FS_USER_ID,e);var i=new tp("fullstack",eN.IDENTIFIED,n);this.sendEvent(i)}else this.logger.log(t.LogLevel.ERROR,Y.ODP_SEND_EVENT_FAILED_UID_MISSING)},e.prototype.sendEvent=function(e){tf(e.data)?this.logger.log(t.LogLevel.ERROR,"Event data found to be invalid."):(e.data=this.augmentCommonData(e.data),this.enqueue(e))},e.prototype.enqueue=function(e){this.status!==tg.Stopped?this.hasNecessaryIdentifiers(e)?this.queue.length>=this.queueSize?this.logger.log(t.LogLevel.WARNING,"Failed to Process ODP Event. Event Queue full. queueSize = %s.",this.queue.length):(this.queue.push(e),this.processQueue()):this.logger.log(t.LogLevel.ERROR,"ODP events should have at least one key-value pair in identifiers."):this.logger.log(t.LogLevel.WARNING,"Failed to Process ODP Event. ODPEventManager is not running.")},e.prototype.processQueue=function(e){if(void 0===e&&(e=!1),this.status===tg.Running){if(e)for(this.clearCurrentTimeout();this.queueContainsItems();)this.makeAndSend1Batch();else if(this.queueHasBatches())for(this.clearCurrentTimeout();this.queueHasBatches();)this.makeAndSend1Batch();this.batchSize>1&&this.setNewTimeout()}},e.prototype.clearCurrentTimeout=function(){clearTimeout(this.timeoutId),this.timeoutId=void 0},e.prototype.setNewTimeout=function(){var e=this;void 0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return e.processQueue(!0)},this.flushInterval))},e.prototype.makeAndSend1Batch=function(){var e=this;if(this.odpConfig){var t=this.queue.splice(0,this.batchSize),r=this.odpConfig;t.length>0&&tm(function(){return f(e,void 0,void 0,function(){var e,n;return d(this,function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return[4,this.apiManager.sendEvents(r,t)];case 2:e=i.sent(),n+=1,i.label=3;case 3:if(e&&n<this.retries)return[3,1];i.label=4;case 4:return[2]}})})})}},e.prototype.queueHasBatches=function(){return this.queueContainsItems()&&this.queue.length%this.batchSize==0},e.prototype.queueContainsItems=function(){return this.queue.length>0},e.prototype.augmentCommonData=function(e){var t=new Map(this.userAgentData);return t.set("idempotence_id",E()),t.set("data_source_type","sdk"),t.set("data_source",this.clientEngine),t.set("data_source_version",this.clientVersion),e.forEach(function(e,r){return t.set(r,e)}),t},e.prototype.getLogger=function(){return this.logger},e.prototype.getQueue=function(){return this.queue},e}()),tb=function(){function e(e,t,r,n){this.odpConfig=n,this._segmentsCache=e,this.odpSegmentApiManager=t,this.logger=r||F("OdpSegmentManager")}return Object.defineProperty(e.prototype,"segmentsCache",{get:function(){return this._segmentsCache},enumerable:!1,configurable:!0}),e.prototype.fetchQualifiedSegments=function(e,r,n){return f(this,void 0,void 0,function(){var i,o,a,s,u,l;return d(this,function(c){switch(c.label){case 0:if(!this.odpConfig)return this.logger.log(t.LogLevel.WARNING,Y.ODP_CONFIG_NOT_AVAILABLE),[2,null];if(!(i=this.odpConfig.segmentsToCheck)||i.length<=0)return this.logger.log(t.LogLevel.DEBUG,"No segments are used in the project. Returning an empty list."),[2,[]];if(o=this.makeCacheKey(e,r),a=n.includes(t.OptimizelySegmentOption.IGNORE_CACHE),(s=n.includes(t.OptimizelySegmentOption.RESET_CACHE))&&this.reset(),!a&&!s){if(u=this._segmentsCache.lookup(o))return this.logger.log(t.LogLevel.DEBUG,'ODP cache hit. Returning segments from cache "%s".',o),[2,u];this.logger.log(t.LogLevel.DEBUG,"ODP cache miss.")}return this.logger.log(t.LogLevel.DEBUG,"Making a call to ODP server."),[4,this.odpSegmentApiManager.fetchSegments(this.odpConfig.apiKey,this.odpConfig.apiHost,e,r,i)];case 1:return(l=c.sent())&&!a&&this._segmentsCache.save({key:o,value:l}),[2,l]}})})},e.prototype.reset=function(){this._segmentsCache.reset()},e.prototype.makeCacheKey=function(e,t){return"".concat(e,"-$-").concat(t)},e.prototype.updateSettings=function(e){this.odpConfig=e,this.reset()},e}(),t_={$schema:"http://json-schema.org/draft-04/schema#",title:"Project Config JSON Schema",type:"object",properties:{projectId:{type:"string",required:!0},accountId:{type:"string",required:!0},groups:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},policy:{type:"string",required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0}}},required:!0},experiments:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0},status:{type:"string",required:!0},layerId:{type:"string",required:!0},variations:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},trafficAllocation:{type:"array",items:{type:"object",properties:{entityId:{type:"string",required:!0},endOfRange:{type:"integer",required:!0}}},required:!0},audienceIds:{type:"array",items:{type:"string"},required:!0},forcedVariations:{type:"object",required:!0}}},required:!0},events:{type:"array",items:{type:"object",properties:{key:{type:"string",required:!0},experimentIds:{type:"array",items:{type:"string",required:!0}},id:{type:"string",required:!0}}},required:!0},audiences:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},name:{type:"string",required:!0},conditions:{type:"string",required:!0}}},required:!0},attributes:{type:"array",items:{type:"object",properties:{id:{type:"string",required:!0},key:{type:"string",required:!0}}},required:!0},version:{type:"string",required:!0},revision:{type:"string",required:!0},integrations:{type:"array",items:{type:"object",properties:{key:{type:"string",required:!0},host:{type:"string"},publicKey:{type:"string"},pixelUrl:{type:"string"}}}}}},tI={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://example.com/example.json",title:"ODP Response Schema",type:"object",required:["data"],properties:{data:{title:"The data Schema",type:"object",required:["customer"],properties:{customer:{title:"The customer Schema",type:"object",required:[],properties:{audiences:{title:"The audiences Schema",type:"object",required:["edges"],properties:{edges:{title:"The edges Schema",type:"array",items:{title:"A Schema",type:"object",required:["node"],properties:{node:{title:"The node Schema",type:"object",required:["name","state"],properties:{name:{title:"The name Schema",type:"string",examples:["has_email","has_email_opted_in"]},state:{title:"The state Schema",type:"string",examples:["qualified"]}},examples:[]}},examples:[]},examples:[]}},examples:[]}},examples:[]}},examples:[]},errors:{title:"The errors Schema",type:"array",default:[],items:{title:"A Schema",type:"object",required:["message","locations","extensions"],properties:{message:{title:"The message Schema",type:"string",examples:["Exception while fetching data (/customer) : java.lang.RuntimeException: could not resolve _fs_user_id = asdsdaddddd"]},locations:{title:"The locations Schema",type:"array",items:{title:"A Schema",type:"object",required:["line","column"],properties:{line:{title:"The line Schema",type:"integer",examples:[2]},column:{title:"The column Schema",type:"integer",examples:[3]}},examples:[]},examples:[]},path:{title:"The path Schema",type:"array",items:{title:"A Schema",type:"string",examples:["customer"]},examples:[]},extensions:{title:"The extensions Schema",type:"object",required:["classification"],properties:{classification:{title:"The classification Schema",type:"string",examples:["InvalidIdentifierException"]}},examples:[]}},examples:[]},examples:[]}},examples:[]},tO=[],tR=function(){function e(e,t){this.toGraphQLJson=function(e,t,r){return p(p(['{"query" : "query {customer',"(".concat(e,' : \\"').concat(t,'\\") '),"{audiences","(subset: ["],(null==r?void 0:r.map(function(e,t){return'\\"'.concat(e,'\\"').concat(t<r.length-1?",":"")}))||"",!0),[']) {edges {node {name state}}}}}"}'],!1).join("")},this.requestHandler=e,this.logger=t}return e.prototype.fetchSegments=function(e,r,n,i,o){var a,s,u,l;return f(this,void 0,void 0,function(){var c,f,p,h,g,y,v,m;return d(this,function(d){switch(d.label){case 0:return e&&r?0===(null==o?void 0:o.length)?[2,tO]:(c="".concat(r,"/v3/graphql"),f=this.toGraphQLJson(n,i,o),[4,this.querySegments(e,c,n,i,f)]):(this.logger.log(t.LogLevel.ERROR,"".concat("Audience segments fetch failed"," (Parameters apiKey or apiHost invalid)")),[2,null]);case 1:return(p=d.sent())?(h=this.parseSegmentsResponseJson(p))?(null===(a=h.errors)||void 0===a?void 0:a.length)>0?(y=(g=h.errors[0].extensions).code,v=g.classification,"INVALID_IDENTIFIER_EXCEPTION"==y?this.logger.log(t.LogLevel.ERROR,"".concat("Audience segments fetch failed"," (invalid identifier)")):this.logger.log(t.LogLevel.ERROR,"".concat("Audience segments fetch failed"," (").concat(v,")")),[2,null]):(m=null===(l=null===(u=null===(s=null==h?void 0:h.data)||void 0===s?void 0:s.customer)||void 0===u?void 0:u.audiences)||void 0===l?void 0:l.edges)?[2,m.filter(function(e){return"qualified"==e.node.state}).map(function(e){return e.node.name})]:(this.logger.log(t.LogLevel.ERROR,"".concat("Audience segments fetch failed"," (decode error)")),[2,null]):(this.logger.log(t.LogLevel.ERROR,"".concat("Audience segments fetch failed"," (decode error)")),[2,null]):(this.logger.log(t.LogLevel.ERROR,"".concat("Audience segments fetch failed"," (network error)")),[2,null])}})})},e.prototype.querySegments=function(e,t,r,n,i){return f(this,void 0,void 0,function(){var r,n,o,a;return d(this,function(s){switch(s.label){case 0:r="POST",n=t,o={"Content-Type":"application/json","x-api-key":e},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.requestHandler.makeRequest(n,o,r,i).responsePromise];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),[2,null];case 4:return[2,a.body]}})})},e.prototype.parseSegmentsResponseJson=function(e){var t={};try{t=JSON.parse(e)}catch(e){return null}return!function(e,t,r){void 0===t&&(t=t_),void 0===r&&(r=!0);var n="".concat("JSON_SCHEMA_VALIDATOR"," (").concat(t.title,")");if("object"!=typeof e||null===e)throw Error(S(Y.NO_JSON_PROVIDED,n));var i=o.validate(e,t);if(i.valid)return!0;if(!r)return!1;if(Array.isArray(i.errors))throw Error(S(Y.INVALID_DATAFILE,n,i.errors[0].property,i.errors[0].message));throw Error(S(Y.INVALID_JSON,n))}(t,tI,!1)?null:t},e}(),tw=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.createInstance=function(e){var r=e.logger,n=e.odpOptions,i=e.odpIntegrationConfig,o=e.clientEngine,a=e.clientVersion;r=r||F(),o=o||"javascript-sdk",a=a||"5.3.4";var s,u,l,c=void 0;return(null==i?void 0:i.integrated)&&(c=i.odpConfig),s=(null==n?void 0:n.segmentsRequestHandler)?n.segmentsRequestHandler:new te(r,(null==n?void 0:n.segmentsApiTimeout)||1e4),u=(null==n?void 0:n.segmentManager)?n.segmentManager:new tb((null==n?void 0:n.segmentsCache)||new ts({maxSize:null==n?void 0:n.segmentsCacheSize,timeout:null==n?void 0:n.segmentsCacheTimeout}),new tR(s,r),r,c),l=(null==n?void 0:n.eventRequestHandler)?n.eventRequestHandler:new te(r,(null==n?void 0:n.eventApiTimeout)||1e4),new t({odpIntegrationConfig:i,segmentManager:u,eventManager:(null==n?void 0:n.eventManager)?n.eventManager:new tE({odpConfig:c,apiManager:new tv(l,r),logger:r,clientEngine:o,clientVersion:a,flushInterval:null==n?void 0:n.eventFlushInterval,batchSize:null==n?void 0:n.eventBatchSize,queueSize:null==n?void 0:n.eventQueueSize,userAgentParser:null==n?void 0:n.userAgentParser}),logger:r})},t.prototype.initializeVuid=function(){return f(this,void 0,void 0,function(){var e;return d(this,function(r){switch(r.label){case 0:return[4,tc.instance(t.cache)];case 1:return e=r.sent(),this.vuid=e.vuid,[2]}})})},t.prototype.identifyUser=function(t,r){t&&tc.isVuid(t)?e.prototype.identifyUser.call(this,void 0,t):t&&r&&tc.isVuid(r)?e.prototype.identifyUser.call(this,t,r):e.prototype.identifyUser.call(this,t,r||this.vuid)},t.prototype.sendEvent=function(t){var r=t.type,n=t.action,i=t.identifiers,o=t.data,a=new Map(i);if(!i.has(eA.VUID)){if(!this.vuid)throw Error(Y.ODP_SEND_EVENT_FAILED_VUID_MISSING);a.set(eA.VUID,this.vuid)}e.prototype.sendEvent.call(this,{type:r,action:n,identifiers:a,data:o})},t.prototype.isVuidEnabled=function(){return!0},t.prototype.getVuid=function(){return this.vuid},t.cache=new tr,t}(ty);function tS(e,t,r){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:r}}var tT=function(){function e(e){var t,r=e.optimizely,n=e.userId,i=e.attributes,o=e.shouldIdentifyUser,a=void 0===o||o,s=this;this._qualifiedSegments=null,this.optimizely=r,this.userId=n,this.attributes=null!==(t=c({},i))&&void 0!==t?t:{},this.forcedDecisionsMap={},a&&this.optimizely.onReady().then(function(e){e.success&&s.identifyUser()})}return e.prototype.identifyUser=function(){this.optimizely.identifyUser(this.userId)},e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return c({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},Object.defineProperty(e.prototype,"qualifiedSegments",{get:function(){return this._qualifiedSegments},set:function(e){this._qualifiedSegments=e},enumerable:!1,configurable:!0}),e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var r,n=e.flagKey,i=null!==(r=e.ruleKey)&&void 0!==r?r:X.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[n]||(this.forcedDecisionsMap[n]={}),this.forcedDecisionsMap[n][i]=o,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:X.FORCED_DECISION_NULL_RULE_KEY,n=e.flagKey,i=!1;return this.forcedDecisionsMap.hasOwnProperty(n)&&(this.forcedDecisionsMap[n].hasOwnProperty(r)&&(delete this.forcedDecisionsMap[n][r],i=!0),0===Object.keys(this.forcedDecisionsMap[n]).length&&delete this.forcedDecisionsMap[n]),i},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:X.FORCED_DECISION_NULL_RULE_KEY,n=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var i=this.forcedDecisionsMap[n];if(i.hasOwnProperty(r))return{variationKey:i[r].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({shouldIdentifyUser:!1,optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=c({},this.forcedDecisionsMap)),t._qualifiedSegments=this._qualifiedSegments,t},e.prototype.fetchQualifiedSegments=function(e){return f(this,void 0,void 0,function(){var t;return d(this,function(r){switch(r.label){case 0:return[4,this.optimizely.fetchQualifiedSegments(this.userId,e)];case 1:return t=r.sent(),this.qualifiedSegments=t,[2,null!==t]}})})},e.prototype.isQualifiedFor=function(e){return!!this._qualifiedSegments&&this._qualifiedSegments.indexOf(e)>-1},e}(),tA=["and","or","not"];function tN(e,t){if(Array.isArray(e)){var r=e[0],n=e.slice(1);switch("string"==typeof r&&-1===tA.indexOf(r)&&(r="or",n=e),r){case"and":return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var i=tN(e[n],t);if(!1===i)return!1;null===i&&(r=!0)}return!r||null}return null}(n,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var r=tN(e[0],t);return null===r?null:!r}return null}(n,t);default:return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var i=tN(e[n],t);if(!0===i)return!0;null===i&&(r=!0)}return!!r&&null}return null}(n,t)}}return t(e)}var tL=function(){function e(t,r,n){this.sdkKey=null!==(i=t.sdkKey)&&void 0!==i?i:"",this.environmentKey=null!==(o=t.environmentKey)&&void 0!==o?o:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var i,o,a=(t.featureFlags||[]).reduce(function(e,t){return e[t.id]=t.variables,e},{}),s=e.getVariableIdMap(t),u=e.getExperimentsMap(t,a,s,n),l=u.experimentsMapById,c=u.experimentsMapByKey;this.experimentsMap=c,this.featuresMap=e.getFeaturesMap(t,a,l,s),this.datafile=r}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],r=[];return(e.typedAudiences||[]).forEach(function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),r.push(e.id)}),(e.audiences||[]).forEach(function(e){-1===r.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})}),t},e.getSerializedAudiences=function(t,r){var n="";if(t){var i="";t.forEach(function(t){var o="";if(t instanceof Array)o=e.getSerializedAudiences(t,r),o="(".concat(o,")");else if(tA.indexOf(t)>-1)i=t.toUpperCase();else{var a=r[t]?r[t].name:t;n||"NOT"===i?(i=""===i?"OR":i,n=""===n?"".concat(i,' "').concat(r[t].name,'"'):n.concat(" ".concat(i,' "').concat(a,'"'))):n='"'.concat(a,'"')}""!==o&&(""!==n||"NOT"===i?(i=""===i?"OR":i,n=""===n?"".concat(i," ").concat(o):n.concat(" ".concat(i," ").concat(o))):n=n.concat(o))})}return n},e.getExperimentAudiences=function(t,r){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,r.audiencesById):""},e.mergeFeatureVariables=function(e,t,r,n,i){var o=(e[r]||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{});return(n||[]).forEach(function(e){var r=t[e.id],n={id:e.id,key:r.key,type:r.type,value:i?e.value:r.defaultValue};o[r.key]=n}),o},e.getVariationsMap=function(t,r,n,i){return t.reduce(function(t,o){var a=e.mergeFeatureVariables(r,n,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t},{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(e,t){return t.variables.forEach(function(t){e[t.id]=t}),e},{})},e.getDeliveryRules=function(t,r,n,i,o){return i.map(function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,r,o,n)}})},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach(function(e){e.experiments.forEach(function(e){t.push(e.id)})}),t},e.getExperimentsMap=function(t,r,n,i){var o=this.getRolloutExperimentIds(t.rollouts),a={},s={};return(t.experiments||[]).forEach(function(u){if(-1===o.indexOf(u.id)){var l=t.experimentFeatureMap[u.id],c="";l&&l.length>0&&(c=l[0]);var f=e.getVariationsMap(u.variations,r,n,c.toString()),d={id:u.id,key:u.key,audiences:e.getExperimentAudiences(u,t),variationsMap:f};a[u.id]=d,s[u.key]&&i&&i.warn("Duplicate experiment keys found in datafile: ".concat(u.key)),s[u.key]=d}}),{experimentsMapById:a,experimentsMapByKey:s}},e.getExperimentsKeyMap=function(e){var t={};for(var r in e){var n=e[r];t[n.key]=n}return t},e.getFeaturesMap=function(t,r,n,i){var o={};return t.featureFlags.forEach(function(a){var s={},u=[];a.experimentIds.forEach(function(e){var t=n[e];t&&(s[t.key]=t),u.push(n[e])});var l=(a.variables||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{}),c=[],f=t.rolloutIdMap[a.rolloutId];f&&(c=e.getDeliveryRules(t,r,a.id,f.experiments,i)),o[a.key]={id:a.id,key:a.key,experimentRules:u,deliveryRules:c,experimentsMap:s,variablesMap:l}}),o},e}(),tU=F();function tD(e,t){return e instanceof Error?e.message:t||"Unknown error"}var tC=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=Error(S(Y.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:tD(t)}),void tU.error(t)}var r=null;e.datafile&&(r=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:tD(r,"Invalid datafile")})}catch(e){tU.error(e),this.readyPromise=Promise.resolve({success:!1,reason:tD(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:tD(e)}:{success:!0}}return{success:!1,reason:tD(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:tD(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=this,r=e8({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:tU}),n=r.configObj,i=r.error;if(i)tU.error(i);else{var o=this.configObj?this.configObj.revision:"null";n&&o!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,tm(function(){t.updateListeners.forEach(function(e){return e(n)})}))}return i},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=function(e,t,r){return new tL(e,t,r)}(this.configObj,e3(this.configObj),tU)),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var r=t.updateListeners.indexOf(e);r>-1&&t.updateListeners.splice(r,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),tx=4294967296,tP=function(e){var t=[],r=e.experimentIdMap[e.experimentId].groupId;if(r){var n=e.groupIdMap[r];if(!n)throw Error(S(Y.INVALID_GROUP_ID,"BUCKETER",r));if("random"===n.policy){var i=tM(n,e.bucketingId,e.userId,e.logger);if(null===i)return e.logger.log(W.INFO,Z.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r),t.push([Z.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r]),{result:null,reasons:t};if(i!==e.experimentId)return e.logger.log(W.INFO,Z.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([Z.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r]),{result:null,reasons:t};e.logger.log(W.INFO,Z.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([Z.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r])}}var o=tF("".concat(e.bucketingId).concat(e.experimentId));e.logger.log(W.DEBUG,Z.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,e.userId),t.push([Z.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,e.userId]);var a=tk(o,e.trafficAllocationConfig);return null===a||e.variationIdMap[a]?{result:a,reasons:t}:(a&&(e.logger.log(W.WARNING,Z.INVALID_VARIATION_ID,"BUCKETER"),t.push([Z.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},tM=function(e,t,r,n){var i=tF("".concat(t).concat(e.id));return n.log(W.DEBUG,Z.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",i,r),tk(i,e.trafficAllocation)},tk=function(e,t){for(var r=0;r<t.length;r++)if(e<t[r].endOfRange)return t[r].entityId;return null},tF=function(e){try{var t=a.v3(e,1)/tx;return Math.floor(1e4*t)}catch(t){throw Error(S(Y.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},tj=F();function tV(e){return/^\d+$/.test(e)}function tB(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(t<0)&&(r<0||t<r)}function tG(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(r<0)&&(t<0||r<t)}function tz(e){var t=e,r="";if(function(e){return/\s/.test(e)}(e))return tj.warn(Z.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(tB(e)?(t=e.substring(0,e.indexOf("-")),r=e.substring(e.indexOf("-")+1)):tG(e)&&(t=e.substring(0,e.indexOf("+")),r=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof r)return null;var n=t.split(".").length-1;if(n>2)return tj.warn(Z.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=n+1)return tj.warn(Z.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=i;o<a.length;o++)if(!tV(a[o]))return tj.warn(Z.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return r&&i.push(r),i}var tq="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",tK=F(),tH=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],tW={};function tY(e){return"string"==typeof e||"boolean"==typeof e||N.isNumber(e)}function tZ(e,t){var r=t.getAttributes(),n=e.value,i=typeof n,o=e.name,a=r[o],s=typeof a;return!tY(n)||N.isNumber(n)&&!N.isSafeInteger(n)?(tK.warn(Z.UNEXPECTED_CONDITION_VALUE,tq,JSON.stringify(e)),null):null===a?(tK.debug(Z.UNEXPECTED_TYPE_NULL,tq,JSON.stringify(e),o),null):tY(a)&&i===s?N.isNumber(a)&&!N.isSafeInteger(a)?(tK.warn(Z.OUT_OF_BOUNDS,tq,JSON.stringify(e),o),null):n===a:(tK.warn(Z.UNEXPECTED_TYPE,tq,JSON.stringify(e),s,o),null)}function tX(e,t){var r=t.getAttributes(),n=e.name,i=r[n],o=typeof i,a=e.value;return null!==a&&N.isSafeInteger(a)?null===i?(tK.debug(Z.UNEXPECTED_TYPE_NULL,tq,JSON.stringify(e),n),!1):N.isNumber(i)?!!N.isSafeInteger(i)||(tK.warn(Z.OUT_OF_BOUNDS,tq,JSON.stringify(e),n),!1):(tK.warn(Z.UNEXPECTED_TYPE,tq,JSON.stringify(e),o,n),!1):(tK.warn(Z.UNEXPECTED_CONDITION_VALUE,tq,JSON.stringify(e)),!1)}function t$(e,t){var r=t.getAttributes(),n=e.name,i=r[n],o=typeof i,a=e.value;return"string"!=typeof a?(tK.warn(Z.UNEXPECTED_CONDITION_VALUE,tq,JSON.stringify(e)),null):null===i?(tK.debug(Z.UNEXPECTED_TYPE_NULL,tq,JSON.stringify(e),n),null):"string"!=typeof i?(tK.warn(Z.UNEXPECTED_TYPE,tq,JSON.stringify(e),o,n),null):function(e,t){var r=tz(t),n=tz(e);if(!r||!n)return null;for(var i=r.length,o=0;o<n.length;o++){if(i<=o)return tB(e)||tG(e)?1:-1;if(tV(r[o])){var a=parseInt(r[o]),s=parseInt(n[o]);if(a>s)return 1;if(a<s)return -1}else{if(r[o]<n[o])return tB(e)&&!tB(t)?1:-1;if(r[o]>n[o])return!tB(e)&&tB(t)?-1:1}}return tB(t)&&!tB(e)?-1:0}(a,i)}tW.exact=tZ,tW.exists=function(e,t){return null!=t.getAttributes()[e.name]},tW.gt=function(e,t){var r=t.getAttributes()[e.name],n=e.value;return tX(e,t)&&null!==n?r>n:null},tW.ge=function(e,t){var r=t.getAttributes()[e.name],n=e.value;return tX(e,t)&&null!==n?r>=n:null},tW.lt=function(e,t){var r=t.getAttributes()[e.name],n=e.value;return tX(e,t)&&null!==n?r<n:null},tW.le=function(e,t){var r=t.getAttributes()[e.name],n=e.value;return tX(e,t)&&null!==n?r<=n:null},tW.substring=function(e,t){var r=t.getAttributes(),n=e.name,i=r[e.name],o=typeof i,a=e.value;return"string"!=typeof a?(tK.warn(Z.UNEXPECTED_CONDITION_VALUE,tq,JSON.stringify(e)),null):null===i?(tK.debug(Z.UNEXPECTED_TYPE_NULL,tq,JSON.stringify(e),n),null):"string"!=typeof i?(tK.warn(Z.UNEXPECTED_TYPE,tq,JSON.stringify(e),o,n),null):-1!==i.indexOf(a)},tW.semver_eq=function(e,t){var r=t$(e,t);return null===r?null:0===r},tW.semver_gt=function(e,t){var r=t$(e,t);return null===r?null:r>0},tW.semver_ge=function(e,t){var r=t$(e,t);return null===r?null:r>=0},tW.semver_lt=function(e,t){var r=t$(e,t);return null===r?null:r<0},tW.semver_le=function(e,t){var r=t$(e,t);return null===r?null:r<=0};var tJ=Object.freeze({__proto__:null,evaluate:function(e,t){var r=t.getAttributes(),n=e.match;if(void 0!==n&&-1===tH.indexOf(n))return tK.warn(Z.UNKNOWN_MATCH_TYPE,tq,JSON.stringify(e)),null;var i=e.name;return r.hasOwnProperty(i)||"exists"==n?(n&&tW[n]||tZ)(e,t):(tK.debug(Z.MISSING_ATTRIBUTE_VALUE,tq,JSON.stringify(e),i),null)}}),tQ=F(),t0=["qualified"],t1={};function t2(e,t){return t.isQualifiedFor(e.value)}t1.qualified=t2;var t5=Object.freeze({__proto__:null,evaluate:function(e,t){var r=e.match;return void 0!==r&&-1===t0.indexOf(r)?(tQ.warn(Z.UNKNOWN_MATCH_TYPE,"ODP_SEGMENT_CONDITION_EVALUATOR",JSON.stringify(e)),null):(r&&t1[r]||t2)(e,t)}}),t4=F(),t6=function(){function e(e){this.typeToEvaluatorMap=N.assign({},e,{custom_attribute:tJ,third_party_dimension:t5})}return e.prototype.evaluate=function(e,t,r){var n=this;return!e||0===e.length||!!tN(e,function(e){var i=t[e];if(i){t4.log(W.DEBUG,Z.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions));var o=tN(i.conditions,n.evaluateConditionWithUserAttributes.bind(n,r)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return t4.log(W.DEBUG,Z.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null})},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var r=this.typeToEvaluatorMap[t.type];if(!r)return t4.log(W.WARNING,Z.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return r.evaluate(t,e)}catch(e){t4.log(W.ERROR,Y.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function t3(e){return"string"==typeof e&&""!==e}var t8="DECISION_SERVICE",t9=function(){function e(e){this.audienceEvaluator=new t6(e.UNSTABLE_conditionEvaluators),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,r,n,i){void 0===i&&(i={});var o=n.getUserId(),a=n.getAttributes(),s=this.getBucketingId(o,a),u=[],l=r.key;if(!this.checkIfExperimentIsActive(e,l))return this.logger.log(W.INFO,Z.EXPERIMENT_NOT_RUNNING,t8,l),u.push([Z.EXPERIMENT_NOT_RUNNING,t8,l]),{result:null,reasons:u};var c=this.getForcedVariation(e,l,o);u.push.apply(u,c.reasons);var f=c.result;if(f)return{result:f,reasons:u};var d=this.getWhitelistedVariation(r,o);u.push.apply(u,d.reasons);var p=d.result;if(p)return{result:p.key,reasons:u};var h=i[t.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],g=this.resolveExperimentBucketMap(o,a);if(!h&&(p=this.getStoredVariation(e,r,o,g)))return this.logger.log(W.INFO,Z.RETURNING_STORED_VARIATION,t8,p.key,l,o),u.push([Z.RETURNING_STORED_VARIATION,t8,p.key,l,o]),{result:p.key,reasons:u};var y=this.checkIfUserIsInAudience(e,r,Q.EXPERIMENT,n,"");if(u.push.apply(u,y.reasons),!y.result)return this.logger.log(W.INFO,Z.USER_NOT_IN_EXPERIMENT,t8,o,l),u.push([Z.USER_NOT_IN_EXPERIMENT,t8,o,l]),{result:null,reasons:u};var v=tP(this.buildBucketerParams(e,r,s,o));u.push.apply(u,v.reasons);var m=v.result;return m&&(p=e.variationIdMap[m]),p?(this.logger.log(W.INFO,Z.USER_HAS_VARIATION,t8,o,p.key,l),u.push([Z.USER_HAS_VARIATION,t8,o,p.key,l]),h||this.saveUserProfile(r,p,o,g),{result:p.key,reasons:u}):(this.logger.log(W.DEBUG,Z.USER_HAS_NO_VARIATION,t8,o,l),u.push([Z.USER_HAS_NO_VARIATION,t8,o,l]),{result:null,reasons:u})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var r=this.getUserProfile(e)||{},n=t[X.STICKY_BUCKETING_KEY];return N.assign({},r.experiment_bucket_map,n)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===eQ(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var r=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var n=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(n)?(this.logger.log(W.INFO,Z.USER_FORCED_IN_VARIATION,t8,t,n),r.push([Z.USER_FORCED_IN_VARIATION,t8,t,n]),{result:e.variationKeyMap[n],reasons:r}):(this.logger.log(W.ERROR,Z.FORCED_BUCKETING_FAILED,t8,n,t),r.push([Z.FORCED_BUCKETING_FAILED,t8,n,t]),{result:null,reasons:r})}return{result:null,reasons:r}},e.prototype.checkIfUserIsInAudience=function(e,t,r,n,i){var o=[],a=function(e,t){var r=e.experimentIdMap[t];if(!r)throw Error(S(Y.INVALID_EXPERIMENT_ID,eH,t));return r.audienceConditions||r.audienceIds}(e,t.id),s=e.audiencesById;this.logger.log(W.DEBUG,Z.EVALUATING_AUDIENCES_COMBINED,t8,r,i||t.key,JSON.stringify(a)),o.push([Z.EVALUATING_AUDIENCES_COMBINED,t8,r,i||t.key,JSON.stringify(a)]);var u=this.audienceEvaluator.evaluate(a,s,n);return this.logger.log(W.INFO,Z.AUDIENCE_EVALUATION_RESULT_COMBINED,t8,r,i||t.key,u.toString().toUpperCase()),o.push([Z.AUDIENCE_EVALUATION_RESULT_COMBINED,t8,r,i||t.key,u.toString().toUpperCase()]),{result:u,reasons:o}},e.prototype.buildBucketerParams=function(e,t,r,n){return{bucketingId:r,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:e2(e,t.id),userId:n,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,r,n){if(n.hasOwnProperty(t.id)){var i=n[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(W.INFO,Z.SAVED_VARIATION_NOT_FOUND,t8,r,o,t.key)}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(W.ERROR,Y.USER_PROFILE_LOOKUP_ERROR,t8,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,r,n){if(this.userProfileService)try{n[e.id]={variation_id:t.id},this.userProfileService.save({user_id:r,experiment_bucket_map:n}),this.logger.log(W.INFO,Z.SAVED_VARIATION,t8,t.key,e.key,r)}catch(e){this.logger.log(W.ERROR,Y.USER_PROFILE_SAVE_ERROR,t8,r,e.message)}},e.prototype.getVariationForFeature=function(e,t,r,n){void 0===n&&(n={});var i=[],o=this.getVariationForFeatureExperiment(e,t,r,n);i.push.apply(i,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:i};var s=this.getVariationForRollout(e,t,r);i.push.apply(i,s.reasons);var u=s.result,l=r.getUserId();return u.variation?(this.logger.log(W.DEBUG,Z.USER_IN_ROLLOUT,t8,l,t.key),i.push([Z.USER_IN_ROLLOUT,t8,l,t.key])):(this.logger.log(W.DEBUG,Z.USER_NOT_IN_ROLLOUT,t8,l,t.key),i.push([Z.USER_NOT_IN_ROLLOUT,t8,l,t.key])),{result:u,reasons:i}},e.prototype.getVariationForFeatureExperiment=function(e,t,r,n){void 0===n&&(n={});var i,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var u=e5(e,t.experimentIds[o],this.logger);if(u&&(i=this.getVariationFromExperimentRule(e,t.key,u,r,n),a.push.apply(a,i.reasons),s=i.result)){var l=null;return(l=u.variationKeyMap[s])||(l=e4(e,t.key,s)),{result:{experiment:u,variation:l,decisionSource:J.FEATURE_TEST},reasons:a}}}else this.logger.log(W.DEBUG,Z.FEATURE_HAS_NO_EXPERIMENTS,t8,t.key),a.push([Z.FEATURE_HAS_NO_EXPERIMENTS,t8,t.key]);return{result:{experiment:null,variation:null,decisionSource:J.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,r){var n=[];if(!t.rolloutId)return this.logger.log(W.DEBUG,Z.NO_ROLLOUT_EXISTS,t8,t.key),n.push([Z.NO_ROLLOUT_EXISTS,t8,t.key]),{result:{experiment:null,variation:null,decisionSource:J.ROLLOUT},reasons:n};var i=e.rolloutIdMap[t.rolloutId];if(!i)return this.logger.log(W.ERROR,Y.INVALID_ROLLOUT_ID,t8,t.rolloutId,t.key),n.push([Y.INVALID_ROLLOUT_ID,t8,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:J.ROLLOUT},reasons:n};var o,a,s,u=i.experiments;if(0===u.length)return this.logger.log(W.ERROR,Z.ROLLOUT_HAS_NO_EXPERIMENTS,t8,t.rolloutId),n.push([Z.ROLLOUT_HAS_NO_EXPERIMENTS,t8,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:J.ROLLOUT},reasons:n};for(var l=0;l<u.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,u,l,r),n.push.apply(n,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[u[l].id],variation:s,decisionSource:J.ROLLOUT},reasons:n};l=a?u.length-1:l+1}return{result:{experiment:null,variation:null,decisionSource:J.ROLLOUT},reasons:n}},e.prototype.getBucketingId=function(e,t){var r=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(X.BUCKETING_ID)&&("string"==typeof t[X.BUCKETING_ID]?(r=String(t[X.BUCKETING_ID]),this.logger.log(W.DEBUG,Z.VALID_BUCKETING_ID,t8,r)):this.logger.log(W.WARNING,Z.BUCKETING_ID_NOT_STRING,t8)),r},e.prototype.findValidatedForcedDecision=function(e,t,r,n){var i,o=[],a=t.getForcedDecision({flagKey:r,ruleKey:n}),s=null,u=t.getUserId();return e&&a&&((s=e4(e,r,i=a.variationKey))?n?(this.logger.log(W.INFO,Z.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,r,n,u),o.push([Z.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,r,n,u])):(this.logger.log(W.INFO,Z.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,r,u),o.push([Z.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,r,u])):n?(this.logger.log(W.INFO,Z.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,r,n,u),o.push([Z.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,r,n,u])):(this.logger.log(W.INFO,Z.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,r,u),o.push([Z.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,r,u]))),{result:s,reasons:o}},e.prototype.removeForcedVariation=function(e,t,r){if(!e)throw Error(S(Y.INVALID_USER_ID,t8));if(!this.forcedVariationMap.hasOwnProperty(e))throw Error(S(Y.USER_NOT_IN_FORCED_VARIATION,t8,e));delete this.forcedVariationMap[e][t],this.logger.log(W.DEBUG,Z.VARIATION_REMOVED_FOR_USER,t8,r,e)},e.prototype.setInForcedVariationMap=function(e,t,r){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=r,this.logger.log(W.DEBUG,Z.USER_MAPPED_TO_FORCED_VARIATION,t8,r,t,e)},e.prototype.getForcedVariation=function(e,t,r){var n,i=[],o=this.forcedVariationMap[r];if(!o)return this.logger.log(W.DEBUG,Z.USER_HAS_NO_FORCED_VARIATION,t8,r),{result:null,reasons:i};try{var a=e1(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(W.ERROR,Y.IMPROPERLY_FORMATTED_EXPERIMENT,t8,t),i.push([Y.IMPROPERLY_FORMATTED_EXPERIMENT,t8,t]),{result:null,reasons:i};n=a.id}catch(e){return this.logger.log(W.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var s=o[n];if(!s)return this.logger.log(W.DEBUG,Z.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,t8,t,r),{result:null,reasons:i};var u=e0(e,s);return u?(this.logger.log(W.DEBUG,Z.USER_HAS_FORCED_VARIATION,t8,u,t,r),i.push([Z.USER_HAS_FORCED_VARIATION,t8,u,t,r])):this.logger.log(W.DEBUG,Z.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,t8,t,r),{result:u,reasons:i}},e.prototype.setForcedVariation=function(e,t,r,n){if(null!=n&&!t3(n))return this.logger.log(W.ERROR,Y.INVALID_VARIATION_KEY,t8),!1;try{var i,o=e1(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(W.ERROR,Y.IMPROPERLY_FORMATTED_EXPERIMENT,t8,t),!1;i=o.id}catch(e){return this.logger.log(W.ERROR,e.message),!1}if(null==n)try{return this.removeForcedVariation(r,i,t),!0}catch(e){return this.logger.log(W.ERROR,e.message),!1}var a=function(e,t,r){var n=e.experimentKeyMap[t];return n.variationKeyMap.hasOwnProperty(r)?n.variationKeyMap[r].id:null}(e,t,n);if(!a)return this.logger.log(W.ERROR,Y.NO_VARIATION_FOR_EXPERIMENT_KEY,t8,n,t),!1;try{return this.setInForcedVariationMap(r,i,a),!0}catch(e){return this.logger.log(W.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,r,n,i){void 0===i&&(i={});var o=[],a=this.findValidatedForcedDecision(e,n,t,r.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var u=this.getVariation(e,r,n,i);return o.push.apply(o,u.reasons),{result:u.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,r,n,i){var o=[],a=!1,s=r[n],u=this.findValidatedForcedDecision(e,i,t,s.key);o.push.apply(o,u.reasons);var l=u.result;if(l)return{result:l,reasons:o,skipToEveryoneElse:a};var c,f,d,p,h=i.getUserId(),g=i.getAttributes(),y=this.getBucketingId(h,g),v=n===r.length-1,m=v?"Everyone Else":n+1,E=null,b=this.checkIfUserIsInAudience(e,s,Q.RULE,i,m);return o.push.apply(o,b.reasons),b.result?(this.logger.log(W.DEBUG,Z.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,t8,h,m),o.push([Z.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,t8,h,m]),f=tP(this.buildBucketerParams(e,s,y,h)),o.push.apply(o,f.reasons),(c=f.result)&&(p=c,E=(d=e).variationIdMap.hasOwnProperty(p)?d.variationIdMap[p]:null),E?(this.logger.log(W.DEBUG,Z.USER_BUCKETED_INTO_TARGETING_RULE,t8,h,m),o.push([Z.USER_BUCKETED_INTO_TARGETING_RULE,t8,h,m])):v||(this.logger.log(W.DEBUG,Z.USER_NOT_BUCKETED_INTO_TARGETING_RULE,t8,h,m),o.push([Z.USER_NOT_BUCKETED_INTO_TARGETING_RULE,t8,h,m]),a=!0)):(this.logger.log(W.DEBUG,Z.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,t8,h,m),o.push([Z.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,t8,h,m])),{result:E,reasons:o,skipToEveryoneElse:a}},e}();function t7(e,t){var r=e.revenue;if(null==r)return null;var n="string"==typeof r?parseInt(r):r;return isFinite(n)?(t.log(W.INFO,Z.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n),n):(t.log(W.INFO,Z.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",r),null)}function re(e,t){var r=e.value;if(null==r)return null;var n="string"==typeof r?parseFloat(r):r;return isFinite(n)?(t.log(W.INFO,Z.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n),n):(t.log(W.INFO,Z.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",r),null)}function rt(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||N.isNumber(t)&&N.isSafeInteger(t))}var rr="https://logx.optimizely.com/v1/events";function rn(e){var t=e.attributes,r=e.userId,n=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,l={snapshots:[],visitor_id:r,attributes:[]},c={account_id:o.accountId,project_id:o.projectId,visitors:[l],revision:o.revision,client_name:n,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach(function(e){var r=t[e];if(rt(e,r)){var n=e$(o,e,a);n&&c.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:r})}}),"boolean"==typeof u&&c.visitors[0].attributes.push({entity_id:X.BOT_FILTERING,key:X.BOT_FILTERING,type:"custom",value:u}),c}function ri(e){var t,r,n,i,o,a,s,u,l,c=rn(e),f=(t=e.configObj,r=e.experimentId,n=e.variationId,i=e.ruleKey,o=e.ruleType,a=e.flagKey,s=e.enabled,u=r?eX(t,r):null,l=n?e0(t,n):null,{decisions:[{campaign_id:u,experiment_id:r,variation_id:n,metadata:{flag_key:a,rule_key:i,rule_type:o,variation_key:l=l||"",enabled:s}}],events:[{entity_id:u,timestamp:N.currentTimestamp(),key:"campaign_activated",uuid:N.uuid()}]});return c.visitors[0].snapshots.push(f),{httpVerb:"POST",url:rr,params:c}}function ro(e){var t=rn(e),r=function(e,t,r,n){var i={events:[]},o={entity_id:eJ(e,t),timestamp:N.currentTimestamp(),uuid:N.uuid(),key:t};if(n){var a=t7(n,r);null!==a&&(o.revenue=a);var s=re(n,r);null!==s&&(o.value=s),o.tags=n}return i.events.push(o),i}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[r],{httpVerb:"POST",url:rr,params:t}}function ra(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function rs(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function ru(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==r&&r}function rl(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==r?r:null}function rc(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==r?r:null}var rf=F("EVENT_BUILDER");function rd(e,t){var r=[];return t&&Object.keys(t||{}).forEach(function(n){var i=t[n];if(rt(n,i)){var o=e$(e,n,rf);o&&r.push({entityId:o,key:n,value:i})}}),r}var rp="USER_PROFILE_SERVICE_VALIDATOR",rh=function(){function e(e){var r,n=this,i=e.clientEngine;i||(e.logger.log(W.INFO,Z.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"5.3.4",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger,this.odpManager=e.odpManager;var o=null!==(r=e.defaultDecideOptions)&&void 0!==r?r:[];Array.isArray(o)||(this.logger.log(W.DEBUG,Z.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var a={};o.forEach(function(e){t.OptimizelyDecideOption[e]?a[e]=!0:n.logger.log(W.WARNING,Z.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}),this.defaultDecideOptions=a,this.projectConfigManager=function(e){return new tC(e)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(e){n.logger.log(W.INFO,Z.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),n.notificationCenter.sendNotifications(G.OPTIMIZELY_CONFIG_UPDATE),n.updateOdpSettings()});var s=this.projectConfigManager.onReady(),u=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw Error(S(Y.INVALID_USER_PROFILE_SERVICE,rp,"Missing function 'lookup'"));if("function"!=typeof e.save)throw Error(S(Y.INVALID_USER_PROFILE_SERVICE,rp,"Missing function 'save'"));return!0}throw Error(S(Y.INVALID_USER_PROFILE_SERVICE,rp))})(e.userProfileService)&&(u=e.userProfileService,this.logger.log(W.INFO,Z.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(W.WARNING,e.message)}this.decisionService=new t9({userProfileService:u,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators}),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var l=this.eventProcessor.start();this.readyPromise=Promise.all([s,l,e.odpManager?e.odpManager.onReady():Promise.resolve()]).then(function(e){return e[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.getProjectConfig=function(){return this.projectConfigManager.getConfig()},e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},r))return this.notActivatingExperiment(e,t);var n=this.projectConfigManager.getConfig();if(!n)return null;try{var i=this.getVariation(e,t,r);if(null===i)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===eQ(e,t)}(n,e))return this.logger.log(W.DEBUG,Z.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),i;var o=e1(n,e),a={experiment:o,variation:o.variationKeyMap[i],decisionSource:J.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,r),i}catch(r){return this.logger.log(W.ERROR,r.message),this.logger.log(W.INFO,Z.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(r),null}}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,r=e.decisionObj,n=e.userId,i=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,u=e.clientVersion,l=r.decisionSource,c=ra(r),f=rl(r),d=rs(r),p=rc(r),h=null!==f?eX(t,f):null;return{type:"impression",timestamp:N.currentTimestamp(),uuid:N.uuid(),user:{id:n,attributes:rd(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:u,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:h},experiment:{id:f,key:c},variation:{id:p,key:d},ruleKey:c,flagKey:i,ruleType:l,enabled:o}}({decisionObj:e,flagKey:t,enabled:n,userId:r,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,r,n,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=ra(e),l=rl(e),c=rs(e),f=rc(e);null!==l&&""!==c&&(a=o.experimentIdMap[l]);var d,p=ri({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:l,ruleKey:u,flagKey:t,ruleType:s,userId:r,enabled:n,variationId:f,logger:this.logger});a&&a.variationKeyMap&&""!==c&&(d=a.variationKeyMap[c]),this.notificationCenter.sendNotifications(G.ACTIVATE,{experiment:a,userId:r,attributes:i,variation:d,logEvent:p})}},e.prototype.track=function(e,t,r,n){try{if(!this.isValidInstance())return void this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},r,n))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(i,e))return this.logger.log(W.WARNING,Z.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(W.WARNING,Z.NOT_TRACKING_USER,"OPTIMIZELY",t);var o=function(e){var t=e.configObj,r=e.userId,n=e.userAttributes,i=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,u=eJ(t,a),l=s?t7(s,rf):null,c=s?re(s,rf):null;return{type:"conversion",timestamp:N.currentTimestamp(),uuid:N.uuid(),user:{id:r,attributes:rd(t,n)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:u,key:a},revenue:l,value:c,tags:s}}({eventKey:e,eventTags:n=this.filterEmptyValues(n),userId:t,userAttributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(W.INFO,Z.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,r,n)}catch(e){this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(W.ERROR,Z.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,r,n){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o=ro({attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:n,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(G.TRACK,{eventKey:e,userId:t,attributes:r,eventTags:n,logEvent:o})}catch(e){this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},r))return null;var n,i,o=this.projectConfigManager.getConfig();if(!o)return null;var a=o.experimentKeyMap[e];if(!a)return this.logger.log(W.DEBUG,Y.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var s=this.decisionService.getVariation(o,a,this.createInternalUserContext(t,r)).result,u=(n=o,i=a.id,n.experimentFeatureMap.hasOwnProperty(i)?$.FEATURE_TEST:$.AB_TEST);return this.notificationCenter.sendNotifications(G.DECISION,{type:u,userId:t,attributes:r||{},decisionInfo:{experimentKey:e,variationKey:s}}),s}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,r){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;try{return this.decisionService.setForcedVariation(n,e,t,r)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;try{return this.decisionService.getForcedVariation(r,e,t).result}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,r){try{if(e.hasOwnProperty("user_id")){var n=e.user_id;if("string"!=typeof n||null===n||"undefined"===n)throw Error(S(Y.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(t){if(!t3(e[t]))throw Error(S(Y.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))}),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(S(Y.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach(function(t){if(void 0===e[t])throw Error(S(Y.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})}(t),r&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(S(Y.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(r),!0}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(W.INFO,Z.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)e.hasOwnProperty(t)&&(null===e[t]||void 0===e[t])&&delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},r))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;var i=e6(n,e,this.logger);if(!i)return!1;var o={},a=this.createInternalUserContext(t,r),s=this.decisionService.getVariationForFeature(n,i,a).result,u=s.decisionSource,l=ra(s),c=rs(s),f=ru(s);u===J.FEATURE_TEST&&(o={experimentKey:l,variationKey:c}),(u===J.FEATURE_TEST||u===J.ROLLOUT&&e9(n))&&this.sendImpressionEvent(s,i.key,t,f,r),!0===f?this.logger.log(W.INFO,Z.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(W.INFO,Z.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),f=!1);var d={featureKey:e,featureEnabled:f,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(G.DECISION,{type:$.FEATURE,userId:t,attributes:r||{},decisionInfo:d}),f}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var r=this;try{var n=[];if(!this.isValidInstance())return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),n;if(!this.validateInputs({user_id:e}))return n;var i=this.projectConfigManager.getConfig();return i&&I(i.featureKeyMap).forEach(function(i){r.isFeatureEnabled(i.key,e,t)&&n.push(i.key)}),n}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,r,n):(this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,r,n,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:n},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var a=e6(o,e,this.logger);if(!a)return null;var s=function(e,t,r,n){var i=e.featureKeyMap[t];return i?i.variableKeyMap[r]||(n.log(W.ERROR,Y.VARIABLE_KEY_NOT_IN_DATAFILE,eH,r,t),null):(n.log(W.ERROR,Y.FEATURE_NOT_IN_DATAFILE,eH,t),null)}(o,e,t,this.logger);if(!s)return null;if(r&&s.type!==r)return this.logger.log(W.WARNING,Z.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",r,s.type),null;var u=this.createInternalUserContext(n,i),l=this.decisionService.getVariationForFeature(o,a,u).result,c=ru(l),f=this.getFeatureVariableValueFromVariation(e,c,l.variation,s,n),d={};return l.decisionSource===J.FEATURE_TEST&&null!==l.experiment&&null!==l.variation&&(d={experimentKey:l.experiment.key,variationKey:l.variation.key}),this.notificationCenter.sendNotifications(G.DECISION,{type:$.FEATURE_VARIABLE,userId:n,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:c,source:l.decisionSource,variableKey:t,variableValue:f,variableType:s.type,sourceInfo:d}}),f},e.prototype.getFeatureVariableValueFromVariation=function(e,t,r,n,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=n.defaultValue;if(null!==r){var s=function(e,t,r,n){if(!t||!r)return null;if(!e.variationVariableUsageMap.hasOwnProperty(r.id))return n.log(W.ERROR,Y.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,eH,r.id),null;var i=e.variationVariableUsageMap[r.id][t.id];return i?i.value:null}(o,n,r,this.logger);null!==s?t?(a=s,this.logger.log(W.INFO,Z.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,n.key,e)):this.logger.log(W.INFO,Z.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a):this.logger.log(W.INFO,Z.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",n.key,r.key)}else this.logger.log(W.INFO,Z.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,n.key,e);return function(e,t,r){var n;switch(t){case ee.BOOLEAN:"true"!==e&&"false"!==e?(r.log(W.ERROR,Y.UNABLE_TO_CAST_VALUE,eH,e,t),n=null):n="true"===e;break;case ee.INTEGER:isNaN(n=parseInt(e,10))&&(r.log(W.ERROR,Y.UNABLE_TO_CAST_VALUE,eH,e,t),n=null);break;case ee.DOUBLE:isNaN(n=parseFloat(e))&&(r.log(W.ERROR,Y.UNABLE_TO_CAST_VALUE,eH,e,t),n=null);break;case ee.JSON:try{n=JSON.parse(e)}catch(i){r.log(W.ERROR,Y.UNABLE_TO_CAST_VALUE,eH,e,t),n=null}break;default:n=e}return n}(a,n.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,ee.BOOLEAN,r,n):(this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,ee.DOUBLE,r,n):(this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,ee.INTEGER,r,n):(this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,ee.STRING,r,n):(this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,ee.JSON,r,n):(this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,r){var n=this;try{if(!this.isValidInstance())return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},r))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=e6(i,e,this.logger);if(!o)return null;var a=this.createInternalUserContext(t,r),s=this.decisionService.getVariationForFeature(i,o,a).result,u=ru(s),l={};o.variables.forEach(function(r){l[r.key]=n.getFeatureVariableValueFromVariation(e,u,s.variation,r,t)});var c={};return s.decisionSource===J.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(c={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(G.DECISION,{type:$.ALL_FEATURE_VARIABLES,userId:t,attributes:r||{},decisionInfo:{featureKey:e,featureEnabled:u,source:s.decisionSource,variableValues:l,sourceInfo:c}}),l}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e,t=this;try{this.odpManager&&this.odpManager.stop(),this.notificationCenter.clearAllNotificationListeners();var r=null===(e=this.projectConfigManager.getConfig())||void 0===e?void 0:e.sdkKey;r&&eV.removeNotificationCenter(r);var n=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(e){var r=t.readyTimeouts[e];clearTimeout(r.readyTimeout),r.onClose()}),this.readyTimeouts={},n.then(function(){return{success:!0}},function(e){return{success:!1,reason:String(e)}})}catch(e){return this.logger.log(W.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,r,n=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),N.isSafeInteger(t)||(t=3e4);var i=new Promise(function(e){r=e}),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout(function(){delete n.readyTimeouts[o],r({success:!1,reason:S("onReady timeout expired after %s ms",t)})},t);return this.readyTimeouts[o]={readyTimeout:a,onClose:function(){r({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(a),delete n.readyTimeouts[o],r({success:!0})}),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){var r,n=null!=e?e:null===(r=this.odpManager)||void 0===r?void 0:r.getVuid();return void 0!==n&&this.validateInputs({user_id:n},t)?new tT({optimizely:this,userId:n,attributes:t,shouldIdentifyUser:!0}):null},e.prototype.createInternalUserContext=function(e,t){return new tT({optimizely:this,userId:e,attributes:t,shouldIdentifyUser:!1})},e.prototype.decide=function(e,r,n){var i,o,a,s,u=this;void 0===n&&(n=[]);var l,c=e.getUserId(),f=e.getAttributes(),d=this.projectConfigManager.getConfig(),h=[];if(!this.isValidInstance()||!d)return this.logger.log(W.INFO,Z.INVALID_OBJECT,"OPTIMIZELY","decide"),tS(r,e,[er.SDK_NOT_READY]);var g=d.featureKeyMap[r];if(!g)return this.logger.log(W.ERROR,Y.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",r),tS(r,e,[S(er.FLAG_KEY_INVALID,r)]);var y=this.getAllDecideOptions(n),v=this.decisionService.findValidatedForcedDecision(d,e,r);h.push.apply(h,v.reasons);var m=v.result;if(m)l={experiment:null,variation:m,decisionSource:J.FEATURE_TEST};else{var E=this.decisionService.getVariationForFeature(d,g,e,y);h.push.apply(h,E.reasons),l=E.result}var b=l.decisionSource,_=null!==(o=null===(i=l.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,I=null!==(s=null===(a=l.variation)||void 0===a?void 0:a.key)&&void 0!==s?s:null,O=ru(l);!0===O?this.logger.log(W.INFO,Z.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",r,c):this.logger.log(W.INFO,Z.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",r,c);var R={},w=!1;y[t.OptimizelyDecideOption.EXCLUDE_VARIABLES]||g.variables.forEach(function(e){R[e.key]=u.getFeatureVariableValueFromVariation(r,O,l.variation,e,c)}),!y[t.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(b===J.FEATURE_TEST||b===J.ROLLOUT&&e9(d))&&(this.sendImpressionEvent(l,r,c,O,f),w=!0);var T=[];y[t.OptimizelyDecideOption.INCLUDE_REASONS]&&(T=h.map(function(e){return S.apply(void 0,p([e[0]],e.slice(1),!1))}));var A={flagKey:r,enabled:O,variationKey:I,ruleKey:_,variables:R,reasons:T,decisionEventDispatched:w};return this.notificationCenter.sendNotifications(G.DECISION,{type:$.FLAG,userId:c,attributes:f,decisionInfo:A}),{variationKey:I,enabled:O,variables:R,ruleKey:_,flagKey:r,userContext:e,reasons:T}},e.prototype.getAllDecideOptions=function(e){var r=this,n=c({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(e){t.OptimizelyDecideOption[e]?n[e]=!0:r.logger.log(W.WARNING,Z.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}):this.logger.log(W.DEBUG,Z.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),n},e.prototype.decideForKeys=function(e,r,n){var i=this;void 0===n&&(n=[]);var o={};if(!this.isValidInstance())return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),o;if(0===r.length)return o;var a=this.getAllDecideOptions(n);return r.forEach(function(r){var s=i.decide(e,r,n);a[t.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[r]=s)}),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var r=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!r)return this.logger.log(W.ERROR,Z.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var n=Object.keys(r.featureKeyMap);return this.decideForKeys(e,n,t)},e.prototype.updateOdpSettings=function(){var e=this.projectConfigManager.getConfig();e&&this.odpManager&&this.odpManager.updateSettings(e.odpIntegrationConfig)},e.prototype.sendOdpEvent=function(e,t,r,n){if(this.odpManager){var i=null!=t?t:"fullstack",o=new Map(r);if(r&&r.size>0)try{r.forEach(function(e,t){"fs-user-id"!==t.toLowerCase()&&eA.FS_USER_ID!==t.toLowerCase()||(o.delete(t),o.set(eA.FS_USER_ID,e))})}catch(e){this.logger.warn(Z.ODP_SEND_EVENT_IDENTIFIER_CONVERSION_FAILED)}try{var a=new tp(i,e,o,n);this.odpManager.sendEvent(a)}catch(e){this.logger.error(Y.ODP_EVENT_FAILED,e)}}else this.logger.error(Y.ODP_EVENT_FAILED_ODP_MANAGER_MISSING)},e.prototype.isOdpIntegrated=function(){var e,t,r;return null!==(r=null===(t=null===(e=this.projectConfigManager.getConfig())||void 0===e?void 0:e.odpIntegrationConfig)||void 0===t?void 0:t.integrated)&&void 0!==r&&r},e.prototype.identifyUser=function(e){this.odpManager&&this.isOdpIntegrated()&&this.odpManager.identifyUser(e)},e.prototype.fetchQualifiedSegments=function(e,t){return f(this,void 0,void 0,function(){return d(this,function(r){switch(r.label){case 0:return this.odpManager?[4,this.odpManager.fetchQualifiedSegments(e,t)]:[2,null];case 1:return[2,r.sent()]}})})},e.prototype.getVuid=function(){var e;if(this.odpManager){if(this.odpManager.isVuidEnabled())return this.odpManager.getVuid();this.logger.log(W.WARNING,"getVuid() unavailable for this platform","OPTIMIZELY")}else null===(e=this.logger)||void 0===e||e.error("Unable to get VUID - ODP Manager is not instantiated yet.")},e}(),rg={parseUserAgentInfo:function(){var e=(new s.UAParser).getResult();return{os:e.os,device:e.device}}};function ry(){return rg}var rv=Object.freeze({__proto__:null,get LogLevel(){return t.LogLevel},getLogger:F,setLogHandler:j,LOG_LEVEL:W,createLogger:eI}),rm=F();V.setLogHandler(eI()),V.setLogLevel(t.LogLevel.INFO);var rE=!1,rb=function(e){var r;try{var n=!1;e.errorHandler&&(h=e.errorHandler),e.logger&&(V.setLogHandler(e.logger),V.setLogLevel(t.LogLevel.NOTSET)),void 0!==e.logLevel&&V.setLogLevel(e.logLevel);try{eg(e),n=!0}catch(e){rm.error(e)}var i=void 0;null==e.eventDispatcher?(i=new eu({eventDispatcher:eE}),rE||(i.sendPendingEvents(),rE=!0)):i=e.eventDispatcher;var o=e.closingEventDispatcher;!e.eventDispatcher&&!o&&window.navigator&&"sendBeacon"in window.navigator&&(o=eb);var a=e.eventBatchSize,s=e.eventFlushInterval;eR(e.eventBatchSize)||(rm.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),a=10),ew(e.eventFlushInterval)||(rm.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),s=1e3);var u=g(),l=eT({logger:rm,errorHandler:u}),f={dispatcher:i,closingDispatcher:o,flushInterval:s,batchSize:a,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:l},d=!0===(null===(r=e.odpOptions)||void 0===r?void 0:r.disabled);d&&rm.info(Z.ODP_DISABLED);var p=e.clientEngine,y=e.clientVersion,v=c(c({clientEngine:"javascript-sdk"},e),{eventProcessor:eC.createEventProcessor(f),logger:rm,errorHandler:u,datafileManager:e.sdkKey?e7(e.sdkKey,rm,e.datafile,e.datafileOptions):void 0,notificationCenter:l,isValidInstance:n,odpManager:d?void 0:tw.createInstance({logger:rm,odpOptions:e.odpOptions,clientEngine:p,clientVersion:y})}),m=new rh(v);try{if("function"==typeof window.addEventListener){var E="onpagehide"in window?"pagehide":"unload";window.addEventListener(E,function(){m.close()},!1)}}catch(e){rm.error(Z.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return m}catch(e){return rm.error(e),null}},r_=function(){rE=!1},rI=V.setLogHandler,rO=V.setLogLevel,rR=c(c({},rv),{logging:eO,errorHandler:ev,eventDispatcher:eE,sendBeaconEventDispatcher:eb,enums:en,setLogger:rI,setLogLevel:rO,createInstance:rb,__internalResetRetryState:r_,OptimizelyDecideOption:t.OptimizelyDecideOption,getUserAgentParser:ry});t.LOG_LEVEL=W,t.__internalResetRetryState=r_,t.createInstance=rb,t.createLogger=eI,t.default=rR,t.enums=en,t.errorHandler=ev,t.eventDispatcher=eE,t.getLogger=F,t.getUserAgentParser=ry,t.logging=eO,t.sendBeaconEventDispatcher=eb,t.setLogHandler=j,t.setLogLevel=rO,t.setLogger=rI},58890:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.default}});var n=d(r(19002)),i=d(r(16248)),o=d(r(57176)),a=d(r(96330)),s=d(r(81596)),u=d(r(30862)),l=d(r(20390)),c=d(r(26387)),f=d(r(83025));function d(e){return e&&e.__esModule?e:{default:e}}},81714:function(e,t){"use strict";function r(e){let t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){let r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}function n(e){return(e+64>>>9<<4)+14+1}function i(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let r=1732584193,i=-271733879,o=-1732584194,s=271733878;for(let t=0;t<e.length;t+=16){let n=r,u=i,p=o,h=s;r=l(r,i,o,s,e[t],7,-680876936),s=l(s,r,i,o,e[t+1],12,-389564586),o=l(o,s,r,i,e[t+2],17,606105819),i=l(i,o,s,r,e[t+3],22,-1044525330),r=l(r,i,o,s,e[t+4],7,-176418897),s=l(s,r,i,o,e[t+5],12,1200080426),o=l(o,s,r,i,e[t+6],17,-1473231341),i=l(i,o,s,r,e[t+7],22,-45705983),r=l(r,i,o,s,e[t+8],7,1770035416),s=l(s,r,i,o,e[t+9],12,-1958414417),o=l(o,s,r,i,e[t+10],17,-42063),i=l(i,o,s,r,e[t+11],22,-1990404162),r=l(r,i,o,s,e[t+12],7,1804603682),s=l(s,r,i,o,e[t+13],12,-40341101),o=l(o,s,r,i,e[t+14],17,-1502002290),i=l(i,o,s,r,e[t+15],22,1236535329),r=c(r,i,o,s,e[t+1],5,-165796510),s=c(s,r,i,o,e[t+6],9,-1069501632),o=c(o,s,r,i,e[t+11],14,643717713),i=c(i,o,s,r,e[t],20,-373897302),r=c(r,i,o,s,e[t+5],5,-701558691),s=c(s,r,i,o,e[t+10],9,38016083),o=c(o,s,r,i,e[t+15],14,-660478335),i=c(i,o,s,r,e[t+4],20,-405537848),r=c(r,i,o,s,e[t+9],5,568446438),s=c(s,r,i,o,e[t+14],9,-1019803690),o=c(o,s,r,i,e[t+3],14,-187363961),i=c(i,o,s,r,e[t+8],20,1163531501),r=c(r,i,o,s,e[t+13],5,-1444681467),s=c(s,r,i,o,e[t+2],9,-51403784),o=c(o,s,r,i,e[t+7],14,1735328473),i=c(i,o,s,r,e[t+12],20,-1926607734),r=f(r,i,o,s,e[t+5],4,-378558),s=f(s,r,i,o,e[t+8],11,-2022574463),o=f(o,s,r,i,e[t+11],16,1839030562),i=f(i,o,s,r,e[t+14],23,-35309556),r=f(r,i,o,s,e[t+1],4,-1530992060),s=f(s,r,i,o,e[t+4],11,1272893353),o=f(o,s,r,i,e[t+7],16,-155497632),i=f(i,o,s,r,e[t+10],23,-1094730640),r=f(r,i,o,s,e[t+13],4,681279174),s=f(s,r,i,o,e[t],11,-358537222),o=f(o,s,r,i,e[t+3],16,-722521979),i=f(i,o,s,r,e[t+6],23,76029189),r=f(r,i,o,s,e[t+9],4,-640364487),s=f(s,r,i,o,e[t+12],11,-421815835),o=f(o,s,r,i,e[t+15],16,530742520),i=f(i,o,s,r,e[t+2],23,-995338651),r=d(r,i,o,s,e[t],6,-198630844),s=d(s,r,i,o,e[t+7],10,1126891415),o=d(o,s,r,i,e[t+14],15,-1416354905),i=d(i,o,s,r,e[t+5],21,-57434055),r=d(r,i,o,s,e[t+12],6,1700485571),s=d(s,r,i,o,e[t+3],10,-1894986606),o=d(o,s,r,i,e[t+10],15,-1051523),i=d(i,o,s,r,e[t+1],21,-2054922799),r=d(r,i,o,s,e[t+8],6,1873313359),s=d(s,r,i,o,e[t+15],10,-30611744),o=d(o,s,r,i,e[t+6],15,-1560198380),i=d(i,o,s,r,e[t+13],21,1309151649),r=d(r,i,o,s,e[t+4],6,-145523070),s=d(s,r,i,o,e[t+11],10,-1120210379),o=d(o,s,r,i,e[t+2],15,718787259),i=d(i,o,s,r,e[t+9],21,-343485551),r=a(r,n),i=a(i,u),o=a(o,p),s=a(s,h)}return[r,i,o,s]}function o(e){if(0===e.length)return[];let t=8*e.length,r=new Uint32Array(n(t));for(let n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}function a(e,t){let r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o){return a(s(a(a(t,e),a(n,o)),i),r)}function l(e,t,r,n,i,o,a){return u(t&r|~t&n,e,t,i,o,a)}function c(e,t,r,n,i,o,a){return u(t&n|r&~n,e,t,i,o,a)}function f(e,t,r,n,i,o,a){return u(t^r^n,e,t,i,o,a)}function d(e,t,r,n,i,o,a){return u(r^(t|~n),e,t,i,o,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p=function(e){if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return r(i(o(e),8*e.length))};t.default=p},37416:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},81596:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="00000000-0000-0000-0000-000000000000";t.default=r},83025:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(20390));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){let t;if(!(0,n.default)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},18850:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.default=r},83082:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;let n=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}},12839:function(e,t){"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){let t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let o=Math.ceil((e.length/4+2)/16),a=Array(o);for(let t=0;t<o;++t){let r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=(e.length-1)*8/4294967296,a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(let e=0;e<o;++e){let o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=a[e][t];for(let e=16;e<80;++e)o[e]=n(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let s=i[0],u=i[1],l=i[2],c=i[3],f=i[4];for(let e=0;e<80;++e){let i=Math.floor(e/20),a=n(s,5)+r(i,u,l,c)+f+t[i]+o[e]>>>0;f=c,c=l,l=n(u,30)>>>0,u=s,s=a}i[0]=i[0]+s>>>0,i[1]=i[1]+u>>>0,i[2]=i[2]+l>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+f>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},26387:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n=i(r(20390));function i(e){return e&&e.__esModule?e:{default:e}}let o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var s=function(e,t=0){let r=a(e,t);if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=s},19002:function(e,t,r){"use strict";let n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(r(83082)),a=r(26387);function s(e){return e&&e.__esModule?e:{default:e}}let u=0,l=0;var c=function(e,t,r){let s=t&&r||0,c=t||Array(16),f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){let t=e.random||(e.rng||o.default)();null==f&&(f=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=i=(t[6]<<8|t[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1,g=p-u+(h-l)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,l=h,i=d;let y=((268435455&(p+=122192928e5))*1e4+h)%4294967296;c[s++]=y>>>24&255,c[s++]=y>>>16&255,c[s++]=y>>>8&255,c[s++]=255&y;let v=p/4294967296*1e4&268435455;c[s++]=v>>>8&255,c[s++]=255&v,c[s++]=v>>>24&15|16,c[s++]=v>>>16&255,c[s++]=d>>>8|128,c[s++]=255&d;for(let e=0;e<6;++e)c[s+e]=f[e];return t||(0,a.unsafeStringify)(c)};t.default=c},16248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(89642)),i=o(r(81714));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,i.default);t.default=a},89642:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=l;var n=r(26387),i=o(r(83025));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;let u="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function l(e,t,r){function o(e,o,s,u){var l;if("string"==typeof e&&(e=a(e)),"string"==typeof o&&(o=(0,i.default)(o)),(null===(l=o)||void 0===l?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(o),c.set(e,o.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,s){u=u||0;for(let e=0;e<16;++e)s[u+e]=c[e];return s}return(0,n.unsafeStringify)(c)}try{o.name=e}catch(e){}return o.DNS=s,o.URL=u,o}t.URL=u},57176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(37416)),i=a(r(83082)),o=r(26387);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();let a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)};t.default=s},96330:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(89642)),i=o(r(12839));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,i.default);t.default=a},20390:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(18850));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){return"string"==typeof e&&n.default.test(e)};t.default=o},30862:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(20390));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},59196:function(e,t){"use strict";t.byteLength=l,t.toByteArray=f,t.fromByteArray=h;for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n}function c(e,t,r){return(t+r)*3/4-r}function f(e){var t,r,o=u(e),a=o[0],s=o[1],l=new i(c(e,a,s)),f=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[f++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t),l}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,r){for(var n=[],i=t;i<r;i+=3)n.push(d((e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2])));return n.join("")}function h(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(p(e,s,s+a>u?u:s+a));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},82957:function(e,t,r){"use strict";var n=r(59196),i=r(68848),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}function u(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return h(e,t);if(ArrayBuffer.isView(e))return y(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return v(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);var i=m(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e,t,r){return(f(e),e<=0)?u(e):void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)}function p(e){return f(e),u(e<0?0:0|E(e))}function h(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!l.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|_(e,t),n=u(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function g(e){for(var t=e.length<0?0:0|E(e.length),r=u(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e){if($(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}function v(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),l.prototype),n}function m(e){if(l.isBuffer(e)){var t=0|E(e.length),r=u(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?u(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}function E(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),l.alloc(+e)}function _(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function I(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return D(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return U(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function O(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function R(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else -1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return -1}function S(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(J(s))break;e[r+a]=s}return a}function T(e,t,r,n){return X(H(t,e.length-r),e,r,n)}function A(e,t,r,n){return X(W(t),e,r,n)}function N(e,t,r,n){return X(Z(t),e,r,n)}function L(e,t,r,n){return X(Y(t,e.length-r),e,r,n)}function U(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function D(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return x(n)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return d(e,t,r)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if($(o,Uint8Array))i+o.length>n.length?l.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(l.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},l.byteLength=_,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)O(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)O(this,t,t+3),O(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)O(this,t,t+7),O(this,t+1,t+6),O(this,t+2,t+5),O(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?D(this,0,e):I.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(u[f]!==c[f]){o=u[f],a=c[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return R(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return R(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S(this,e,t,r);case"utf8":case"utf-8":return T(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return N(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,r);default:if(o)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function x(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Q[e[o]];return i}function F(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function V(e,t,r,n,i,o){if(!l.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function B(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function G(e,t,r,n,o){return t=+t,r>>>=0,o||B(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,o){return t=+t,r>>>=0,o||B(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return(e>>>=0,t||j(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;V(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;V(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);V(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);V(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||V(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return G(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return G(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=l.isBuffer(e)?e:l.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var q=/[^+/0-9A-Za-z-_]/g;function K(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function W(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Y(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}function Z(e){return n.toByteArray(K(e))}function X(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}var Q=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},23837:function(e,t,r){"use strict";var n=r(50071),i=r(72884),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},72884:function(e,t,r){"use strict";var n=r(92517),i=r(50071),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(e){var t=s(n,a,arguments);return u&&l&&u(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}),t};var f=function(){return s(n,o,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},89445:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r)||[];return e}}function a(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var i=o(r[0]);i!==r[0]&&(t[r[0]]=i)}r=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];e=e.replace(RegExp(u,"g"),t[u])}return e}e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},55445:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function i(e){console&&console.warn&&console.warn(e)}t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=m,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var o,a,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,i(c)}return e}function f(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?v(i):g(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function v(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function m(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&E(e,i,{once:!0})})}function E(e,t,r){"function"==typeof e.on&&b(e,"error",t,r)}function b(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else for(var l=u.length,c=g(u,l),r=0;r<l;++r)n(c[r],this,t);return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,a;if(u(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():y(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},27660:function(e,t,r){"use strict";var n=r(52262),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},s=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},u=function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},l=function(e,t,r){var o;if(!n(t))throw TypeError("iterator must be a function");arguments.length>=3&&(o=r),"[object Array]"===i.call(e)?a(e,t,o):"string"==typeof e?s(e,t,o):u(e,t,o)};e.exports=l},98595:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o,a=this;if("function"!=typeof a||n.call(a)!==i)throw TypeError(t+a);for(var s=r.call(arguments,1),u=function(){if(!(this instanceof o))return a.apply(e,s.concat(r.call(arguments)));var t=a.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this},l=Math.max(0,a.length-s.length),c=[],f=0;f<l;f++)c.push("$"+f);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),a.prototype){var d=function(){};d.prototype=a.prototype,o.prototype=new d,d.prototype=null}return o}},92517:function(e,t,r){"use strict";var n=r(98595);e.exports=Function.prototype.bind||n},50071:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var l=function(){throw new a},c=u?function(){try{return arguments.callee,l}catch(e){try{return u(arguments,"callee").get}catch(e){return l}}}():l,f=r(35222)(),d=r(70551)(),p=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),h={},g="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(e){var v=p(p(e));y["%Error.prototype%"]=v}var m=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return y[t]=r,r},E={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(92517),_=r(855),I=b.call(Function.call,Array.prototype.concat),O=b.call(Function.apply,Array.prototype.splice),R=b.call(Function.call,String.prototype.replace),w=b.call(Function.call,String.prototype.slice),S=b.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,N=function(e){var t=w(e,0,1),r=w(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return R(e,T,function(e,t,r,i){n[n.length]=r?R(i,A,"$1"):t||e}),n},L=function(e,t){var r,n=e;if(_(E,n)&&(n="%"+(r=E[n])[0]+"%"),_(y,n)){var o=y[n];if(o===h&&(o=m(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=N(e),n=r.length>0?r[0]:"",o=L("%"+n+"%",t),s=o.name,l=o.value,c=!1,f=o.alias;f&&(n=f[0],O(r,I([0,1],f)));for(var d=1,p=!0;d<r.length;d+=1){var h=r[d],g=w(h,0,1),v=w(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(c=!0),n+="."+h,_(y,s="%"+n+"%"))l=y[s];else if(null!=l){if(!(h in l)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var m=u(l,h);l=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:l[h]}else p=_(l,h),l=l[h];p&&!c&&(y[s]=l)}}return l}},50297:function(e,t,r){"use strict";var n=r(50071)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},70551:function(e){"use strict";var t={foo:{}},r=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(({__proto__:null})instanceof r)}},35222:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(38056);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},38056:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;var n=42;for(t in e[t]=n,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},50212:function(e,t,r){"use strict";var n=r(38056);e.exports=function(){return n()&&!!Symbol.toStringTag}},855:function(e,t,r){"use strict";var n=r(92517);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},63285:function(e,t,r){"use strict";var n=r(82558),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function l(e){return n.isMemo(e)?s:u[e.$$typeof]||i}u[n.ForwardRef]=a,u[n.Memo]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;function y(e,t,r){if("string"!=typeof t){if(g){var n=h(t);n&&n!==g&&y(e,n,r)}var i=f(t);d&&(i=i.concat(d(t)));for(var a=l(e),s=l(t),u=0;u<i.length;++u){var v=i[u];if(!o[v]&&!(r&&r[v])&&!(s&&s[v])&&!(a&&a[v])){var m=p(t,v);try{c(e,v,m)}catch(e){}}}}return e}e.exports=y},68848:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=l}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?5960464477539062e-23:0,p=n?0:o-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+p]=255&a,p+=h,a/=256,l-=8);e[r+p-h]|=128*g}},56853:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},23722:function(e,t,r){"use strict";var n=r(50212)(),i=r(23837)("Object.prototype.toString"),o=function(e){return(!n||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},52262:function(e){"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i(function(){throw 42},null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},s=function(e){try{if(a(e))return!1;return n.call(e),!0}catch(e){return!1}},u=Object.prototype.toString,l="[object Object]",c="[object Function]",f="[object GeneratorFunction]",d="[object HTMLAllCollection]",p="[object HTML document.all class]",h="[object HTMLCollection]",g="function"==typeof Symbol&&!!Symbol.toStringTag,y=!(0 in[,]),v=function(){return!1};if("object"==typeof document){var m=document.all;u.call(m)===u.call(document.all)&&(v=function(e){if((y||!e)&&(void 0===e||"object"==typeof e))try{var t=u.call(e);return(t===d||t===p||t===h||t===l)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(v(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&s(e)}:function(e){if(v(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(g)return s(e);if(a(e))return!1;var t=u.call(e);return!!(t===c||t===f||/^\[object HTML/.test(t))&&s(e)}},80184:function(e,t,r){"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=r(50212)(),u=Object.getPrototypeOf,l=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}};e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=l();n=!!t&&u(t)}return u(e)===n}},87688:function(e,t,r){"use strict";var n=r(27660),i=r(77509),o=r(23837),a=o("Object.prototype.toString"),s=r(50212)(),u=r(50297),l="undefined"==typeof globalThis?r.g:globalThis,c=i(),f=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},d=o("String.prototype.slice"),p={},h=Object.getPrototypeOf;s&&u&&h&&n(c,function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=h(t),n=u(r,Symbol.toStringTag);n||(n=u(h(r),Symbol.toStringTag)),p[e]=n.get}});var g=function(e){var t=!1;return n(p,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t};e.exports=function(e){return!!e&&"object"==typeof e&&(s&&Symbol.toStringTag in e?!!u&&g(e):f(c,d(a(e),8,-1))>-1)}},33227:function(e,t){var r;!function(n,i){void 0!==(r=(function(){return i()}).apply(t,[]))&&(e.exports=r)}(0,function(){var e=r;e.Integer={type:"integer"};var t={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};function r(e,t){return r(e,t,{changing:!1})}e.validate=r,e.checkPropertyChange=function(e,t,n){return r(e,t,{changing:n||"property"})};var r=e._validate=function(e,r,n){n||(n={});var i=n.changing;function o(e){return e.type||t[e.name]==e&&e.name.toLowerCase()}var a=[];function s(e,t,r,l){var c;function f(e){a.push({property:r,message:e})}if(r+=r?"number"==typeof l?"["+l+"]":void 0===l?"":"."+l:l,("object"!=typeof t||t instanceof Array)&&(r||"function"!=typeof t)&&!(t&&o(t)))return"function"==typeof t?e instanceof t||f("is not an instance of the class/constructor "+t.name):t&&f("Invalid schema/property definition "+t),null;function d(e,t){if(e){if("string"==typeof e&&"any"!=e&&("null"==e?null!==t:typeof t!=e)&&!(t instanceof Array&&"array"==e)&&!(t instanceof Date&&"date"==e)&&!("integer"==e&&t%1==0))return[{property:r,message:t+" - "+typeof t+" value found, but a "+e+" is required"}];if(e instanceof Array){for(var n=[],i=0;i<e.length&&(n=d(e[i],t)).length;i++);if(n.length)return n}else if("object"==typeof e){var o=a;a=[],s(t,e,r);var u=a;return a=o,u}}return[]}if(i&&t.readonly&&f("is a readonly field, it can not be changed"),t.extends&&s(e,t.extends,r,l),void 0===e)t.required&&f("is missing and it is required");else if(a=a.concat(d(o(t),e)),t.disallow&&!d(t.disallow,e).length&&f(" disallowed value was matched"),null!==e){if(e instanceof Array){if(t.items){var p=t.items instanceof Array,h=t.items;for(l=0,c=e.length;l<c;l+=1)p&&(h=t.items[l]),n.coerce&&(e[l]=n.coerce(e[l],h)),a.concat(s(e[l],h,r,l))}t.minItems&&e.length<t.minItems&&f("There must be a minimum of "+t.minItems+" in the array"),t.maxItems&&e.length>t.maxItems&&f("There must be a maximum of "+t.maxItems+" in the array")}else(t.properties||t.additionalProperties)&&a.concat(u(e,t.properties,r,t.additionalProperties));if(t.pattern&&"string"==typeof e&&!e.match(t.pattern)&&f("does not match the regex pattern "+t.pattern),t.maxLength&&"string"==typeof e&&e.length>t.maxLength&&f("may only be "+t.maxLength+" characters long"),t.minLength&&"string"==typeof e&&e.length<t.minLength&&f("must be at least "+t.minLength+" characters long"),void 0!==t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&f("must have a minimum value of "+t.minimum),void 0!==t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&f("must have a maximum value of "+t.maximum),t.enum){var g,y=t.enum;c=y.length;for(var v=0;v<c;v++)if(y[v]===e){g=1;break}g||f("does not have a value in the enumeration "+y.join(", "))}"number"==typeof t.maxDecimal&&e.toString().match(RegExp("\\.[0-9]{"+(t.maxDecimal+1)+",}"))&&f("may only have "+t.maxDecimal+" digits of decimal places")}return null}function u(e,t,r,o){if("object"==typeof t){for(var u in("object"!=typeof e||e instanceof Array)&&a.push({property:r,message:"an object is required"}),t)if(t.hasOwnProperty(u)&&"__proto__"!=u&&"constructor"!=u){var l=e.hasOwnProperty(u)?e[u]:void 0;if(void 0===l&&n.existingOnly)continue;var c=t[u];void 0===l&&c.default&&(l=e[u]=c.default),n.coerce&&u in e&&(l=e[u]=n.coerce(l,c)),s(l,c,r,u)}}for(u in e){if(e.hasOwnProperty(u)&&!("_"==u.charAt(0)&&"_"==u.charAt(1))&&t&&!t[u]&&!1===o){if(n.filter){delete e[u];continue}a.push({property:r,message:"The property "+u+" is not defined in the schema and the schema does not allow additional properties"})}var f=t&&t[u]&&t[u].requires;!f||f in e||a.push({property:r,message:"the presence of the property "+u+" requires that "+f+" also be present"}),l=e[u],!o||t&&"object"==typeof t&&u in t||(n.coerce&&(l=e[u]=n.coerce(l,o)),s(l,o,r,u)),!i&&l&&l.$schema&&(a=a.concat(s(l,l.$schema,r,u)))}return a}return r&&s(e,r,"",i||""),!i&&e&&e.$schema&&s(e,e.$schema,"",""),{valid:!a.length,errors:a}};return e.mustBeValid=function(e){if(!e.valid)throw TypeError(e.errors.map(function(e){return"for property "+e.property+": "+e.message}).join(", \n"))},e})},81288:function(e){!function(){let t=e=>new TextEncoder().encode(e);function r(e,r){"string"==typeof e&&(e=t(e));let n=e.length,i=r^n,o=0,a;for(;n>=4;)a=(65535&(a=255&e[o]|(255&e[++o])<<8|(255&e[++o])<<16|(255&e[++o])<<24))*1540483477+(((a>>>16)*1540483477&65535)<<16),a^=a>>>24,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)^(a=(65535&a)*1540483477+(((a>>>16)*1540483477&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e[o+2])<<16;case 2:i^=(255&e[o+1])<<8;case 1:i^=255&e[o],i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)}return i^=i>>>13,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16),(i^=i>>>15)>>>0}function n(e,r){let n,i,o,a,s,u,l,c;for("string"==typeof e&&(e=t(e)),n=3&e.length,i=e.length-n,o=r,s=3432918353,u=461845907,c=0;c<i;)l=255&e[c]|(255&e[++c])<<8|(255&e[++c])<<16|(255&e[++c])<<24,++c,o^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*u+(((l>>>16)*u&65535)<<16)&4294967295,o=(65535&(a=(65535&(o=o<<13|o>>>19))*5+(((o>>>16)*5&65535)<<16)&4294967295))+27492+(((a>>>16)+58964&65535)<<16);switch(l=0,n){case 3:l^=(255&e[c+2])<<16;case 2:l^=(255&e[c+1])<<8;case 1:l^=255&e[c],o^=l=(65535&(l=(l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295)<<15|l>>>17))*u+(((l>>>16)*u&65535)<<16)&4294967295}return o^=e.length,o^=o>>>16,o=(65535&o)*2246822507+(((o>>>16)*2246822507&65535)<<16)&4294967295,o^=o>>>13,o=(65535&o)*3266489909+(((o>>>16)*3266489909&65535)<<16)&4294967295,(o^=o>>>16)>>>0}let i=n;i.v2=r,i.v3=n,e.exports=i}()},30166:function(e,t,r){"use strict";r.d(t,{default:function(){return i.a}});var n=r(55775),i=r.n(n)},33145:function(e,t,r){"use strict";r.d(t,{default:function(){return i.a}});var n=r(48461),i=r.n(n)},42304:function(e){"use strict";var t=Object.assign.bind(Object);e.exports=t,e.exports.default=e.exports},65878:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return E}});let n=r(47043),i=r(53099),o=r(57437),a=i._(r(2265)),s=n._(r(54887)),u=n._(r(38293)),l=r(55346),c=r(90128),f=r(62589);r(31765);let d=r(25523),p=n._(r(5084)),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function g(e,t,r,n,i,o,a){let s=null==e?void 0:e.src;e&&e["data-loaded-src"]!==s&&(e["data-loaded-src"]=s,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function y(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let v=(0,a.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:i,height:s,width:u,decoding:l,className:c,style:f,fetchPriority:d,placeholder:p,loading:h,unoptimized:v,fill:m,onLoadRef:E,onLoadingCompleteRef:b,setBlurComplete:_,setShowAltText:I,sizesInput:O,onLoad:R,onError:w,...S}=e;return(0,o.jsx)("img",{...S,...y(d),loading:h,width:u,height:s,decoding:l,"data-nimg":m?"fill":"1",className:c,style:f,sizes:i,srcSet:n,src:r,ref:(0,a.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(w&&(e.src=e.src),e.complete&&g(e,p,E,b,_,v,O))},[r,p,E,b,_,w,v,O,t]),onLoad:e=>{g(e.currentTarget,p,E,b,_,v,O)},onError:e=>{I(!0),"empty"!==p&&_(!0),w&&w(e)}})});function m(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...y(r.fetchPriority)};return t&&s.default.preload?(s.default.preload(r.src,n),null):(0,o.jsx)(u.default,{children:(0,o.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let E=(0,a.forwardRef)((e,t)=>{let r=!(0,a.useContext)(d.RouterContext),n=(0,a.useContext)(f.ImageConfigContext),i=(0,a.useMemo)(()=>{var e;let t=h||n||c.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),o=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:i,qualities:o}},[n]),{onLoad:s,onLoadingComplete:u}=e,g=(0,a.useRef)(s);(0,a.useEffect)(()=>{g.current=s},[s]);let y=(0,a.useRef)(u);(0,a.useEffect)(()=>{y.current=u},[u]);let[E,b]=(0,a.useState)(!1),[_,I]=(0,a.useState)(!1),{props:O,meta:R}=(0,l.getImgProps)(e,{defaultLoader:p.default,imgConf:i,blurComplete:E,showAltText:_});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{...O,unoptimized:R.unoptimized,placeholder:R.placeholder,fill:R.fill,onLoadRef:g,onLoadingCompleteRef:y,setBlurComplete:b,setShowAltText:I,sizesInput:e.sizes,ref:t}),R.priority?(0,o.jsx)(m,{isAppRouter:r,imgAttributes:O}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97501:function(e,t,r){var n="/",i=r(40257);!function(){var t={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){function i(e,t,n){return"string"==typeof r?r:r(e,t,n)}n||(n=Error);class o extends n{constructor(e,t,r){super(i(e,t,r))}}o.prototype.name=n.name,o.prototype.code=e,t[e]=o}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}function i(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function o(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function a(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){let s,u;if("string"==typeof t&&i(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",o(e," argument"))u=`The ${e} ${s} ${n(t,"type")}`;else{let r=a(e,".")?"property":"argument";u=`The "${e}" ${r} ${s} ${n(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var o=r(709),a=r(337);r(782)(c,o);for(var s=n(a.prototype),u=0;u<s.length;u++){var l=s[u];c.prototype[l]||(c.prototype[l]=a.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,n){"use strict";e.exports=N,N.ReadableState=A,n(361).EventEmitter;var o,a,s,u,l,c=function(e,t){return e.listeners(t).length},f=n(678),d=n(300).Buffer,p=r.g.Uint8Array||function(){};function h(e){return d.from(e)}function g(e){return d.isBuffer(e)||e instanceof p}var y=n(837);a=y&&y.debuglog?y.debuglog("stream"):function(){};var v=n(379),m=n(25),E=n(776).getHighWaterMark,b=n(646).q,_=b.ERR_INVALID_ARG_TYPE,I=b.ERR_STREAM_PUSH_AFTER_EOF,O=b.ERR_METHOD_NOT_IMPLEMENTED,R=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(782)(N,f);var w=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function A(e,t,r){o=o||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=E(this,e,"readableHighWaterMark",r),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=n(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function N(e){if(o=o||n(403),!(this instanceof N))return new N(e);var t=this instanceof o;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function L(e,t,r,n,i){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,M(e,s);else if(i||(o=D(s,t)),o)w(e,o);else if(s.objectMode||t&&t.length>0){if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=h(t)),n)s.endEmitted?w(e,new R):U(e,s,t,!0);else if(s.ended)w(e,new I);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?U(e,s,t,!1):j(e,s)):U(e,s,t,!1)}}else n||(s.reading=!1,j(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function U(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),j(e,t)}function D(e,t){var r;return g(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),N.prototype.destroy=m.destroy,N.prototype._undestroy=m.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=d.from(e,t),t=""),r=!0),L(this,e,t,!1,r)},N.prototype.unshift=function(e){return L(this,e,null,!0,!1)},N.prototype.isPaused=function(){return!1===this._readableState.flowing},N.prototype.setEncoding=function(e){s||(s=n(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function x(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=x(e)),e<=t.length)?e:t.ended?t.length:(t.needReadable=!0,0)}function M(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,F(e)))}}function k(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(F,e))}function F(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,H(e)}function j(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(V,e,t))}function V(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function B(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,H(e))}}function G(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function z(e){a("readable nexttick read 0"),e.read(0)}function q(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(K,e,t))}function K(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),H(e),t.flowing&&!t.reading&&e.read(0)}function H(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function W(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function Y(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(Z,t,e))}function Z(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function X(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}N.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return a("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?Y(this):k(this),null;if(0===(e=P(e,r))&&r.ended)return 0===r.length&&Y(this),null;var i=r.needReadable;return a("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&a("length less than watermark",i=!0),r.ended||r.reading?a("reading or ended",i=!1):i&&(a("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=P(n,r))),null===(t=e>0?W(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&Y(this)),null!==t&&this.emit("data",t),t},N.prototype._read=function(e){w(this,new O("_read()"))},N.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,a("pipe count=%d opts=%j",n.pipesCount,t);var o=t&&!1===t.end||e===i.stdout||e===i.stderr?v:u;function s(e,t){a("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function u(){a("onend"),e.end()}n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",s);var l=B(r);e.on("drain",l);var f=!1;function d(){a("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",p),f=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}function p(t){a("ondata");var i=e.write(t);a("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==X(n.pipes,e))&&!f&&(a("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){a("onerror",t),v(),e.removeListener("error",h),0===c(e,"error")&&w(e,t)}function g(){e.removeListener("finish",y),v()}function y(){a("onfinish"),e.removeListener("close",g),v()}function v(){a("unpipe"),r.unpipe(e)}return r.on("data",p),T(e,"error",h),e.once("close",g),e.once("finish",y),e.emit("pipe",r),n.flowing||(a("pipe resume"),r.resume()),e},N.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=X(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},N.prototype.on=function(e,t){var r=f.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,a("on readable",n.length,n.reading),n.length?k(this):n.reading||i.nextTick(z,this)),r},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(e,t){var r=f.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(G,this),r},N.prototype.removeAllListeners=function(e){var t=f.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(G,this),t},N.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,q(this,e)),e.paused=!1,this},N.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},N.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(N.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=n(871)),u(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),N._fromList=W,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(N.from=function(e,t){return void 0===l&&(l=n(727)),l(N,e,t)})},170:function(e,t,r){"use strict";e.exports=c;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(403);function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,r){d(e,t,r)})}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(782)(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,n){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){K(t,e)}}e.exports=A,A.WritableState=T;var a,s,u={deprecate:n(769)},l=n(678),c=n(300).Buffer,f=r.g.Uint8Array||function(){};function d(e){return c.from(e)}function p(e){return c.isBuffer(e)||e instanceof f}var h=n(25),g=n(776).getHighWaterMark,y=n(646).q,v=y.ERR_INVALID_ARG_TYPE,m=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_MULTIPLE_CALLBACK,b=y.ERR_STREAM_CANNOT_PIPE,_=y.ERR_STREAM_DESTROYED,I=y.ERR_STREAM_NULL_VALUES,O=y.ERR_STREAM_WRITE_AFTER_END,R=y.ERR_UNKNOWN_ENCODING,w=h.errorOrDestroy;function S(){}function T(e,t,r){a=a||n(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=g(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){M(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function A(e){var t=this instanceof(a=a||n(403));if(!t&&!s.call(A,this))return new A(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function N(e,t){var r=new O;w(e,r),i.nextTick(t,r)}function L(e,t,r,n){var o;return null===r?o=new I:"string"==typeof r||t.objectMode||(o=new v("chunk",["string","Buffer"],r)),!o||(w(e,o),i.nextTick(n,o),!1)}function U(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}function D(e,t,r,n,i,o){if(!r){var a=U(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,s,n,i,o);return u}function C(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(z,e,t),e._writableState.errorEmitted=!0,w(e,n)):(o(n),e._writableState.errorEmitted=!0,w(e,n),z(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function M(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new E;if(P(r),t)x(e,r,n,t,o);else{var a=V(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||j(e,r),n?i.nextTick(k,e,r,a,o):k(e,r,a,o)}}function k(e,t,r,n){r||F(e,t),t.pendingcb--,n(),z(e,t)}function F(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,C(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,c=r.callback,f=t.objectMode?1:u.length;if(C(e,t,!1,f,u,l,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function V(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function B(e,t){e._final(function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),z(e,t)})}function G(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(B,e,t)))}function z(e,t){var r=V(t);if(r&&(G(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function q(e,t,r){t.ending=!0,z(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function K(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}n(782)(A,l),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===A&&e&&e._writableState instanceof T}})):s=function(e){return e instanceof this},A.prototype.pipe=function(){w(this,new b)},A.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&p(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=S),n.ending?N(this,r):(o||L(this,n,e,r))&&(n.pendingcb++,i=D(this,n,o,e,t,r)),i},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new R(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,r){r(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||q(this,n,r),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=h.destroy,A.prototype._undestroy=h.undestroy,A.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,a=r(698),s=Symbol("lastResolve"),u=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function g(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[f]=null,e[s]=null,e[u]=null,t(h(r,!1)))}}function y(e){i.nextTick(g,e)}function v(e,t){return function(r,n){e.then(function(){if(t[c]){r(h(void 0,!0));return}t[d](r,n)},n)}}var m=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((n(o={get stream(){return this[p]},next:function(){var e,t=this,r=this[l];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,r){i.nextTick(function(){t[l]?r(t[l]):e(h(void 0,!0))})});var n=this[f];if(n)e=new Promise(v(n,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(h(o,!1));e=new Promise(this[d])}return this[f]=e,e}},Symbol.asyncIterator,function(){return this}),n(o,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(h(void 0,!0))})})}),o),m),b=function(e){var t,r=Object.create(E,(n(t={},p,{value:e,writable:!0}),n(t,s,{value:null,writable:!0}),n(t,u,{value:null,writable:!0}),n(t,l,{value:null,writable:!0}),n(t,c,{value:e._readableState.endEmitted,writable:!0}),n(t,d,{value:function(e,t){var n=r[p].read();n?(r[f]=null,r[s]=null,r[u]=null,e(h(n,!1))):(r[s]=e,r[u]=t)},writable:!0}),t));return r[f]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];null!==t&&(r[f]=null,r[s]=null,r[u]=null,t(e)),r[l]=e;return}var n=r[s];null!==n&&(r[f]=null,r[s]=null,r[u]=null,n(h(void 0,!0))),r[c]=!0}),e.on("readable",y.bind(null,r)),r};e.exports=b},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var l=r(300).Buffer,c=r(837).inspect,f=c&&c.custom||"inspect";function d(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return u(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t=l.allocUnsafe(e>>>0),r=this.head,n=0;r;)d(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return c(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},25:function(e){"use strict";function t(e,t){var o=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,e)):i.nextTick(a,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?o._writableState?o._writableState.errorEmitted?i.nextTick(n,o):(o._writableState.errorEmitted=!0,i.nextTick(r,o,e)):i.nextTick(r,o,e):t?(i.nextTick(n,o),t(e)):i.nextTick(n,o)})),this}function r(e,t){a(e,t),n(e)}function n(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(e,t){e.emit("error",t)}function s(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:t,undestroy:o,errorOrDestroy:s}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function o(){}function a(e){return e.setHeader&&"function"==typeof e.abort}function s(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=i(r||o);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||d()},f=e._writableState&&e._writableState.finished,d=function(){l=!1,f=!0,u||r.call(e)},p=e._readableState&&e._readableState.endEmitted,h=function(){u=!1,p=!0,l||r.call(e)},g=function(t){r.call(e,t)},y=function(){var t;return u&&!p?(e._readableState&&e._readableState.ended||(t=new n),r.call(e,t)):l&&!f?(e._writableState&&e._writableState.ended||(t=new n),r.call(e,t)):void 0},v=function(){e.req.on("finish",d)};return a(e)?(e.on("complete",d),e.on("abort",y),e.req?v():e.on("request",v)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",h),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",y),function(){e.removeListener("complete",d),e.removeListener("abort",y),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",y)}}e.exports=s},727:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=r(646).q.ERR_INVALID_ARG_TYPE;function l(e,t,r){if(t&&"function"==typeof t.next)n=t;else if(t&&t[Symbol.asyncIterator])n=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])n=t[Symbol.iterator]();else throw new u("iterable",["Iterable"],t);var n,o=new e(a({objectMode:!0},r)),s=!1;function l(){return c.apply(this,arguments)}function c(){return(c=i(function*(){try{var e=yield n.next(),t=e.value;e.done?o.push(null):o.push((yield t))?l():s=!1}catch(e){o.destroy(e)}})).apply(this,arguments)}return o._read=function(){s||(s=!0,l())},o}e.exports=l},442:function(e,t,r){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var i,o=r(646).q,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function l(e){return e.setHeader&&"function"==typeof e.abort}function c(e,t,o,a){a=n(a);var u=!1;e.on("close",function(){u=!0}),void 0===i&&(i=r(698)),i(e,{readable:t,writable:o},function(e){if(e)return a(e);u=!0,a()});var c=!1;return function(t){if(!u&&!c){if(c=!0,l(e))return e.abort();if("function"==typeof e.destroy)return e.destroy();a(t||new s("pipe"))}}}function f(e){e()}function d(e,t){return e.pipe(t)}function p(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():u}function h(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=p(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new a("streams");var o=r.map(function(t,n){var a=n<r.length-1;return c(t,a,n>0,function(t){e||(e=t),t&&o.forEach(f),a||(o.forEach(f),i(e))})});return r.reduce(d)}e.exports=h},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;function i(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function o(e,t,r,o){var a=i(t,o,r);if(null!=a){if(!(isFinite(a)&&Math.floor(a)===a)||a<0)throw new n(o?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}e.exports={getHighWaterMark:o}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=i;var n=r(361).EventEmitter;function i(){n.call(this)}r(782)(i,n),i.Readable=r(709),i.Writable=r(337),i.Duplex=r(403),i.Transform=r(170),i.PassThrough=r(889),i.finished=r(698),i.pipeline=r(442),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=h,this.end=g,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=y,this.end=v,t=3;break;default:this.write=m,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,r){var n=t.length-1;if(n<r)return 0;var i=u(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=u(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=u(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function c(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}function f(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function d(e,t){var r=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function h(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function E(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){function t(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=t},300:function(e){"use strict";e.exports=r(82957)},361:function(e){"use strict";e.exports=r(55445)},781:function(e){"use strict";e.exports=r(55445).EventEmitter},837:function(e){"use strict";e.exports=r(85508)}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete o[e]}return n.exports}a.ab=n+"/";var s=a(173);e.exports=s}()},53669:function(module){var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return -1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __nested_webpack_exports__={};__webpack_modules__[950](0,__nested_webpack_exports__),module.exports=__nested_webpack_exports__}()},91436:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return n}});let n=r(47043)._(r(2265)).default.createContext({})},23964:function(e,t){"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},55775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(47043);r(57437),r(2265);let i=n._(r(15602));function o(e,t){var r;let n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let o={...n,...t};return(0,i.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return f}}),r(31765);let n=r(96496),i=r(90128);function o(e){return void 0!==e.default}function a(e){return void 0!==e.src}function s(e){return"object"==typeof e&&(o(e)||a(e))}function u(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}function c(e){let{config:t,src:r,unoptimized:n,width:i,quality:o,sizes:a,loader:s}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:u,kind:c}=l(t,i,a),f=u.length-1;return{sizes:a||"w"!==c?a:"100vw",srcSet:u.map((e,n)=>s({config:t,src:r,quality:o,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:s({config:t,src:r,quality:o,width:u[f]})}}function f(e,t){let r,a,l,{src:f,sizes:d,unoptimized:p=!1,priority:h=!1,loading:g,className:y,quality:v,width:m,height:E,fill:b=!1,style:_,overrideSrc:I,onLoad:O,onLoadingComplete:R,placeholder:w="empty",blurDataURL:S,fetchPriority:T,decoding:A="async",layout:N,objectFit:L,objectPosition:U,lazyBoundary:D,lazyRoot:C,...x}=e,{imgConf:P,showAltText:M,blurComplete:k,defaultLoader:F}=t,j=P||i.imageConfigDefault;if("allSizes"in j)r=j;else{var V;let e=[...j.deviceSizes,...j.imageSizes].sort((e,t)=>e-t),t=j.deviceSizes.sort((e,t)=>e-t),n=null==(V=j.qualities)?void 0:V.sort((e,t)=>e-t);r={...j,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===F)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let B=x.loader||F;delete x.loader,delete x.srcSet;let G="__next_img_default"in B;if(G){if("custom"===r.loader)throw Error('Image with src "'+f+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=B;B=t=>{let{config:r,...n}=t;return e(n)}}if(N){"fill"===N&&(b=!0);let e={responsive:"100vw",fill:"100vw"},t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[N];t&&(_={..._,...t});let r=e[N];r&&!d&&(d=r)}let z="",q=u(m),K=u(E);if(s(f)){let e=o(f)?f.default:f;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(a=e.blurWidth,l=e.blurHeight,S=S||e.blurDataURL,z=e.src,!b){if(q||K){if(q&&!K){let t=q/e.width;K=Math.round(e.height*t)}else if(!q&&K){let t=K/e.height;q=Math.round(e.width*t)}}else q=e.width,K=e.height}}let H=!h&&("lazy"===g||void 0===g);(!(f="string"==typeof f?f:z)||f.startsWith("data:")||f.startsWith("blob:"))&&(p=!0,H=!1),r.unoptimized&&(p=!0),G&&f.endsWith(".svg")&&!r.dangerouslyAllowSVG&&(p=!0),h&&(T="high");let W=u(v),Y=Object.assign(b?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:L,objectPosition:U}:{},M?{}:{color:"transparent"},_),Z=k||"empty"===w?null:"blur"===w?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:q,heightInt:K,blurWidth:a,blurHeight:l,blurDataURL:S||"",objectFit:Y.objectFit})+'")':'url("'+w+'")',X=Z?{backgroundSize:Y.objectFit||"cover",backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Z}:{},$=c({config:r,src:f,unoptimized:p,width:q,quality:W,sizes:d,loader:B});return{props:{...x,loading:H?"lazy":g,fetchPriority:T,width:q,height:K,decoding:A,className:y,style:{...Y,...X},sizes:$.sizes,srcSet:$.srcSet,src:I||$.src},meta:{unoptimized:p,priority:h,placeholder:w,fill:b}}}},38293:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},defaultHead:function(){return f}});let n=r(47043),i=r(53099),o=r(57437),a=i._(r(2265)),s=n._(r(17421)),u=r(91436),l=r(48701),c=r(23964);function f(e){void 0===e&&(e=!1);let t=[(0,o.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(31765);let p=["name","httpEquiv","charSet","itemProp"];function h(){let e=new Set,t=new Set,r=new Set,n={};return i=>{let o=!0,a=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){a=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?o=!1:t.add(i.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(i.props.hasOwnProperty(t)){if("charSet"===t)r.has(t)?o=!1:r.add(t);else{let e=i.props[t],r=n[t]||new Set;("name"!==t||!a)&&r.has(e)?o=!1:(r.add(e),n[t]=r)}}}}return o}}function g(e,t){let{inAmpMode:r}=t;return e.reduce(d,[]).reverse().concat(f(r).reverse()).filter(h()).reverse().map((e,t)=>{let n=e.key||t;if(!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,a.default.cloneElement(e,t)}return a.default.cloneElement(e,{key:n})})}let y=function(e){let{children:t}=e,r=(0,a.useContext)(u.AmpStateContext),n=(0,a.useContext)(l.HeadManagerContext);return(0,o.jsx)(s.default,{reduceComponentsToState:g,headManager:n,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96496:function(e,t){"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:o,objectFit:a}=e,s=n?40*n:t,u=i?40*i:r,l=s&&u?"viewBox='0 0 "+s+" "+u+"'":"",c=l?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+l+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+c+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},62589:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return o}});let n=r(47043)._(r(2265)),i=r(90128),o=n.default.createContext(i.imageConfigDefault)},90128:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},48461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return u},getImageProps:function(){return s}});let n=r(47043),i=r(55346),o=r(65878),a=n._(r(5084));function s(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let u=o.Image},5084:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=75;function n(e){var t;let{config:n,src:i,width:o,quality:a}=e,s=a||(null==(t=n.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e))||r;return n.path+"?url="+encodeURIComponent(i)+"&w="+o+"&q="+s}n.__next_img_default=!0;let i=n},81523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let n=r(18993);function i(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},15602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(57437),i=r(2265),o=r(81523),a=r(70049);function s(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},l=function(e){let t={...u,...e},r=(0,i.lazy)(()=>t.loader().then(s)),l=t.loading;function c(e){let s=l?(0,n.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(a.PreloadCss,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i.Suspense,{fallback:s,children:u})}return c.displayName="LoadableComponent",c}},70049:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return o}});let n=r(57437),i=r(20544);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,i.getExpectedRequestStore)("next/dynamic css"),o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));o.push(...t)}}return 0===o.length?null:(0,n.jsx)(n.Fragment,{children:o.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},17421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(2265),i="undefined"==typeof window,o=i?()=>{}:n.useLayoutEffect,a=i?()=>{}:n.useEffect;function s(e){let{headManager:t,reduceComponentsToState:r}=e;function s(){if(t&&t.mountedInstances){let i=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(i,e))}}if(i){var u;null==t||null==(u=t.mountedInstances)||u.add(e.children),s()}return o(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),o(()=>(t&&(t._pendingUpdate=s),()=>{t&&(t._pendingUpdate=s)})),a(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},17138:function(e,t,r){"use strict";e.exports=r(39752).style},88017:function(e,t,r){"use strict";var n=r(59148),i=r(42304),o=r(89445);function a(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[u(t,e),"[",n,"]"].join(""):[u(t,e),"[",u(n,e),"]=",u(r,e)].join("")};case"bracket":return function(t,r){return null===r?u(t,e):[u(t,e),"[]=",u(r,e)].join("")};default:return function(t,r){return null===r?u(t,e):[u(t,e),"=",u(r,e)].join("")}}}function s(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return function(e,r,n){if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t){if(void 0===n[e]){n[e]=[r];return}}else{n[e]=r;return}n[e]=[].concat(n[e],r)};default:return function(e,t,r){if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var r=s(t=i({arrayFormat:"none"},t)),n=Object.create(null);return"string"==typeof e&&(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),r(o(i),a,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=l(r):e[t]=r,e},Object.create(null))):n},t.stringify=function(e,t){var r=a(t=i({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map(function(n){var i=e[n];if(void 0===i)return"";if(null===i)return u(n,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(r(n,e,o.length))}),o.join("&")}return u(n,t)+"="+u(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},13126:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,E=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case f:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case u:return e;default:return t}}case i:return t}}}function I(e){return _(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return I(e)||_(e)===c},t.isConcurrentMode=I,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===m||e.$$typeof===E||e.$$typeof===b||e.$$typeof===v)},t.typeOf=_},82558:function(e,t,r){"use strict";e.exports=r(13126)},69895:function(e,t,r){"use strict";r.d(t,{Z:function(){return eo}});var n,i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}var s=r(2265),u="right-scroll-bar-position",l="width-before-scroll-bar",c="with-scroll-bars-hidden",f="--removed-body-scroll-bar-size";function d(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}function p(e,t){var r=(0,s.useState)(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(value){var n=r.value;n!==value&&(r.value=value,r.callback(value,n))}}}})[0];return r.callback=t,r.facade}function h(e,t){return p(t||null,function(t){return e.forEach(function(e){return d(e,t)})})}function g(e){return e}function y(e,t){void 0===t&&(t=g);var r=[],n=!1;return{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},a=function(){return Promise.resolve().then(o)};a(),r={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),r}}}}}var v=function(e){void 0===e&&(e={});var t=y(null);return t.options=i({async:!0,ssr:!1},e),t}(),m=function(){},E=s.forwardRef(function(e,t){var r=s.useRef(null),n=s.useState({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:m}),a=n[0],u=n[1],l=e.forwardProps,c=e.children,f=e.className,d=e.removeScrollBar,p=e.enabled,g=e.shards,y=e.sideCar,E=e.noIsolation,b=e.inert,_=e.allowPinchZoom,I=e.as,O=void 0===I?"div":I,R=e.gapMode,w=o(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=y,T=h([r,t]),A=i(i({},w),a);return s.createElement(s.Fragment,null,p&&s.createElement(S,{sideCar:v,removeScrollBar:d,shards:g,noIsolation:E,inert:b,setCallbacks:u,allowPinchZoom:!!_,lockRef:r,gapMode:R}),l?s.cloneElement(s.Children.only(c),i(i({},A),{ref:T})):s.createElement(O,i({},A,{className:f,ref:T}),c))});E.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},E.classNames={fullWidth:l,zeroRight:u};var b=function(e){var t=e.sideCar,r=o(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return s.createElement(n,i({},r))};function _(e,t){return e.useMedium(t),b}b.isSideCarExport=!0;var I=function(){return n||r.nc};function O(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=I();return t&&e.setAttribute("nonce",t),e}function R(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function w(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}var S=function(){var e=0,t=null;return{add:function(r){0==e&&(t=O())&&(R(t,r),w(t)),e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},T=function(){var e=S();return function(t,r){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},A=function(){var e=T();return function(t){return e(t.styles,t.dynamic),null}},N={left:0,top:0,right:0,gap:0},L=function(e){return parseInt(e||"",10)||0},U=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[L(r),L(n),L(i)]},D=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return N;var t=U(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},C=A(),x=function(e,t,r,n){var i=e.left,o=e.top,a=e.right,s=e.gap;return void 0===r&&(r="margin"),"\n  .".concat(c," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(s,"px ").concat(n,";\n  }\n  body {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(u," {\n    right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(l," {\n    margin-right: ").concat(s,"px ").concat(n,";\n  }\n  \n  .").concat(u," .").concat(u," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(l," .").concat(l," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body {\n    ").concat(f,": ").concat(s,"px;\n  }\n")},P=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n,o=s.useMemo(function(){return D(i)},[i]);return s.createElement(C,{styles:x(o,!t,i,r?"":"!important")})},M=!1;if("undefined"!=typeof window)try{var k=Object.defineProperty({},"passive",{get:function(){return M=!0,!0}});window.addEventListener("test",k,k),window.removeEventListener("test",k,k)}catch(e){M=!1}var F=!!M&&{passive:!1},j=function(e){return"TEXTAREA"===e.tagName},V=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!j(e)&&"visible"===r[t])},B=function(e){return V(e,"overflowY")},G=function(e){return V(e,"overflowX")},z=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),H(e,n)){var i=W(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},q=function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]},K=function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]},H=function(e,t){return"v"===e?B(t):G(t)},W=function(e,t){return"v"===e?q(t):K(t)},Y=function(e,t){return"h"===e&&"rtl"===t?-1:1},Z=function(e,t,r,n,i){var o=Y(e,window.getComputedStyle(t).direction),a=o*n,s=r.target,u=t.contains(s),l=!1,c=a>0,f=0,d=0;do{var p=W(e,s),h=p[0],g=p[1]-p[2]-o*h;(h||g)&&H(e,s)&&(f+=g,d+=h),s=s.parentNode}while(!u&&s!==document.body||u&&(t.contains(s)||t===s));return c&&(i&&0===f||!i&&a>f)?l=!0:!c&&(i&&0===d||!i&&-a>d)&&(l=!0),l},X=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$=function(e){return[e.deltaX,e.deltaY]},J=function(e){return e&&"current"in e?e.current:e},Q=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ee=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},et=0,er=[],en=_(v,function(e){var t=s.useRef([]),r=s.useRef([0,0]),n=s.useRef(),i=s.useState(et++)[0],o=s.useState(A)[0],u=s.useRef(e);s.useEffect(function(){u.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=a([e.lockRef.current],(e.shards||[]).map(J),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=s.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!u.current.allowPinchZoom;var i,o=X(e),a=r.current,s="deltaX"in e?e.deltaX:a[0]-o[0],l="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,f=Math.abs(s)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===f&&"range"===c.type)return!1;var d=z(f,c);if(!d)return!0;if(d?i=f:(i="v"===f?"h":"v",d=z(f,c)),!d)return!1;if(!n.current&&"changedTouches"in e&&(s||l)&&(n.current=i),!i)return!0;var p=n.current||i;return Z(p,t,e,"h"===p?s:l,!0)},[]),c=s.useCallback(function(e){var r=e;if(er.length&&er[er.length-1]===o){var n="deltaY"in r?$(r):X(r),i=t.current.filter(function(e){return e.name===r.type&&e.target===r.target&&Q(e.delta,n)})[0];if(i&&i.should){r.cancelable&&r.preventDefault();return}if(!i){var a=(u.current.shards||[]).map(J).filter(Boolean).filter(function(e){return e.contains(r.target)});(a.length>0?l(r,a[0]):!u.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),f=s.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),d=s.useCallback(function(e){r.current=X(e),n.current=void 0},[]),p=s.useCallback(function(t){f(t.type,$(t),t.target,l(t,e.lockRef.current))},[]),h=s.useCallback(function(t){f(t.type,X(t),t.target,l(t,e.lockRef.current))},[]);s.useEffect(function(){return er.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",c,F),document.addEventListener("touchmove",c,F),document.addEventListener("touchstart",d,F),function(){er=er.filter(function(e){return e!==o}),document.removeEventListener("wheel",c,F),document.removeEventListener("touchmove",c,F),document.removeEventListener("touchstart",d,F)}},[]);var g=e.removeScrollBar,y=e.inert;return s.createElement(s.Fragment,null,y?s.createElement(o,{styles:ee(i)}):null,g?s.createElement(P,{gapMode:e.gapMode}):null)}),ei=s.forwardRef(function(e,t){return s.createElement(E,i({},e,{ref:t,sideCar:en}))});ei.classNames=E.classNames;var eo=ei},27072:function(e,t,r){"use strict";r.d(t,{QS:function(){return E}});var n=r(2265);let i="Left",o="Right",a="Up",s="Down",u={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},l={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},c="mousemove",f="mouseup",d="touchend",p="touchmove",h="touchstart";function g(e,t,r,n){return e>t?r>0?o:i:n>0?s:a}function y(e,t){if(0===t)return e;let r=Math.PI/180*t;return[e[0]*Math.cos(r)+e[1]*Math.sin(r),e[1]*Math.cos(r)-e[0]*Math.sin(r)]}function v(e,t){let r=t=>{let r="touches"in t;r&&t.touches.length>1||e((e,i)=>{i.trackMouse&&!r&&(document.addEventListener(c,n),document.addEventListener(f,a));let{clientX:o,clientY:s}=r?t.touches[0]:t,u=y([o,s],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),l),{initial:u.slice(),xy:u,start:t.timeStamp||0})})},n=t=>{e((e,r)=>{let n="touches"in t;if(n&&t.touches.length>1)return e;if(t.timeStamp-e.start>r.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;let{clientX:i,clientY:o}=n?t.touches[0]:t,[a,s]=y([i,o],r.rotationAngle),l=a-e.xy[0],c=s-e.xy[1],f=Math.abs(l),d=Math.abs(c),p=(t.timeStamp||0)-e.start,h=Math.sqrt(f*f+d*d)/(p||1),v=[l/(p||1),c/(p||1)],m=g(f,d,l,c),E="number"==typeof r.delta?r.delta:r.delta[m.toLowerCase()]||u.delta;if(f<E&&d<E&&!e.swiping)return e;let b={absX:f,absY:d,deltaX:l,deltaY:c,dir:m,event:t,first:e.first,initial:e.initial,velocity:h,vxvy:v};b.first&&r.onSwipeStart&&r.onSwipeStart(b),r.onSwiping&&r.onSwiping(b);let _=!1;return(r.onSwiping||r.onSwiped||r[`onSwiped${m}`])&&(_=!0),_&&r.preventScrollOnSwipe&&r.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:b,swiping:!0})})},i=t=>{e((e,r)=>{let n;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<r.swipeDuration){n=Object.assign(Object.assign({},e.eventData),{event:t}),r.onSwiped&&r.onSwiped(n);let i=r[`onSwiped${n.dir}`];i&&i(n)}}else r.onTap&&r.onTap({event:t});return r.onTouchEndOrOnMouseUp&&r.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),l),{eventData:n})})},o=()=>{document.removeEventListener(c,n),document.removeEventListener(f,a)},a=e=>{o(),i(e)},s=(e,t)=>{let o=()=>{};if(e&&e.addEventListener){let a=Object.assign(Object.assign({},u.touchEventOptions),t.touchEventOptions),s=[[h,r,a],[p,n,Object.assign(Object.assign({},a),t.preventScrollOnSwipe?{passive:!1}:{})],[d,i,a]];s.forEach(([t,r,n])=>e.addEventListener(t,r,n)),o=()=>s.forEach(([t,r])=>e.removeEventListener(t,r))}return o},v={ref:t=>{null!==t&&e((e,r)=>{if(e.el===t)return e;let n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=void 0),r.trackTouch&&t&&(n.cleanUpTouch=s(t,r)),Object.assign(Object.assign(Object.assign({},e),{el:t}),n)})}};return t.trackMouse&&(v.onMouseDown=r),[v,s]}function m(e,t,r,n){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==r.preventScrollOnSwipe||t.touchEventOptions.passive!==r.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}function E(e){let t;let{trackMouse:r}=e,i=n.useRef(Object.assign({},l)),o=n.useRef(Object.assign({},u)),a=n.useRef(Object.assign({},o.current));for(t in a.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},u),e),u)void 0===o.current[t]&&(o.current[t]=u[t]);let[s,c]=n.useMemo(()=>v(e=>i.current=e(i.current,o.current),{trackMouse:r}),[r]);return i.current=m(i.current,o.current,a.current,c),s}},73306:function(e,t,r){var n=r(82957),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},59148:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},64582:function(e,t,r){"use strict";var n=r(73306).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=h,this.end=g,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=y,this.end=v,t=3;break;default:this.write=m,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function u(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,r){var n=t.length-1;if(n<r)return 0;var i=u(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=u(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=u(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function c(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}function f(e){var t=this.lastTotal-this.lastNeed,r=c(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function d(e,t){var r=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function h(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function E(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=p,s.prototype.text=d,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},62061:function(e,t,r){var n;!function(i,o){"use strict";var a="1.0.37",s="",u="?",l="function",c="undefined",f="object",d="string",p="major",h="model",g="name",y="type",v="vendor",m="version",E="architecture",b="console",_="mobile",I="tablet",O="smarttv",R="wearable",w="embedded",S=500,T="Amazon",A="Apple",N="ASUS",L="BlackBerry",U="Browser",D="Chrome",C="Firefox",x="Google",P="Huawei",M="LG",k="Microsoft",F="Motorola",j="Opera",V="Samsung",B="Sharp",G="Sony",z="Xiaomi",q="Zebra",K="Facebook",H="Chromium OS",W="Mac OS",Y=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},Z=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},X=function(e,t){return typeof e===d&&-1!==$(t).indexOf($(e))},$=function(e){return e.toLowerCase()},J=function(e){return typeof e===d?e.replace(/[^\d\.]/g,s).split(".")[0]:void 0},Q=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,s),typeof t===c?e:e.substring(0,S)},ee=function(e,t){for(var r,n,i,a,s,u,c=0;c<t.length&&!s;){var d=t[c],p=t[c+1];for(r=n=0;r<d.length&&!s&&d[r];)if(s=d[r++].exec(e))for(i=0;i<p.length;i++)u=s[++n],typeof(a=p[i])===f&&a.length>0?2===a.length?typeof a[1]==l?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==l||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):o):this[a]=u||o;c+=2}},et=function(e,t){for(var r in t)if(typeof t[r]===f&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(X(t[r][n],e))return r===u?o:r}else if(X(t[r],e))return r===u?o:r;return e},er={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},en={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,m],[/opios[\/ ]+([\w\.]+)/i],[m,[g,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[g,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[g,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[g,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[g,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+U],m],[/\bfocus\/([\w\.]+)/i],[m,[g,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[g,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[g,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[g,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[m,[g,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[g,"360 "+U]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1 "+U],m],[/samsungbrowser\/([\w\.]+)/i],[m,[g,V+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[g,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,K],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[g,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,D+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[g,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[m,et,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[g,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[g,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[g,m],[/(cobalt)\/([\w\.]+)/i],[g,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,$]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/windows (ce|mobile); ppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[E,/ower/,s,$]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[E,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[v,V],[y,I]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[v,V],[y,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[v,A],[y,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[v,A],[y,I]],[/(macintosh);/i],[h,[v,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[v,B],[y,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[v,P],[y,I]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[v,P],[y,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[v,z],[y,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[v,z],[y,I]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[v,"OPPO"],[y,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[v,"Vivo"],[y,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[v,"Realme"],[y,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[v,F],[y,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[v,F],[y,I]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[v,M],[y,I]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[v,M],[y,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[v,"Lenovo"],[y,I]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[v,"Nokia"],[y,_]],[/(pixel c)\b/i],[h,[v,x],[y,I]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[v,x],[y,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[v,G],[y,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[v,G],[y,I]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[v,"OnePlus"],[y,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[v,T],[y,I]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[v,T],[y,_]],[/(playbook);[-\w\),; ]+(rim)/i],[h,v,[y,I]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[v,L],[y,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[v,N],[y,I]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[v,N],[y,_]],[/(nexus 9)/i],[h,[v,"HTC"],[y,I]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[h,/_/g," "],[y,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[v,"Acer"],[y,I]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[v,"Meizu"],[y,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[v,"Ulefone"],[y,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,h,[y,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,h,[y,I]],[/(surface duo)/i],[h,[v,k],[y,I]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[v,"Fairphone"],[y,_]],[/(u304aa)/i],[h,[v,"AT&T"],[y,_]],[/\bsie-(\w*)/i],[h,[v,"Siemens"],[y,_]],[/\b(rct\w+) b/i],[h,[v,"RCA"],[y,I]],[/\b(venue[\d ]{2,7}) b/i],[h,[v,"Dell"],[y,I]],[/\b(q(?:mv|ta)\w+) b/i],[h,[v,"Verizon"],[y,I]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[v,"Barnes & Noble"],[y,I]],[/\b(tm\d{3}\w+) b/i],[h,[v,"NuVision"],[y,I]],[/\b(k88) b/i],[h,[v,"ZTE"],[y,I]],[/\b(nx\d{3}j) b/i],[h,[v,"ZTE"],[y,_]],[/\b(gen\d{3}) b.+49h/i],[h,[v,"Swiss"],[y,_]],[/\b(zur\d{3}) b/i],[h,[v,"Swiss"],[y,I]],[/\b((zeki)?tb.*\b) b/i],[h,[v,"Zeki"],[y,I]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],h,[y,I]],[/\b(ns-?\w{0,9}) b/i],[h,[v,"Insignia"],[y,I]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[v,"NextBook"],[y,I]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],h,[y,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],h,[y,_]],[/\b(ph-1) /i],[h,[v,"Essential"],[y,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[v,"Envizen"],[y,I]],[/\b(trio[-\w\. ]+) b/i],[h,[v,"MachSpeed"],[y,I]],[/\btu_(1491) b/i],[h,[v,"Rotor"],[y,I]],[/(shield[\w ]+) b/i],[h,[v,"Nvidia"],[y,I]],[/(sprint) (\w+)/i],[v,h,[y,_]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[v,k],[y,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[v,q],[y,I]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[v,q],[y,_]],[/smart-tv.+(samsung)/i],[v,[y,O]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[v,V],[y,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,M],[y,O]],[/(apple) ?tv/i],[v,[h,A+" TV"],[y,O]],[/crkey/i],[[h,D+"cast"],[v,x],[y,O]],[/droid.+aft(\w+)( bui|\))/i],[h,[v,T],[y,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[v,B],[y,O]],[/(bravia[\w ]+)( bui|\))/i],[h,[v,G],[y,O]],[/(mitv-\w{5}) bui/i],[h,[v,z],[y,O]],[/Hbbtv.*(technisat) (.*);/i],[v,h,[y,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Q],[h,Q],[y,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,h,[y,b]],[/droid.+; (shield) bui/i],[h,[v,"Nvidia"],[y,b]],[/(playstation [345portablevi]+)/i],[h,[v,G],[y,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[v,k],[y,b]],[/((pebble))app/i],[v,h,[y,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[v,A],[y,R]],[/droid.+; (glass) \d/i],[h,[v,x],[y,R]],[/droid.+; (wt63?0{2,3})\)/i],[h,[v,q],[y,R]],[/(quest( 2| pro)?)/i],[h,[v,K],[y,R]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[y,w]],[/(aeobc)\b/i],[h,[v,T],[y,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[y,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[y,I]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,I]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,_]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[g,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[g,[m,et,er]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,et,er],[g,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,W],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,g],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[g,m],[/\(bb(10);/i],[m,[g,L]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[g,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[g,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,H],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,m],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,m]]},ei=function(e,t){if(typeof e===f&&(t=e,e=o),!(this instanceof ei))return new ei(e,t).getResult();var r=typeof i!==c&&i.navigator?i.navigator:o,n=e||(r&&r.userAgent?r.userAgent:s),a=r&&r.userAgentData?r.userAgentData:o,u=t?Y(en,t):en,b=r&&r.userAgent==n;return this.getBrowser=function(){var e={};return e[g]=o,e[m]=o,ee.call(e,n,u.browser),e[p]=J(e[m]),b&&r&&r.brave&&typeof r.brave.isBrave==l&&(e[g]="Brave"),e},this.getCPU=function(){var e={};return e[E]=o,ee.call(e,n,u.cpu),e},this.getDevice=function(){var e={};return e[v]=o,e[h]=o,e[y]=o,ee.call(e,n,u.device),b&&!e[y]&&a&&a.mobile&&(e[y]=_),b&&"Macintosh"==e[h]&&r&&typeof r.standalone!==c&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[y]=I),e},this.getEngine=function(){var e={};return e[g]=o,e[m]=o,ee.call(e,n,u.engine),e},this.getOS=function(){var e={};return e[g]=o,e[m]=o,ee.call(e,n,u.os),b&&!e[g]&&a&&"Unknown"!=a.platform&&(e[g]=a.platform.replace(/chrome os/i,H).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>S?Q(e,S):e,this},this.setUA(n),this};ei.VERSION=a,ei.BROWSER=Z([g,m,p]),ei.CPU=Z([E]),ei.DEVICE=Z([h,v,y,b,_,O,I,R,w]),ei.ENGINE=ei.OS=Z([g,m]),typeof t!==c?("object"!==c&&e.exports&&(t=e.exports=ei),t.UAParser=ei):"function"===l&&r.amdO?o!==(n=(function(){return ei}).call(t,r,t,e))&&(e.exports=n):typeof i!==c&&(i.UAParser=ei);var eo=typeof i!==c&&(i.jQuery||i.Zepto);if(eo&&!eo.ua){var ea=new ei;eo.ua=ea.getResult(),eo.ua.get=function(){return ea.getUA()},eo.ua.set=function(e){ea.setUA(e);var t=ea.getResult();for(var r in t)eo.ua[r]=t[r]}}}("object"==typeof window?window:this)},18749:function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},83075:function(e,t,r){"use strict";var n=r(23722),i=r(80184),o=r(93790),a=r(87688);function s(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(u)var h=s(BigInt.prototype.valueOf);if(l)var g=s(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function v(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch}function m(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||B(e)}function E(e){return"Uint8Array"===o(e)}function b(e){return"Uint8ClampedArray"===o(e)}function _(e){return"Uint16Array"===o(e)}function I(e){return"Uint32Array"===o(e)}function O(e){return"Int8Array"===o(e)}function R(e){return"Int16Array"===o(e)}function w(e){return"Int32Array"===o(e)}function S(e){return"Float32Array"===o(e)}function T(e){return"Float64Array"===o(e)}function A(e){return"BigInt64Array"===o(e)}function N(e){return"BigUint64Array"===o(e)}function L(e){return"[object Map]"===c(e)}function U(e){return"undefined"!=typeof Map&&(L.working?L(e):e instanceof Map)}function D(e){return"[object Set]"===c(e)}function C(e){return"undefined"!=typeof Set&&(D.working?D(e):e instanceof Set)}function x(e){return"[object WeakMap]"===c(e)}function P(e){return"undefined"!=typeof WeakMap&&(x.working?x(e):e instanceof WeakMap)}function M(e){return"[object WeakSet]"===c(e)}function k(e){return M(e)}function F(e){return"[object ArrayBuffer]"===c(e)}function j(e){return"undefined"!=typeof ArrayBuffer&&(F.working?F(e):e instanceof ArrayBuffer)}function V(e){return"[object DataView]"===c(e)}function B(e){return"undefined"!=typeof DataView&&(V.working?V(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=v,t.isArrayBufferView=m,t.isUint8Array=E,t.isUint8ClampedArray=b,t.isUint16Array=_,t.isUint32Array=I,t.isInt8Array=O,t.isInt16Array=R,t.isInt32Array=w,t.isFloat32Array=S,t.isFloat64Array=T,t.isBigInt64Array=A,t.isBigUint64Array=N,L.working="undefined"!=typeof Map&&L(new Map),t.isMap=U,D.working="undefined"!=typeof Set&&D(new Set),t.isSet=C,x.working="undefined"!=typeof WeakMap&&x(new WeakMap),t.isWeakMap=P,M.working="undefined"!=typeof WeakSet&&M(new WeakSet),t.isWeakSet=k,F.working="undefined"!=typeof ArrayBuffer&&F(new ArrayBuffer),t.isArrayBuffer=j,V.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&V(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=B;var G="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function z(e){return"[object SharedArrayBuffer]"===c(e)}function q(e){return void 0!==G&&(void 0===z.working&&(z.working=z(new G)),z.working?z(e):e instanceof G)}function K(e){return"[object AsyncFunction]"===c(e)}function H(e){return"[object Map Iterator]"===c(e)}function W(e){return"[object Set Iterator]"===c(e)}function Y(e){return"[object Generator]"===c(e)}function Z(e){return"[object WebAssembly.Module]"===c(e)}function X(e){return y(e,f)}function $(e){return y(e,d)}function J(e){return y(e,p)}function Q(e){return u&&y(e,h)}function ee(e){return l&&y(e,g)}function et(e){return X(e)||$(e)||J(e)||Q(e)||ee(e)}function er(e){return"undefined"!=typeof Uint8Array&&(j(e)||q(e))}t.isSharedArrayBuffer=q,t.isAsyncFunction=K,t.isMapIterator=H,t.isSetIterator=W,t.isGeneratorObject=Y,t.isWebAssemblyCompiledModule=Z,t.isNumberObject=X,t.isStringObject=$,t.isBooleanObject=J,t.isBigIntObject=Q,t.isSymbolObject=ee,t.isBoxedPrimitive=et,t.isAnyArrayBuffer=er,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},85508:function(e,t,r){var n=r(40257),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!R(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])_(s)||!A(s)?a+=" "+s:a+=" "+l(s);return a},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if(n.env.NODE_DEBUG){var u=n.env.NODE_DEBUG;s=RegExp("^"+(u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function l(e,r){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(r)?n.showHidden=r:r&&t._extend(n,r),S(n.showHidden)&&(n.showHidden=!1),S(n.depth)&&(n.depth=2),S(n.colors)&&(n.colors=!1),S(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),p(n,e,n.depth)}function c(e,t){var r=l.styles[t];return r?"\x1b["+l.colors[r][0]+"m"+e+"\x1b["+l.colors[r][1]+"m":e}function f(e,t){return e}function d(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,r,n){if(e.customInspect&&r&&U(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i,o=r.inspect(n,e);return R(o)||(o=p(e,o,n)),o}var a=h(e,r);if(a)return a;var s=Object.keys(r),u=d(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),L(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return g(r);if(0===s.length){if(U(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(T(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(N(r))return e.stylize(Date.prototype.toString.call(r),"date");if(L(r))return g(r)}var c="",f=!1,b=["{","}"];return(E(r)&&(f=!0,b=["[","]"]),U(r)&&(c=" [Function"+(r.name?": "+r.name:"")+"]"),T(r)&&(c=" "+RegExp.prototype.toString.call(r)),N(r)&&(c=" "+Date.prototype.toUTCString.call(r)),L(r)&&(c=" "+g(r)),0!==s.length||f&&0!=r.length)?n<0?T(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),i=f?y(e,r,n,u,s):s.map(function(t){return v(e,r,n,u,t,f)}),e.seen.pop(),m(i,c,b)):b[0]+c+b[1]}function h(e,t){if(S(t))return e.stylize("undefined","undefined");if(R(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return O(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function g(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)k(t,String(a))?o.push(v(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(v(e,t,r,n,i,!0))}),o}function v(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),k(n,i)||(a="["+i+"]"),!s&&(0>e.seen.indexOf(u.value)?(s=_(r)?p(e,u.value,null):p(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),S(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function m(e,t,r){var n=0;return e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function E(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function _(e){return null===e}function I(e){return null==e}function O(e){return"number"==typeof e}function R(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function S(e){return void 0===e}function T(e){return A(e)&&"[object RegExp]"===C(e)}function A(e){return"object"==typeof e&&null!==e}function N(e){return A(e)&&"[object Date]"===C(e)}function L(e){return A(e)&&("[object Error]"===C(e)||e instanceof Error)}function U(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function C(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()]){if(s.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){}}return a[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(83075),t.isArray=E,t.isBoolean=b,t.isNull=_,t.isNullOrUndefined=I,t.isNumber=O,t.isString=R,t.isSymbol=w,t.isUndefined=S,t.isRegExp=T,t.types.isRegExp=T,t.isObject=A,t.isDate=N,t.types.isDate=N,t.isError=L,t.types.isNativeError=L,t.isFunction=U,t.isPrimitive=D,t.isBuffer=r(18749);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=r(56853),t._extend=function(e,t){if(!t||!A(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var F="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function j(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function V(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,t).then(function(e){n.nextTick(a.bind(null,null,e))},function(e){n.nextTick(j.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(F&&e[F]){var t=e[F];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),F&&Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=F,t.callbackify=V},49360:function(e,t,r){"use strict";let n;r.d(t,{Z:function(){return l}});var i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}let s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function u(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}var l=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return u(n)}},93790:function(e,t,r){"use strict";var n=r(27660),i=r(77509),o=r(23837),a=r(50297),s=o("Object.prototype.toString"),u=r(50212)(),l="undefined"==typeof globalThis?r.g:globalThis,c=i(),f=o("String.prototype.slice"),d={},p=Object.getPrototypeOf;u&&a&&p&&n(c,function(e){if("function"==typeof l[e]){var t=new l[e];if(Symbol.toStringTag in t){var r=p(t),n=a(r,Symbol.toStringTag);n||(n=a(p(r),Symbol.toStringTag)),d[e]=n.get}}});var h=function(e){var t=!1;return n(d,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t},g=r(87688);e.exports=function(e){return!!g(e)&&(u&&Symbol.toStringTag in e?h(e):f(s(e),8,-1))}},67455:function(){},65146:function(){},61714:function(){},77509:function(e,t,r){"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},13472:function(e,t,r){"use strict";r.d(t,{H0:function(){return n},wZ:function(){return i}});let n="#444d59",i="#f5f5f5"},35383:function(e,t,r){"use strict";r.d(t,{OL:function(){return n},hp:function(){return i}});let n="1.4rem",i="2.4rem"},68196:function(e,t,r){"use strict";r.d(t,{IZ:function(){return a},Ig:function(){return o},TU:function(){return s},Yf:function(){return i},r8:function(){return l},so:function(){return n},tj:function(){return u}});let n="#252b33",i="#ffffff",o="#cccccc",a="#edd9ff",s="#7a04dd",u="#1667d9",l="#003499"},7291:function(e,t,r){"use strict";r.d(t,{u:function(){return rH}});var n,i,o,a=r(2265),s=r(54887),u=r(68196),l=r(44994),c=r(61994);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}function p(...e){return t=>e.forEach(e=>d(e,t))}var h=(0,a.forwardRef)((e,t)=>{let{children:r,...n}=e,i=a.Children.toArray(r),o=i.find(v);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):(0,a.isValidElement)(e)?e.props.children:null);return(0,a.createElement)(g,f({},n,{ref:t}),(0,a.isValidElement)(e)?(0,a.cloneElement)(e,void 0,r):null)}return(0,a.createElement)(g,f({},n,{ref:t}),r)});h.displayName="Slot";var g=(0,a.forwardRef)((e,t)=>{let{children:r,...n}=e;return(0,a.isValidElement)(r)?(0,a.cloneElement)(r,{...m(n,r.props),ref:t?p(t,r.ref):r.ref}):a.Children.count(r)>1?a.Children.only(null):null});g.displayName="SlotClone";var y=({children:e})=>(0,a.createElement)(a.Fragment,null,e);function v(e){return(0,a.isValidElement)(e)&&e.type===y}function m(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function E(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}var b=a.createContext(null),_=()=>{let e=(0,a.useContext)(b);if(!e)throw Error("FloatingContext is not initialised");return e},I=a.forwardRef((e,t)=>{let{setOpen:r}=_(),n=e.asChild?h:"button";return a.createElement(n,{type:"button",...e,ref:t,onClick:E(e.onClick,()=>r(!1))})});function O(e){return S(e)?(e.nodeName||"").toLowerCase():"#document"}function R(e){var t;return(null==e?void 0:null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function w(e){var t;return null==(t=(S(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function S(e){return e instanceof Node||e instanceof R(e).Node}function T(e){return e instanceof Element||e instanceof R(e).Element}function A(e){return e instanceof HTMLElement||e instanceof R(e).HTMLElement}function N(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof R(e).ShadowRoot)}function L(e){return["html","body","#document"].includes(O(e))}function U(e){return R(e).getComputedStyle(e)}function D(e){if("html"===O(e))return e;let t=e.assignedSlot||e.parentNode||N(e)&&e.host||w(e);return N(t)?t.host:t}function C(e){let t=e.activeElement;for(;(null==(r=t)?void 0:null==(n=r.shadowRoot)?void 0:n.activeElement)!=null;){var r,n;t=t.shadowRoot.activeElement}return t}function x(e,t){if(!e||!t)return!1;let r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&N(r)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function P(){let e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function M(){let e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function k(e){return 0===e.mozInputSource&&!!e.isTrusted||(V()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function F(e){return!V()&&0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function j(){return/apple/i.test(navigator.vendor)}function V(){let e=/android/i;return e.test(P())||e.test(M())}function B(e,t){let r=["mouse","pen"];return t||r.push("",void 0),r.includes(e)}function G(e){return"nativeEvent"in e}function z(e){return e.matches("html,body")}function q(e){return(null==e?void 0:e.ownerDocument)||document}function K(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);let r=e;return null!=r.target&&t.contains(r.target)}function H(e){return"composedPath"in e?e.composedPath()[0]:e.target}var W="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Y(e){return A(e)&&e.matches(W)}function Z(e){e.preventDefault(),e.stopPropagation()}var X=Math.min,$=Math.max,J=Math.round,Q=Math.floor,ee=e=>({x:e,y:e}),et={left:"right",right:"left",bottom:"top",top:"bottom"},er={start:"end",end:"start"};function en(e,t,r){return $(e,X(t,r))}function ei(e,t){return"function"==typeof e?e(t):e}function eo(e){return e.split("-")[0]}function ea(e){return e.split("-")[1]}function es(e){return"x"===e?"y":"x"}function eu(e){return"y"===e?"height":"width"}function el(e){return["top","bottom"].includes(eo(e))?"y":"x"}function ec(e){return es(el(e))}function ef(e,t,r){void 0===r&&(r=!1);let n=ea(e),i=ec(e),o=eu(i),a="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=ey(a)),[a,ey(a)]}function ed(e){let t=ey(e);return[ep(e),t,ep(t)]}function ep(e){return e.replace(/start|end/g,e=>er[e])}function eh(e,t,r){let n=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":if(r)return t?i:n;return t?n:i;case"left":case"right":return t?o:a;default:return[]}}function eg(e,t,r,n){let i=ea(e),o=eh(eo(e),"start"===r,n);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(ep)))),o}function ey(e){return e.replace(/left|right|bottom|top/g,e=>et[e])}function ev(e){return{top:0,right:0,bottom:0,left:0,...e}}function em(e){return"number"!=typeof e?ev(e):{top:e,right:e,bottom:e,left:e}}function eE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function eb(e,t,r){let n,{reference:i,floating:o}=e,a=el(t),s=ec(t),u=eu(s),l=eo(t),c="y"===a,f=i.x+i.width/2-o.width/2,d=i.y+i.height/2-o.height/2,p=i[u]/2-o[u]/2;switch(l){case"top":n={x:f,y:i.y-o.height};break;case"bottom":n={x:f,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:d};break;case"left":n={x:i.x-o.width,y:d};break;default:n={x:i.x,y:i.y}}switch(ea(t)){case"start":n[s]-=p*(r&&c?-1:1);break;case"end":n[s]+=p*(r&&c?-1:1)}return n}var e_=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),u=await (null==a.isRTL?void 0:a.isRTL(t)),l=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=eb(l,n,u),d=n,p={},h=0;for(let r=0;r<s.length;r++){let{name:o,fn:g}=s[r],{x:y,y:v,data:m,reset:E}=await g({x:c,y:f,initialPlacement:n,placement:d,strategy:i,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});if(c=null!=y?y:c,f=null!=v?v:f,p={...p,[o]:{...p[o],...m}},E&&h<=50){h++,"object"==typeof E&&(E.placement&&(d=E.placement),E.rects&&(l=!0===E.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=eb(l,d,u)),r=-1;continue}}return{x:c,y:f,placement:d,strategy:i,middlewareData:p}};async function eI(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:a,elements:s,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=ei(t,e),h=em(p),g="floating"===f?"reference":"floating",y=s[d?g:f],v=eE(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(y)))||r?y:y.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:u})),m="floating"===f?{...a.floating,x:n,y:i}:a.reference,E=await (null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),b=await (null==o.isElement?void 0:o.isElement(E))&&await (null==o.getScale?void 0:o.getScale(E))||{x:1,y:1},_=eE(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m,offsetParent:E,strategy:u}):m);return{top:(v.top-_.top+h.top)/b.y,bottom:(_.bottom-v.bottom+h.bottom)/b.y,left:(v.left-_.left+h.left)/b.x,right:(_.right-v.right+h.right)/b.x}}var eO=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:u}=t,{element:l,padding:c=0}=ei(e,t)||{};if(null==l)return{};let f=em(c),d={x:r,y:n},p=ec(i),h=eu(p),g=await a.getDimensions(l),y="y"===p,v=y?"top":"left",m=y?"bottom":"right",E=y?"clientHeight":"clientWidth",b=o.reference[h]+o.reference[p]-d[p]-o.floating[h],_=d[p]-o.reference[p],I=await (null==a.getOffsetParent?void 0:a.getOffsetParent(l)),O=I?I[E]:0;O&&await (null==a.isElement?void 0:a.isElement(I))||(O=s.floating[E]||o.floating[h]);let R=b/2-_/2,w=O/2-g[h]/2-1,S=X(f[v],w),T=X(f[m],w),A=S,N=O-g[h]-T,L=O/2-g[h]/2+R,U=en(A,L,N),D=!u.arrow&&null!=ea(i)&&L!=U&&o.reference[h]/2-(L<A?S:T)-g[h]/2<0,C=D?L<A?L-A:L-N:0;return{[p]:d[p]+C,data:{[p]:U,centerOffset:L-U-C,...D&&{alignmentOffset:C}},reset:D}}}),eR=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,i,o,a;let{placement:s,middlewareData:u,rects:l,initialPlacement:c,platform:f,elements:d}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...E}=ei(e,t);if(null!=(r=u.arrow)&&r.alignmentOffset)return{};let b=eo(s),_=eo(c)===c,I=await (null==f.isRTL?void 0:f.isRTL(d.floating)),O=g||(_||!m?[ey(c)]:ed(c));g||"none"===v||O.push(...eg(c,m,v,I));let R=[c,...O],w=await eI(t,E),S=[],T=(null==(n=u.flip)?void 0:n.overflows)||[];if(p&&S.push(w[b]),h){let e=ef(s,l,I);S.push(w[e[0]],w[e[1]])}if(T=[...T,{placement:s,overflows:S}],!S.every(e=>e<=0)){let e=((null==(i=u.flip)?void 0:i.index)||0)+1,t=R[e];if(t)return{data:{index:e,overflows:T},reset:{placement:t}};let r=null==(o=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!r)switch(y){case"bestFit":{let e=null==(a=T.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(r=e);break}case"initialPlacement":r=c}if(s!==r)return{reset:{placement:r}}}return{}}}};async function ew(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),a=eo(r),s=ea(r),u="y"===el(r),l=["left","top"].includes(a)?-1:1,c=o&&u?-1:1,f=ei(t,e),{mainAxis:d,crossAxis:p,alignmentAxis:h}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),u?{x:p*c,y:d*l}:{x:d*l,y:p*c}}var eS=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){let{x:r,y:n}=t,i=await ew(t,e);return{x:r+i.x,y:n+i.y,data:i}}}},eT=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...u}=ei(e,t),l={x:r,y:n},c=await eI(t,u),f=el(eo(i)),d=es(f),p=l[d],h=l[f];if(o){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=p+c[e],n=p-c[t];p=en(r,p,n)}if(a){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=h+c[e],n=h-c[t];h=en(r,h,n)}let g=s.fn({...t,[d]:p,[f]:h});return{...g,data:{x:g.x-r,y:g.y-n}}}}};function eA(e){return eU(e)?(e.nodeName||"").toLowerCase():"#document"}function eN(e){var t;return(null==e?void 0:null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eL(e){var t;return null==(t=(eU(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eU(e){return e instanceof Node||e instanceof eN(e).Node}function eD(e){return e instanceof Element||e instanceof eN(e).Element}function eC(e){return e instanceof HTMLElement||e instanceof eN(e).HTMLElement}function ex(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof eN(e).ShadowRoot)}function eP(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=eB(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function eM(e){return["table","td","th"].includes(eA(e))}function ek(e){let t=ej(),r=eB(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function eF(e){let t=ez(e);for(;eC(t)&&!eV(t);){if(ek(t))return t;t=ez(t)}return null}function ej(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function eV(e){return["html","body","#document"].includes(eA(e))}function eB(e){return eN(e).getComputedStyle(e)}function eG(e){return eD(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ez(e){if("html"===eA(e))return e;let t=e.assignedSlot||e.parentNode||ex(e)&&e.host||eL(e);return ex(t)?t.host:t}function eq(e){let t=ez(e);return eV(t)?e.ownerDocument?e.ownerDocument.body:e.body:eC(t)&&eP(t)?t:eq(t)}function eK(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=eq(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),a=eN(i);return o?t.concat(a,a.visualViewport||[],eP(i)?i:[],a.frameElement&&r?eK(a.frameElement):[]):t.concat(i,eK(i,[],r))}function eH(e){let t=eB(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=eC(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=J(r)!==o||J(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function eW(e){return eD(e)?e:e.contextElement}function eY(e){let t=eW(e);if(!eC(t))return ee(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=eH(t),a=(o?J(r.width):r.width)/n,s=(o?J(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}var eZ=ee(0);function eX(e){let t=eN(e);return ej()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:eZ}function e$(e,t,r){return void 0===t&&(t=!1),!!r&&(!t||r===eN(e))&&t}function eJ(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);let i=e.getBoundingClientRect(),o=eW(e),a=ee(1);t&&(n?eD(n)&&(a=eY(n)):a=eY(e));let s=e$(o,r,n)?eX(o):ee(0),u=(i.left+s.x)/a.x,l=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){let e=eN(o),t=n&&eD(n)?eN(n):n,r=e.frameElement;for(;r&&n&&t!==e;){let e=eY(r),t=r.getBoundingClientRect(),n=eB(r),i=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;u*=e.x,l*=e.y,c*=e.x,f*=e.y,u+=i,l+=o,r=eN(r).frameElement}}return eE({width:c,height:f,x:u,y:l})}function eQ(e){return eJ(eL(e)).left+eG(e).scrollLeft}function e0(e){let t=eL(e),r=eG(e),n=e.ownerDocument.body,i=$(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=$(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+eQ(e),s=-r.scrollTop;return"rtl"===eB(n).direction&&(a+=$(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function e1(e,t){let r=eN(e),n=eL(e),i=r.visualViewport,o=n.clientWidth,a=n.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;let e=ej();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s,y:u}}function e2(e,t){let r=eJ(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=eC(e)?eY(e):ee(1),a=e.clientWidth*o.x;return{width:a,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}function e5(e,t,r){let n;if("viewport"===t)n=e1(e,r);else if("document"===t)n=e0(eL(e));else if(eD(t))n=e2(t,r);else{let r=eX(e);n={...t,x:t.x-r.x,y:t.y-r.y}}return eE(n)}function e4(e,t){let r=ez(e);return!(r===t||!eD(r)||eV(r))&&("fixed"===eB(r).position||e4(r,t))}function e6(e,t){let r=t.get(e);if(r)return r;let n=eK(e,[],!1).filter(e=>eD(e)&&"body"!==eA(e)),i=null,o="fixed"===eB(e).position,a=o?ez(e):e;for(;eD(a)&&!eV(a);){let t=eB(a),r=ek(a);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&["absolute","fixed"].includes(i.position)||eP(a)&&!r&&e4(e,a))?n=n.filter(e=>e!==a):i=t,a=ez(a)}return t.set(e,n),n}function e3(e,t,r){let n=eC(t),i=eL(t),o="fixed"===r,a=eJ(e,!0,o,t),s={scrollLeft:0,scrollTop:0},u=ee(0);if(n||!n&&!o){if(("body"!==eA(t)||eP(i))&&(s=eG(t)),n){let e=eJ(t,!0,o,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=eQ(i))}return{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function e8(e,t){return eC(e)&&"fixed"!==eB(e).position?t?t(e):e.offsetParent:null}function e9(e,t){let r=eN(e);if(!eC(e))return r;let n=e8(e,t);for(;n&&eM(n)&&"static"===eB(n).position;)n=e8(n,t);return n&&("html"===eA(n)||"body"===eA(n)&&"static"===eB(n).position&&!ek(n))?r:n||eF(e)||r}var e7=async function(e){let{reference:t,floating:r,strategy:n}=e,i=this.getOffsetParent||e9,o=this.getDimensions;return{reference:e3(t,await i(r),n),floating:{x:0,y:0,...await o(r)}}},te={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:r,strategy:n}=e,i=eC(r),o=eL(r);if(r===o)return t;let a={scrollLeft:0,scrollTop:0},s=ee(1),u=ee(0);if((i||!i&&"fixed"!==n)&&(("body"!==eA(r)||eP(o))&&(a=eG(r)),eC(r))){let e=eJ(r);s=eY(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+u.x,y:t.y*s.y-a.scrollTop*s.y+u.y}},getDocumentElement:eL,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,o=[..."clippingAncestors"===r?e6(t,this._c):[].concat(r),n],a=o[0],s=o.reduce((e,r)=>{let n=e5(t,r,i);return e.top=$(n.top,e.top),e.right=X(n.right,e.right),e.bottom=X(n.bottom,e.bottom),e.left=$(n.left,e.left),e},e5(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:e9,getElementRects:e7,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return eH(e)},getScale:eY,isElement:eD,isRTL:function(e){return"rtl"===eB(e).direction}};function tt(e,t){let r,n=null,i=eL(e);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function a(s,u){void 0===s&&(s=!1),void 0===u&&(u=1),o();let{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;let p=Q(c),h={rootMargin:-p+"px "+-Q(i.clientWidth-(l+f))+"px "+-Q(i.clientHeight-(c+d))+"px "+-Q(l)+"px",threshold:$(0,X(1,u))||1},g=!0;function y(e){let t=e[0].intersectionRatio;if(t!==u){if(!g)return a();t?a(!1,t):r=setTimeout(()=>{a(!1,1e-7)},100)}g=!1}try{n=new IntersectionObserver(y,{...h,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(y,h)}n.observe(e)}return a(!0),o}function tr(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=eW(e),f=o||a?[...c?eK(c):[],...eK(t)]:[];f.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});let d=c&&u?tt(c,r):null,p=-1,h=null;s&&(h=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{h&&h.observe(t)})),r()}),c&&!l&&h.observe(c),h.observe(t));let g=l?eJ(e):null;function y(){let t=eJ(e);g&&(t.x!==g.x||t.y!==g.y||t.width!==g.width||t.height!==g.height)&&r(),g=t,i=requestAnimationFrame(y)}return l&&y(),r(),()=>{f.forEach(e=>{o&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(i)}}var tn=(e,t,r)=>{let n=new Map,i={platform:te,...r},o={...i.platform,_c:n};return e_(e,t,{...i,platform:o})},ti=e=>{function t(e){return({}).hasOwnProperty.call(e,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:i}="function"==typeof e?e(r):e;if(n&&t(n)){if(null!=n.current)return eO({element:n.current,padding:i}).fn(r)}else if(n)return eO({element:n,padding:i}).fn(r);return{}}}},to="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;function ta(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!ta(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!ta(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function ts(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tu(e,t){let r=ts(e);return Math.round(t*r)/r}function tl(e){let t=a.useRef(e);return to(()=>{t.current=e}),t}function tc(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:u}={},transform:l=!0,whileElementsMounted:c,open:f}=e,[d,p]=a.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=a.useState(n);ta(h,n)||g(n);let[y,v]=a.useState(null),[m,E]=a.useState(null),b=a.useCallback(e=>{e!=R.current&&(R.current=e,v(e))},[v]),_=a.useCallback(e=>{e!==w.current&&(w.current=e,E(e))},[E]),I=o||y,O=u||m,R=a.useRef(null),w=a.useRef(null),S=a.useRef(d),T=tl(c),A=tl(i),N=a.useCallback(()=>{if(!R.current||!w.current)return;let e={placement:t,strategy:r,middleware:h};A.current&&(e.platform=A.current),tn(R.current,w.current,e).then(e=>{let t={...e,isPositioned:!0};L.current&&!ta(S.current,t)&&(S.current=t,s.flushSync(()=>{p(t)}))})},[h,t,r,A]);to(()=>{!1===f&&S.current.isPositioned&&(S.current.isPositioned=!1,p(e=>({...e,isPositioned:!1})))},[f]);let L=a.useRef(!1);to(()=>(L.current=!0,()=>{L.current=!1}),[]),to(()=>{if(I&&(R.current=I),O&&(w.current=O),I&&O){if(T.current)return T.current(I,O,N);N()}},[I,O,N,T]);let U=a.useMemo(()=>({reference:R,floating:w,setReference:b,setFloating:_}),[b,_]),D=a.useMemo(()=>({reference:I,floating:O}),[I,O]),C=a.useMemo(()=>{let e={position:r,left:0,top:0};if(!D.floating)return e;let t=tu(D.floating,d.x),n=tu(D.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...ts(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,l,D.floating,d.x,d.y]);return a.useMemo(()=>({...d,update:N,refs:U,elements:D,floatingStyles:C}),[d,N,U,D,C])}var tf='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',td="undefined"==typeof Element,tp=td?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,th=!td&&Element.prototype.getRootNode?function(e){var t;return null==e?void 0:null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},tg=function e(t,r){void 0===r&&(r=!0);var n,i=null==t?void 0:null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===i||"true"===i||r&&t&&e(t.parentNode)},ty=function(e){var t,r=null==e?void 0:null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===r||"true"===r},tv=function(e,t,r){if(tg(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(tf));return t&&tp.call(e,tf)&&n.unshift(e),n=n.filter(r)},tm=function e(t,r,n){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!tg(a,!1)){if("SLOT"===a.tagName){var s=a.assignedElements(),u=e(s.length?s:a.children,!0,n);n.flatten?i.push.apply(i,u):i.push({scopeParent:a,candidates:u})}else{tp.call(a,tf)&&n.filter(a)&&(r||!t.includes(a))&&i.push(a);var l=a.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(a),c=!tg(l,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(a));if(l&&c){var f=e(!0===l?a.children:l.children,!0,n);n.flatten?i.push.apply(i,f):i.push({scopeParent:a,candidates:f})}else o.unshift.apply(o,a.children)}}}return i},tE=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},tb=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ty(e))&&!tE(e)?0:e.tabIndex},t_=function(e,t){var r=tb(e);return r<0&&t&&!tE(e)?0:r},tI=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},tO=function(e){return"INPUT"===e.tagName},tR=function(e){return tO(e)&&"hidden"===e.type},tw=function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})},tS=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},tT=function(e){if(!e.name)return!0;var t,r=e.form||th(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=tS(t,e.form);return!i||i===e},tA=function(e){return tO(e)&&"radio"===e.type},tN=function(e){return tA(e)&&!tT(e)},tL=function(e){var t,r,n,i,o,a,s,u=e&&th(e),l=null===(t=u)||void 0===t?void 0:t.host,c=!1;if(u&&u!==e)for(c=!!(null!==(r=l)&&void 0!==r&&null!==(n=r.ownerDocument)&&void 0!==n&&n.contains(l)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!c&&l;)c=!!(null!==(a=l=null===(o=u=th(l))||void 0===o?void 0:o.host)&&void 0!==a&&null!==(s=a.ownerDocument)&&void 0!==s&&s.contains(l));return c},tU=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},tD=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=tp.call(e,"details>summary:first-of-type")?e.parentElement:e;if(tp.call(i,"details:not([open]) *"))return!0;if(r&&"full"!==r&&"legacy-full"!==r){if("non-zero-area"===r)return tU(e)}else{if("function"==typeof n){for(var o=e;e;){var a=e.parentElement,s=th(e);if(a&&!a.shadowRoot&&!0===n(a))return tU(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(tL(e))return!e.getClientRects().length;if("legacy-full"!==r)return!0}return!1},tC=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!tp.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1},tx=function(e,t){return!(t.disabled||tg(t)||tR(t)||tD(t,e)||tw(t)||tC(t))},tP=function(e,t){return!(tN(t)||0>tb(t))&&!!tx(e,t)},tM=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},tk=function e(t){var r=[],n=[];return t.forEach(function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=t_(a,o),u=o?e(t.candidates):a;0===s?o?r.push.apply(r,u):r.push(a):n.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:u})}),n.sort(tI).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(r)},tF=function(e,t){var r;return tk(r=(t=t||{}).getShadowRoot?tm([e],t.includeContainer,{filter:tP.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:tM}):tv(e,t.includeContainer,tP.bind(null,t)))};function tj(e){return a.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})},e)}var tV=0;function tB(e,t){void 0===t&&(t={});let{preventScroll:r=!1,cancelPrevious:n=!0,sync:i=!1}=t;n&&cancelAnimationFrame(tV);let o=()=>null==e?void 0:e.focus({preventScroll:r});i?o():tV=requestAnimationFrame(o)}var tG="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;function tz(){return(tz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var tq=!1,tK=0,tH=()=>"floating-ui-"+tK++;function tW(){let[e,t]=a.useState(()=>tq?tH():void 0);return tG(()=>{null==e&&t(tH())},[]),a.useEffect(()=>{tq||(tq=!0)},[]),e}var tY=(n||(n=r.t(a,2)))["useId".toString()]||tW,tZ=a.forwardRef(function(e,t){let{context:{placement:r,elements:{floating:n},middlewareData:{arrow:i}},width:o=14,height:s=7,tipRadius:u=0,strokeWidth:l=0,staticOffset:c,stroke:f,d,style:{transform:p,...h}={},...g}=e,y=tY();if(!n)return null;let v=(l*=2)/2,m=o/2*(-(u/8)+1),E=s/2*u/4,[b,_]=r.split("-"),I=te.isRTL(n),O=!!d,R="top"===b||"bottom"===b,w=c&&"end"===_?"bottom":"top",S=c&&"end"===_?"right":"left";c&&I&&(S="end"===_?"left":"right");let T=(null==i?void 0:i.x)!=null?c||i.x:"",A=(null==i?void 0:i.y)!=null?c||i.y:"",N=d||"M0,0 H"+o+" L"+(o-m)+","+(s-E)+(" Q"+o/2+","+s+" ")+m+","+(s-E)+" Z",L={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[b];return a.createElement("svg",tz({},g,{"aria-hidden":!0,ref:t,width:O?o:o+l,height:o,viewBox:"0 0 "+o+" "+(s>o?s:o),style:{position:"absolute",pointerEvents:"none",[S]:T,[w]:A,[b]:R||O?"100%":"calc(100% - "+l/2+"px)",transform:""+L+(null!=p?p:""),...h}}),l>0&&a.createElement("path",{clipPath:"url(#"+y+")",fill:"none",stroke:f,strokeWidth:l+(d?0:1),d:N}),a.createElement("path",{stroke:l&&!d?g.fill:"none",d:N}),a.createElement("clipPath",{id:y},a.createElement("rect",{x:-v,y:v*(O?-1:1),width:o+l,height:o})))});function tX(){let e=new Map;return{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==r))||[])}}}var t$=a.createContext(null),tJ=a.createContext(null),tQ=()=>{var e;return(null==(e=a.useContext(t$))?void 0:e.id)||null},t0=()=>a.useContext(tJ);function t1(e){return"data-floating-ui-"+e}function t2(e){let t=(0,a.useRef)(e);return tG(()=>{t.current=e}),t}var t5=t1("safe-polygon");function t4(e,t,r){return r&&!B(r)?0:"number"==typeof e?e:null==e?void 0:e[t]}function t6(e,t){void 0===t&&(t={});let{open:r,onOpenChange:n,dataRef:i,events:o,elements:{domReference:s,floating:u},refs:l}=e,{enabled:c=!0,delay:f=0,handleClose:d=null,mouseOnly:p=!1,restMs:h=0,move:g=!0}=t,y=t0(),v=tQ(),m=t2(d),E=t2(f),b=a.useRef(),_=a.useRef(),I=a.useRef(),O=a.useRef(),R=a.useRef(!0),w=a.useRef(!1),S=a.useRef(()=>{}),A=a.useCallback(()=>{var e;let t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t},[i]);a.useEffect(()=>{if(c)return o.on("dismiss",e),()=>{o.off("dismiss",e)};function e(){clearTimeout(_.current),clearTimeout(O.current),R.current=!0}},[c,o]),a.useEffect(()=>{if(!c||!m.current||!r)return;function e(e){A()&&n(!1,e)}let t=q(u).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[u,r,n,c,m,i,A]);let N=a.useCallback(function(e,t){void 0===t&&(t=!0);let r=t4(E.current,"close",b.current);r&&!I.current?(clearTimeout(_.current),_.current=setTimeout(()=>n(!1,e),r)):t&&(clearTimeout(_.current),n(!1,e))},[E,n]),L=a.useCallback(()=>{S.current(),I.current=void 0},[]),U=a.useCallback(()=>{if(w.current){let e=q(l.floating.current).body;e.style.pointerEvents="",e.removeAttribute(t5),w.current=!1}},[l]);return a.useEffect(()=>{if(c&&T(s)){let e=s;return r&&e.addEventListener("mouseleave",l),null==u||u.addEventListener("mouseleave",l),g&&e.addEventListener("mousemove",o,{once:!0}),e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",a),()=>{r&&e.removeEventListener("mouseleave",l),null==u||u.removeEventListener("mouseleave",l),g&&e.removeEventListener("mousemove",o),e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",a)}}function t(){return!!i.current.openEvent&&["click","mousedown"].includes(i.current.openEvent.type)}function o(e){if(clearTimeout(_.current),R.current=!1,p&&!B(b.current)||h>0&&0===t4(E.current,"open"))return;let t=t4(E.current,"open",b.current);t?_.current=setTimeout(()=>{n(!0,e)},t):n(!0,e)}function a(n){if(t())return;S.current();let i=q(u);if(clearTimeout(O.current),m.current){r||clearTimeout(_.current),I.current=m.current({...e,tree:y,x:n.clientX,y:n.clientY,onClose(){U(),L(),N(n)}});let t=I.current;i.addEventListener("mousemove",t),S.current=()=>{i.removeEventListener("mousemove",t)};return}"touch"===b.current&&x(u,n.relatedTarget)||N(n)}function l(r){t()||null==m.current||m.current({...e,tree:y,x:r.clientX,y:r.clientY,onClose(){U(),L(),N(r)}})(r)}},[s,u,c,e,p,h,g,N,L,U,n,r,y,E,m,i]),tG(()=>{var e,t,n;if(c&&r&&null!=(e=m.current)&&e.__options.blockPointerEvents&&A()){let e=q(u).body;if(e.setAttribute(t5,""),e.style.pointerEvents="none",w.current=!0,T(s)&&u){let e=s,r=null==y?void 0:null==(t=y.nodesRef.current.find(e=>e.id===v))?void 0:null==(n=t.context)?void 0:n.elements.floating;return r&&(r.style.pointerEvents=""),e.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{e.style.pointerEvents="",u.style.pointerEvents=""}}}},[c,r,v,u,s,y,m,i,A]),tG(()=>{r||(b.current=void 0,L(),U())},[r,L,U]),a.useEffect(()=>()=>{L(),clearTimeout(_.current),clearTimeout(O.current),U()},[c,s,L,U]),a.useMemo(()=>{if(!c)return{};function e(e){b.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(e){r||0===h||(clearTimeout(O.current),O.current=setTimeout(()=>{R.current||n(!0,e.nativeEvent)},h))}},floating:{onMouseEnter(){clearTimeout(_.current)},onMouseLeave(e){o.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),N(e.nativeEvent,!1)}}}},[o,c,h,r,n,N])}function t3(e,t){var r;let n=[],i=null==(r=e.find(e=>e.id===t))?void 0:r.parentId;for(;i;){let t=e.find(e=>e.id===i);i=null==t?void 0:t.parentId,t&&(n=n.concat(t))}return n}function t8(e,t){let r=e.filter(e=>{var r;return e.parentId===t&&(null==(r=e.context)?void 0:r.open)}),n=r;for(;n.length;)n=e.filter(e=>{var t;return null==(t=n)?void 0:t.some(t=>{var r;return e.parentId===t.id&&(null==(r=e.context)?void 0:r.open)})}),r=r.concat(n);return r}var t9=new WeakMap,t7=new WeakSet,re={},rt=0,rr=()=>"undefined"!=typeof HTMLElement&&"inert"in HTMLElement.prototype,rn=e=>e&&(e.host||rn(e.parentNode)),ri=(e,t)=>t.map(t=>{if(e.contains(t))return t;let r=rn(t);return e.contains(r)?r:null}).filter(e=>null!=e);function ro(e,t,r,n){let i="data-floating-ui-inert",o=n?"inert":r?"aria-hidden":null,a=ri(t,e),s=new Set,u=new Set(a),l=[];re[i]||(re[i]=new WeakMap);let c=re[i];function f(e){!(!e||s.has(e))&&(s.add(e),e.parentNode&&f(e.parentNode))}function d(e){!e||u.has(e)||Array.prototype.forEach.call(e.children,e=>{if(s.has(e))d(e);else{let t=o?e.getAttribute(o):null,r=null!==t&&"false"!==t,n=(t9.get(e)||0)+1,a=(c.get(e)||0)+1;t9.set(e,n),c.set(e,a),l.push(e),1===n&&r&&t7.add(e),1===a&&e.setAttribute(i,""),!r&&o&&e.setAttribute(o,"true")}})}return a.forEach(f),d(t),s.clear(),rt++,()=>{l.forEach(e=>{let t=(t9.get(e)||0)-1,r=(c.get(e)||0)-1;t9.set(e,t),c.set(e,r),t||(!t7.has(e)&&o&&e.removeAttribute(o),t7.delete(e)),r||e.removeAttribute(i)}),--rt||(t9=new WeakMap,t9=new WeakMap,t7=new WeakSet,re={})}}function ra(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);let n=q(e[0]).body;return ro(e.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,t,r)}var rs=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ru(e,t){let r=tF(e,rs());"prev"===t&&r.reverse();let n=r.indexOf(C(q(e)));return r.slice(n+1)[0]}function rl(){return ru(document.body,"next")}function rc(){return ru(document.body,"prev")}function rf(e,t){let r=t||e.currentTarget,n=e.relatedTarget;return!n||!x(r,n)}function rd(e){tF(e,rs()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function rp(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{let t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}var rh={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function rg(e){"Tab"===e.key&&(e.target,clearTimeout(i))}var ry=a.forwardRef(function(e,t){let[r,n]=a.useState();tG(()=>(j()&&n("button"),document.addEventListener("keydown",rg),()=>{document.removeEventListener("keydown",rg)}),[]);let i={ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,[t1("focus-guard")]:"",style:rh};return a.createElement("span",tz({},e,i))}),rv=a.createContext(null);function rm(e){let{id:t,root:r}=void 0===e?{}:e,[n,i]=a.useState(null),o=tY(),s=rb(),u=a.useMemo(()=>({id:t,root:r,portalContext:s,uniqueId:o}),[t,r,s,o]),l=a.useRef();return tG(()=>()=>{null==n||n.remove()},[n,u]),tG(()=>{if(l.current===u)return;l.current=u;let{id:e,root:t,portalContext:r,uniqueId:n}=u,o=e?document.getElementById(e):null,a=t1("portal");if(o){let e=document.createElement("div");e.id=n,e.setAttribute(a,""),o.appendChild(e),i(e)}else{let o=t||(null==r?void 0:r.portalNode);o&&!T(o)&&(o=o.current),o=o||document.body;let s=null;e&&((s=document.createElement("div")).id=e,o.appendChild(s));let u=document.createElement("div");u.id=n,u.setAttribute(a,""),(o=s||o).appendChild(u),i(u)}},[u]),n}function rE(e){let{children:t,id:r,root:n=null,preserveTabOrder:i=!0}=e,o=rm({id:r,root:n}),[u,l]=a.useState(null),c=a.useRef(null),f=a.useRef(null),d=a.useRef(null),p=a.useRef(null),h=!!u&&!u.modal&&u.open&&i&&!!(n||o);return a.useEffect(()=>{if(o&&i&&(null==u||!u.modal))return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&rf(e)&&("focusin"===e.type?rp:rd)(o)}},[o,i,null==u?void 0:u.modal]),a.createElement(rv.Provider,{value:a.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:f,beforeInsideRef:d,afterInsideRef:p,portalNode:o,setFocusManagerState:l}),[i,o])},h&&o&&a.createElement(ry,{"data-type":"outside",ref:c,onFocus:e=>{if(rf(e,o)){var t;null==(t=d.current)||t.focus()}else{let e=rc()||(null==u?void 0:u.refs.domReference.current);null==e||e.focus()}}}),h&&o&&a.createElement("span",{"aria-owns":o.id,style:rh}),o&&(0,s.createPortal)(t,o),h&&o&&a.createElement(ry,{"data-type":"outside",ref:f,onFocus:e=>{if(rf(e,o)){var t;null==(t=p.current)||t.focus()}else{let t=rl()||(null==u?void 0:u.refs.domReference.current);null==t||t.focus(),(null==u?void 0:u.closeOnFocusOut)&&(null==u||u.onOpenChange(!1,e.nativeEvent))}}}))}var rb=()=>a.useContext(rv),r_=a.forwardRef(function(e,t){return a.createElement("button",tz({},e,{type:"button",ref:t,tabIndex:-1,style:rh}))});function rI(e){let{context:t,children:r,disabled:n=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:u=!0,modal:l=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:f=!0}=e,{open:d,refs:p,nodeId:h,onOpenChange:g,events:y,dataRef:v,elements:{domReference:m,floating:E}}=t,b="number"==typeof s&&s<0,_=(null==m?void 0:m.getAttribute("role"))==="combobox"&&Y(m)&&b,I=!_&&l,O=!rr()||o,R=t2(i),w=t2(s),S=t2(u),T=t0(),N=rb(),L=a.useRef(null),U=a.useRef(null),D=a.useRef(!1),P=a.useRef(null),M=a.useRef(!1),k=null!=N,F=a.useCallback(function(e){return void 0===e&&(e=E),e?tF(e,rs()):[]},[E]),j=a.useCallback(e=>{let t=F(e);return R.current.map(e=>m&&"reference"===e?m:E&&"floating"===e?E:t).filter(Boolean).flat()},[m,E,R,F]);function V(e){return!n&&c&&I?a.createElement(r_,{ref:"start"===e?L:U,onClick:e=>g(!1,e.nativeEvent)},"string"==typeof c?c:"Dismiss"):null}a.useEffect(()=>{if(n||!I)return;function e(e){if("Tab"===e.key){x(E,C(q(E)))&&0===F().length&&!_&&Z(e);let t=j(),r=H(e);"reference"===R.current[0]&&r===m&&(Z(e),e.shiftKey?tB(t[t.length-1]):tB(t[1])),"floating"===R.current[1]&&r===E&&e.shiftKey&&(Z(e),tB(t[0]))}}let t=q(E);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[n,m,E,I,R,p,_,F,j]),a.useEffect(()=>{if(!n&&f&&E&&A(m))return m.addEventListener("focusout",t),m.addEventListener("pointerdown",e),I||E.addEventListener("focusout",t),()=>{m.removeEventListener("focusout",t),m.removeEventListener("pointerdown",e),I||E.removeEventListener("focusout",t)};function e(){M.current=!0,setTimeout(()=>{M.current=!1})}function t(e){let t=e.relatedTarget;queueMicrotask(()=>{let r=!(x(m,t)||x(E,t)||x(t,E)||x(null==N?void 0:N.portalNode,t)||null!=t&&t.hasAttribute(t1("focus-guard"))||T&&(t8(T.nodesRef.current,h).find(e=>{var r,n;return x(null==(r=e.context)?void 0:r.elements.floating,t)||x(null==(n=e.context)?void 0:n.elements.domReference,t)})||t3(T.nodesRef.current,h).find(e=>{var r,n;return(null==(r=e.context)?void 0:r.elements.floating)===t||(null==(n=e.context)?void 0:n.elements.domReference)===t})));t&&r&&!M.current&&t!==P.current&&(D.current=!0,g(!1,e))})}},[n,m,E,I,h,T,N,g,f]),a.useEffect(()=>{var e;if(n)return;let t=Array.from((null==N?void 0:null==(e=N.portalNode)?void 0:e.querySelectorAll("["+t1("portal")+"]"))||[]);if(E){let e=[E,...t,L.current,U.current,R.current.includes("reference")||_?m:null].filter(e=>null!=e),r=l||_?ra(e,O,!O):ra(e);return()=>{r()}}},[n,m,E,l,R,N,_,O]),tG(()=>{if(n||!E)return;let e=C(q(E));queueMicrotask(()=>{let t=j(E),r=w.current,n=("number"==typeof r?t[r]:r.current)||E,i=x(E,e);b||i||!d||tB(n,{preventScroll:n===E})})},[n,d,E,b,j,w]),tG(()=>{if(n||!E)return;let e=!1,t=q(E),r=C(t),i=v.current;function o(t){if("escapeKey"===t.type&&p.domReference.current&&(P.current=p.domReference.current),["referencePress","escapeKey"].includes(t.type))return;let r=t.data.returnFocus;"object"==typeof r?(D.current=!1,e=r.preventScroll):D.current=!r}return P.current=r,y.on("dismiss",o),()=>{y.off("dismiss",o);let r=C(t);(x(E,r)||T&&t8(T.nodesRef.current,h).some(e=>{var t;return x(null==(t=e.context)?void 0:t.elements.floating,r)})||i.openEvent&&["click","mousedown"].includes(i.openEvent.type))&&p.domReference.current&&(P.current=p.domReference.current),S.current&&A(P.current)&&!D.current&&tB(P.current,{cancelPrevious:!1,preventScroll:e})}},[n,E,S,v,p,y,T,h]),tG(()=>{if(!n&&N)return N.setFocusManagerState({modal:I,closeOnFocusOut:f,open:d,onOpenChange:g,refs:p}),()=>{N.setFocusManagerState(null)}},[n,N,I,d,g,p,f]),tG(()=>{if(n||!E||"function"!=typeof MutationObserver||b)return;let e=()=>{let e=E.getAttribute("tabindex");R.current.includes("floating")||C(q(E))!==p.domReference.current&&0===F().length?"0"!==e&&E.setAttribute("tabindex","0"):"-1"!==e&&E.setAttribute("tabindex","-1")};e();let t=new MutationObserver(e);return t.observe(E,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}},[n,E,p,R,F,b]);let B=!n&&O&&(k||I);return a.createElement(a.Fragment,null,B&&a.createElement(ry,{"data-type":"inside",ref:null==N?void 0:N.beforeInsideRef,onFocus:e=>{if(I){let e=j();tB("reference"===i[0]?e[0]:e[e.length-1])}else if(null!=N&&N.preserveTabOrder&&N.portalNode){if(D.current=!1,rf(e,N.portalNode)){let e=rl()||m;null==e||e.focus()}else{var t;null==(t=N.beforeOutsideRef.current)||t.focus()}}}}),!_&&V("start"),r,V("end"),B&&a.createElement(ry,{"data-type":"inside",ref:null==N?void 0:N.afterInsideRef,onFocus:e=>{if(I)tB(j()[0]);else if(null!=N&&N.preserveTabOrder&&N.portalNode){if(f&&(D.current=!0),rf(e,N.portalNode)){let e=rc()||m;null==e||e.focus()}else{var t;null==(t=N.afterOutsideRef.current)||t.focus()}}}}))}function rO(e){return A(e.target)&&"BUTTON"===e.target.tagName}function rR(e){return Y(e)}function rw(e,t){void 0===t&&(t={});let{open:r,onOpenChange:n,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:u="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:f=!0}=t,d=a.useRef(),p=a.useRef(!1);return a.useMemo(()=>s?{reference:{onPointerDown(e){d.current=e.pointerType},onMouseDown(e){0!==e.button||B(d.current,!0)&&c||"click"===u||(r&&l&&(!i.current.openEvent||"mousedown"===i.current.openEvent.type)?n(!1,e.nativeEvent):(e.preventDefault(),n(!0,e.nativeEvent)))},onClick(e){if("mousedown"===u&&d.current){d.current=void 0;return}B(d.current,!0)&&c||(r&&l&&(!i.current.openEvent||"click"===i.current.openEvent.type)?n(!1,e.nativeEvent):n(!0,e.nativeEvent))},onKeyDown(e){d.current=void 0,e.defaultPrevented||!f||rO(e)||(" "!==e.key||rR(o)||(e.preventDefault(),p.current=!0),"Enter"===e.key&&(r&&l?n(!1,e.nativeEvent):n(!0,e.nativeEvent)))},onKeyUp(e){!(e.defaultPrevented||!f||rO(e)||rR(o))&&" "===e.key&&p.current&&(p.current=!1,r&&l?n(!1,e.nativeEvent):n(!0,e.nativeEvent))}}}:{},[s,i,u,c,f,o,l,r,n])}var rS=(n||(n=r.t(a,2)))["useInsertionEffect".toString()]||(e=>e());function rT(e){let t=a.useRef(()=>{});return rS(()=>{t.current=e}),a.useCallback(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}var rA={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},rN={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},rL=e=>{var t,r;return{escapeKeyBubbles:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePressBubbles:"boolean"==typeof e?e:null==(r=null==e?void 0:e.outsidePress)||r}};function rU(e,t){void 0===t&&(t={});let{open:r,onOpenChange:n,events:i,nodeId:o,elements:{reference:s,domReference:u,floating:l},dataRef:c}=e,{enabled:f=!0,escapeKey:d=!0,outsidePress:p=!0,outsidePressEvent:h="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:v=!1,bubbles:m}=t,E=t0(),b=null!=tQ(),_=rT("function"==typeof p?p:()=>!1),I="function"==typeof p?_:p,O=a.useRef(!1),R=a.useRef(!1),{escapeKeyBubbles:w,outsidePressBubbles:S}=rL(m),N=rT(e=>{if(!r||!f||!d||"Escape"!==e.key)return;let t=E?t8(E.nodesRef.current,o):[];if(!w&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach(t=>{var r;if(null!=(r=t.context)&&r.open&&!t.context.dataRef.current.__escapeKeyBubbles){e=!1;return}}),!e)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),n(!1,G(e)?e.nativeEvent:e)}),C=rT(e=>{let t=O.current;O.current=!1;let r=R.current;if(R.current=!1,"click"===h&&r||t||"function"==typeof I&&!I(e))return;let a=H(e),s="["+t1("inert")+"]",c=q(l).querySelectorAll(s),f=T(a)?a:null;for(;f&&!L(f);){let e=D(f);if(e!==q(l).body&&T(e))f=e;else break}if(c.length&&T(a)&&!z(a)&&!x(a,l)&&Array.from(c).every(e=>!x(f,e)))return;if(A(a)&&l){let t=a.clientWidth>0&&a.scrollWidth>a.clientWidth,r=a.clientHeight>0&&a.scrollHeight>a.clientHeight,n=r&&e.offsetX>a.clientWidth;if(r&&"rtl"===U(a).direction&&(n=e.offsetX<=a.offsetWidth-a.clientWidth),n||t&&e.offsetY>a.clientHeight)return}let d=E&&t8(E.nodesRef.current,o).some(t=>{var r;return K(e,null==(r=t.context)?void 0:r.elements.floating)});if(K(e,l)||K(e,u)||d)return;let p=E?t8(E.nodesRef.current,o):[];if(p.length>0){let e=!0;if(p.forEach(t=>{var r;if(null!=(r=t.context)&&r.open&&!t.context.dataRef.current.__outsidePressBubbles){e=!1;return}}),!e)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:b?{preventScroll:!0}:k(e)||F(e)}}),n(!1,e)});return a.useEffect(()=>{if(!r||!f)return;function e(e){n(!1,e)}c.current.__escapeKeyBubbles=w,c.current.__outsidePressBubbles=S;let t=q(l);d&&t.addEventListener("keydown",N),I&&t.addEventListener(h,C);let i=[];return v&&(T(u)&&(i=eK(u)),T(l)&&(i=i.concat(eK(l))),!T(s)&&s&&s.contextElement&&(i=i.concat(eK(s.contextElement)))),(i=i.filter(e=>{var r;return e!==(null==(r=t.defaultView)?void 0:r.visualViewport)})).forEach(t=>{t.addEventListener("scroll",e,{passive:!0})}),()=>{d&&t.removeEventListener("keydown",N),I&&t.removeEventListener(h,C),i.forEach(t=>{t.removeEventListener("scroll",e)})}},[c,l,u,s,d,I,h,r,n,v,f,w,S,N,C]),a.useEffect(()=>{O.current=!1},[I,h]),a.useMemo(()=>f?{reference:{onKeyDown:N,[rA[y]]:e=>{g&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),n(!1,e.nativeEvent))}},floating:{onKeyDown:N,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[rN[h]]:()=>{O.current=!0}}}:{},[f,i,g,h,y,n,N])}function rD(e){var t;void 0===e&&(e={});let{open:r=!1,onOpenChange:n,nodeId:i}=e,[o,s]=a.useState(null),u=(null==(t=e.elements)?void 0:t.reference)||o,l=tc(e),c=t0(),f=rT((e,t)=>{e&&(p.current.openEvent=t),null==n||n(e,t)}),d=a.useRef(null),p=a.useRef({}),h=a.useState(()=>tX())[0],g=tY(),y=a.useCallback(e=>{let t=T(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l.refs.setReference(t)},[l.refs]),v=a.useCallback(e=>{(T(e)||null===e)&&(d.current=e,s(e)),(T(l.refs.reference.current)||null===l.refs.reference.current||null!==e&&!T(e))&&l.refs.setReference(e)},[l.refs]),m=a.useMemo(()=>({...l.refs,setReference:v,setPositionReference:y,domReference:d}),[l.refs,v,y]),E=a.useMemo(()=>({...l.elements,domReference:u}),[l.elements,u]),b=a.useMemo(()=>({...l,refs:m,elements:E,dataRef:p,nodeId:i,floatingId:g,events:h,open:r,onOpenChange:f}),[l,i,g,h,r,f,m,E]);return tG(()=>{let e=null==c?void 0:c.nodesRef.current.find(e=>e.id===i);e&&(e.context=b)}),a.useMemo(()=>({...l,context:b,refs:m,elements:E}),[l,m,E,b])}function rC(e,t){void 0===t&&(t={});let{open:r,onOpenChange:n,events:i,refs:o,elements:{floating:s,domReference:u}}=e,{enabled:l=!0,visibleOnly:c=!0}=t,f=a.useRef(!1),d=a.useRef(),p=a.useRef(!1);return a.useEffect(()=>{if(!l)return;let e=R(u);function t(){!r&&A(u)&&u===C(q(u))&&(f.current=!0)}function n(){p.current=!0}return e.addEventListener("blur",t),e.addEventListener("keydown",n,!0),()=>{e.removeEventListener("blur",t),e.removeEventListener("keydown",n,!0)}},[s,u,r,l]),a.useEffect(()=>{if(l)return i.on("dismiss",e),()=>{i.off("dismiss",e)};function e(e){("referencePress"===e.type||"escapeKey"===e.type)&&(f.current=!0)}},[i,l]),a.useEffect(()=>()=>{clearTimeout(d.current)},[]),a.useMemo(()=>l?{reference:{onPointerDown(){p.current=!1},onMouseLeave(){f.current=!1},onFocus(e){if(f.current)return;let t=H(e.nativeEvent);if(c&&T(t))try{if(j())throw Error();if(!t.matches(":focus-visible"))return}catch(e){if(!p.current&&!Y(t))return}n(!0,e.nativeEvent)},onBlur(e){f.current=!1;let t=e.relatedTarget,r=T(t)&&t.hasAttribute(t1("focus-guard"))&&"outside"===t.getAttribute("data-type");d.current=window.setTimeout(()=>{let i=C(u?u.ownerDocument:document);if(t||i!==u){if(x(o.floating.current,t)||x(u,t)||r)return;n(!1,e.nativeEvent)}})}}}:{},[l,c,u,o,n])}function rx(e,t,r){let n=new Map;return{..."floating"===r&&{tabIndex:-1},...e,...t.map(e=>e?e[r]:null).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[r,i]=t;if(0===r.indexOf("on")){if(n.has(r)||n.set(r,[]),"function"==typeof i){var o;null==(o=n.get(r))||o.push(i),e[r]=function(){for(var e,t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=n.get(r))?void 0:e.map(e=>e(...i)).find(e=>void 0!==e)}}}else e[r]=i}),e),{})}}function rP(e){void 0===e&&(e=[]);let t=e,r=a.useCallback(t=>rx(t,e,"reference"),t),n=a.useCallback(t=>rx(t,e,"floating"),t),i=a.useCallback(t=>rx(t,e,"item"),e.map(e=>null==e?void 0:e.item));return a.useMemo(()=>({getReferenceProps:r,getFloatingProps:n,getItemProps:i}),[r,n,i])}function rM(e,t){void 0===t&&(t={});let{open:r,floatingId:n}=e,{enabled:i=!0,role:o="dialog"}=t,s=tY();return a.useMemo(()=>{let e={id:n,role:o};return i?"tooltip"===o?{reference:{"aria-describedby":r?n:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":r?n:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:s}},floating:{...e,..."menu"===o&&{"aria-labelledby":s}}}:{}},[i,o,r,n,s])}function rk(e,t){let[r,n]=e,i=!1,o=t.length;for(let e=0,a=o-1;e<o;a=e++){let[o,s]=t[e]||[0,0],[u,l]=t[a]||[0,0];s>=n!=l>=n&&r<=(u-o)*(n-s)/(l-s)+o&&(i=!i)}return i}function rF(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function rj(e){let t;void 0===e&&(e={});let{buffer:r=.5,blockPointerEvents:n=!1,requireIntent:i=!0}=e,o=!1,a=null,s=null,u=performance.now();function l(e,t){let r=performance.now(),n=r-u;if(null===a||null===s||0===n)return a=e,s=t,u=r,null;let i=e-a,o=t-s,l=Math.sqrt(i*i+o*o)/n;return a=e,s=t,u=r,l}let c=e=>{let{x:n,y:a,placement:s,elements:u,onClose:c,nodeId:f,tree:d}=e;return function(e){function p(){clearTimeout(t),c()}if(clearTimeout(t),!u.domReference||!u.floating||null==s||null==n||null==a)return;let{clientX:h,clientY:g}=e,y=[h,g],v=H(e),m="mouseleave"===e.type,E=x(u.floating,v),b=x(u.domReference,v),_=u.domReference.getBoundingClientRect(),I=u.floating.getBoundingClientRect(),O=s.split("-")[0],R=n>I.right-I.width/2,w=a>I.bottom-I.height/2,S=rF(y,_),A=I.width>_.width,N=I.height>_.height,L=(A?_:I).left,U=(A?_:I).right,D=(N?_:I).top,C=(N?_:I).bottom;if(E&&(o=!0,!m))return;if(b&&(o=!1),b&&!m){o=!0;return}if(m&&T(e.relatedTarget)&&x(u.floating,e.relatedTarget)||d&&t8(d.nodesRef.current,f).some(e=>{let{context:t}=e;return null==t?void 0:t.open}))return;if("top"===O&&a>=_.bottom-1||"bottom"===O&&a<=_.top+1||"left"===O&&n>=_.right-1||"right"===O&&n<=_.left+1)return p();let P=[];switch(O){case"top":P=[[L,_.top+1],[L,I.bottom-1],[U,I.bottom-1],[U,_.top+1]];break;case"bottom":P=[[L,I.top+1],[L,_.bottom-1],[U,_.bottom-1],[U,I.top+1]];break;case"left":P=[[I.right-1,C],[I.right-1,D],[_.left+1,D],[_.left+1,C]];break;case"right":P=[[_.right-1,C],[_.right-1,D],[I.left+1,D],[I.left+1,C]]}function M(e){let[t,n]=e;switch(O){case"top":return[[A?t+r/2:R?t+4*r:t-4*r,n+r+1],[A?t-r/2:R?t+4*r:t-4*r,n+r+1],[I.left,R?I.bottom-r:A?I.bottom-r:I.top],[I.right,R?A?I.bottom-r:I.top:I.bottom-r]];case"bottom":return[[A?t+r/2:R?t+4*r:t-4*r,n-r],[A?t-r/2:R?t+4*r:t-4*r,n-r],[I.left,R?I.top+r:A?I.top+r:I.bottom],[I.right,R?A?I.top+r:I.bottom:I.top+r]];case"left":{let e=[t+r+1,N?n+r/2:w?n+4*r:n-4*r],i=[t+r+1,N?n-r/2:w?n+4*r:n-4*r];return[[w?I.right-r:N?I.right-r:I.left,I.top],[w?N?I.right-r:I.left:I.right-r,I.bottom],e,i]}case"right":return[[t-r,N?n+r/2:w?n+4*r:n-4*r],[t-r,N?n-r/2:w?n+4*r:n-4*r],[w?I.left+r:N?I.left+r:I.right,I.top],[w?N?I.left+r:I.right:I.left+r,I.bottom]]}}if(!rk([h,g],P)){if(o&&!S)return p();if(!m&&i){let t=l(e.clientX,e.clientY),r=.1;if(null!==t&&t<r)return p()}rk([h,g],M([n,a]))?!o&&i&&(t=window.setTimeout(p,40)):p()}}};return c.__options={blockPointerEvents:n},c}var rV=9,rB=a.forwardRef(({children:e,style:t,className:r,trapFocus:n=!0,arrowFill:i=u.Yf,arrowStroke:o=u.Ig,portalNodeId:s,...l},c)=>{let{context:f,refs:d,getFloatingProps:p,floatingStyles:h,arrowRef:g,withArrow:y}=_(),v=tj([d.setFloating,c]);return f.open?a.createElement(rE,{id:s},a.createElement(rI,{disabled:!n,context:f},a.createElement("div",{ref:v,style:{...t,...h},className:r,...l,...p()},y&&a.createElement(tZ,{width:16,height:rV,ref:g,context:f,fill:i,stroke:o,strokeWidth:1}),e))):null}),rG=null!=(o=parseInt(l.sizeSpacing01.replace("px","")))?o:4;function rz({withArrow:e,triggers:t,role:r,placement:n}){let[i,o]=(0,a.useState)(!1),s=(0,a.useRef)(null),u=rD({open:i,onOpenChange:o,placement:n,middleware:[eS(e?rG+rV:rG),eR(),eT(),e&&ti({element:s})],whileElementsMounted:tr}),l=[rU(u.context),rM(u.context,{role:null!=r?r:"dialog"})];(null==t?void 0:t.includes("click"))&&l.push(rw(u.context)),(null==t?void 0:t.includes("focus"))&&l.push(rC(u.context)),(null==t?void 0:t.includes("hover"))&&l.push(t6(u.context,{move:!1,handleClose:rj()}));let c=rP(l);return{...u,...c,isOpen:i,setOpen:o,arrowRef:s,withArrow:e}}var rq=({children:e,withArrow:t,triggers:r=["click"],role:n,placement:i})=>{let o=rz({withArrow:t,triggers:r,role:n,placement:i});return a.createElement(b.Provider,{value:o},e)},rK=a.forwardRef(({children:e,asChild:t,...r},n)=>{let{refs:i,getReferenceProps:o}=_(),s=tj([i.setReference,n]),u=t?h:"button";return a.createElement(u,{...r,ref:s,...o()},e)}),rH=({children:e,placement:t})=>a.createElement(rq,{withArrow:!0,triggers:["focus","hover"],role:"tooltip",placement:t},e),rW=a.forwardRef(({className:e,...t},r)=>a.createElement(rB,{...t,className:(0,c.Z)("cp-tooltip",e),ref:r,trapFocus:!1}));rH.Content=rW,rH.CloseTrigger=I,rH.Trigger=rK},85293:function(e,t,r){"use strict";r.d(t,{g7:function(){return s}});var n=r(2265);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function o(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}var a=r(57437),s=n.forwardRef((e,t)=>{let{children:r,...i}=e,o=n.Children.toArray(r),s=o.find(c);if(s){let e=s.props.children,r=o.map(t=>t!==s?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(u,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,a.jsx)(u,{...i,ref:t,children:r})});s.displayName="Slot";var u=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e=d(r),a=f(i,r.props);return r.type!==n.Fragment&&(a.ref=t?o(t,e):e),n.cloneElement(r,a)}return n.Children.count(r)>1?n.Children.only(null):null});u.displayName="SlotClone";var l=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});function c(e){return n.isValidElement(e)&&e.type===l}function f(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function d(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}},61994:function(e,t,r){"use strict";function n(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r);else for(t in e)e[t]&&(i&&(i+=" "),i+=t)}return i}function i(){for(var e,t,r=0,i="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}t.Z=i},67442:function(e,t,r){"use strict";function n(e){return"object"==typeof e&&null!==e}function i(e,t){if(!e)throw Error(null!=t?t:"Unexpected invariant triggered.")}r.d(t,{__:function(){return f}});let o=/\r\n|[\n\r]/g;function a(e,t){let r=0,n=1;for(let a of e.body.matchAll(o)){if("number"==typeof a.index||i(!1),a.index>=t)break;r=a.index+a[0].length,n+=1}return{line:n,column:t+1-r}}function s(e){return u(e.source,a(e.source,e.start))}function u(e,t){let r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?r:0,u=t.column+s,c=`${e.name}:${a}:${u}
`,f=n.split(/\r\n|[\n\r]/g),d=f[i];if(d.length>120){let e=Math.floor(u/80),t=u%80,r=[];for(let e=0;e<d.length;e+=80)r.push(d.slice(e,e+80));return c+l([[`${a} |`,r[0]],...r.slice(1,e+1).map(e=>["|",e]),["|","^".padStart(t)],["|",r[e+1]]])}return c+l([[`${a-1} |`,f[i-1]],[`${a} |`,d],["|","^".padStart(u)],[`${a+1} |`,f[i+1]]])}function l(e){let t=e.filter(([e,t])=>void 0!==t),r=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(r)+(t?" "+t:"")).join("\n")}function c(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class f extends Error{constructor(e,...t){var r,i,o;let{nodes:s,source:u,positions:l,path:p,originalError:h,extensions:g}=c(t);super(e),this.name="GraphQLError",this.path=null!=p?p:void 0,this.originalError=null!=h?h:void 0,this.nodes=d(Array.isArray(s)?s:s?[s]:void 0);let y=d(null===(r=this.nodes)||void 0===r?void 0:r.map(e=>e.loc).filter(e=>null!=e));this.source=null!=u?u:null==y?void 0:null===(i=y[0])||void 0===i?void 0:i.source,this.positions=null!=l?l:null==y?void 0:y.map(e=>e.start),this.locations=l&&u?l.map(e=>a(u,e)):null==y?void 0:y.map(e=>a(e.source,e.start));let v=n(null==h?void 0:h.extensions)?null==h?void 0:h.extensions:void 0;this.extensions=null!==(o=null!=g?g:v)&&void 0!==o?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=h&&h.stack?Object.defineProperty(this,"stack",{value:h.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,f):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let t of this.nodes)t.loc&&(e+="\n\n"+s(t.loc));else if(this.source&&this.locations)for(let t of this.locations)e+="\n\n"+u(this.source,t);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function d(e){return void 0===e||0===e.length?void 0:e}},14474:function(e,t,r){"use strict";r.d(t,{o:function(){return a}});class n extends Error{}function i(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function o(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{return i(t)}catch(e){return atob(t)}}function a(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let i=!0===t.header?0:1,a=e.split(".")[i];if("string"!=typeof a)throw new n(`Invalid token specified: missing part #${i+1}`);try{r=o(a)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${i+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${i+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"}}]);
//# sourceMappingURL=6930-9958a2660b72ea00.js.map